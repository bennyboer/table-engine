"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{794:(lu,Cm,et)=>{function le(n){return"function"==typeof n}function cu(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const uu=cu(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function pa(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(le(i))try{i()}catch(o){t=o instanceof uu?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Em(o)}catch(s){t=t??[],s instanceof uu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new uu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Em(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&pa(e,t)}remove(t){const{_finalizers:e}=this;e&&pa(e,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const bm=yt.EMPTY;function Dm(n){return n instanceof yt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function Em(n){le(n)?n():n.unsubscribe()}const Ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ma={setTimeout(n,t,...e){const{delegate:i}=ma;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ma;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Sm(n){ma.setTimeout(()=>{const{onUnhandledError:t}=Ki;if(!t)throw n;t(n)})}function ga(){}const J0=du("C",void 0,void 0);function du(n,t,e){return{kind:n,value:t,error:e}}let Yi=null;function _a(n){if(Ki.useDeprecatedSynchronousErrorHandling){const t=!Yi;if(t&&(Yi={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Yi;if(Yi=null,e)throw i}}else n()}class hu extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dm(t)&&t.add(this)):this.destination=sM}static create(t,e,i){return new zo(t,e,i)}next(t){this.isStopped?pu(function tM(n){return du("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?pu(function eM(n){return du("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?pu(J0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const iM=Function.prototype.bind;function fu(n,t){return iM.call(n,t)}class rM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ya(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ya(i)}else ya(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ya(e)}}}class zo extends hu{constructor(t,e,i){let r;if(super(),le(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Ki.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&fu(t.next,o),error:t.error&&fu(t.error,o),complete:t.complete&&fu(t.complete,o)}):r=t}this.destination=new rM(r)}}function ya(n){Ki.useDeprecatedSynchronousErrorHandling?function nM(n){Ki.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}(n):Sm(n)}function pu(n,t){const{onStoppedNotification:e}=Ki;e&&ma.setTimeout(()=>e(n,t))}const sM={closed:!0,next:ga,error:function oM(n){throw n},complete:ga},mu="function"==typeof Symbol&&Symbol.observable||"@@observable";function ni(n){return n}function Mm(n){return 0===n.length?ni:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Me=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function cM(n){return n&&n instanceof hu||function lM(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}(n)&&Dm(n)}(e)?e:new zo(e,i,r);return _a(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Rm(i))((r,o)=>{const s=new zo({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[mu](){return this}pipe(...e){return Mm(e)(this)}toPromise(e){return new(e=Rm(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Rm(n){var t;return null!==(t=n??Ki.Promise)&&void 0!==t?t:Promise}const uM=cu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let te=(()=>{class n extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Am(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new uM}next(e){_a(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){_a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){_a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?bm:(this.currentObservers=null,o.push(e),new yt(()=>{this.currentObservers=null,pa(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Me;return e.source=this,e}}return n.create=(t,e)=>new Am(t,e),n})();class Am extends te{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:bm}}function Tm(n){return le(n?.lift)}function Ie(n){return t=>{if(Tm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,t,e,i,r){return new dM(n,t,e,i,r)}class dM extends hu{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function F(n,t){return Ie((e,i)=>{let r=0;e.subscribe(ge(i,o=>{i.next(n.call(t,o,r++))}))})}function Zi(n){return this instanceof Zi?(this.v=n,this):new Zi(n)}function pM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(p,_){o.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Zi?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function mM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Om(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const _u=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Fm(n){return le(n?.then)}function km(n){return le(n[mu])}function Nm(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Lm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pm=function _M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vm(n){return le(n?.[Pm])}function Bm(n){return pM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Zi(e.read());if(r)return yield Zi(void 0);yield yield Zi(i)}}finally{e.releaseLock()}})}function Hm(n){return le(n?.getReader)}function ht(n){if(n instanceof Me)return n;if(null!=n){if(km(n))return function yM(n){return new Me(t=>{const e=n[mu]();if(le(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(_u(n))return function vM(n){return new Me(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Fm(n))return function wM(n){return new Me(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Sm)})}(n);if(Nm(n))return zm(n);if(Vm(n))return function CM(n){return new Me(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Hm(n))return function bM(n){return zm(Bm(n))}(n)}throw Lm(n)}function zm(n){return new Me(t=>{(function DM(n,t){var e,i,r,o;return function hM(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=mM(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ii(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function st(n,t,e=1/0){return le(t)?st((i,r)=>F((o,s)=>t(i,o,r,s))(ht(n(i,r))),e):("number"==typeof t&&(e=t),Ie((i,r)=>function EM(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=_=>c<i?p(_):l.push(_),p=_=>{o&&t.next(_),c++;let v=!1;ht(e(_,u++)).subscribe(ge(t,w=>{r?.(w),o?f(w):t.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){const w=l.shift();s?ii(t,s,()=>p(w)):p(w)}h()}catch(w){t.error(w)}}))};return n.subscribe(ge(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Ar(n=1/0){return st(ni,n)}const sn=new Me(n=>n.complete());function Um(n){return n&&le(n.schedule)}function yu(n){return n[n.length-1]}function va(n){return le(yu(n))?n.pop():void 0}function Uo(n){return Um(yu(n))?n.pop():void 0}function jm(n,t=0){return Ie((e,i)=>{e.subscribe(ge(i,r=>ii(i,n,()=>i.next(r),t),()=>ii(i,n,()=>i.complete(),t),r=>ii(i,n,()=>i.error(r),t)))})}function $m(n,t=0){return Ie((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Gm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Me(e=>{ii(e,t,()=>{const i=n[Symbol.asyncIterator]();ii(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function qe(n,t){return t?function OM(n,t){if(null!=n){if(km(n))return function RM(n,t){return ht(n).pipe($m(t),jm(t))}(n,t);if(_u(n))return function TM(n,t){return new Me(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Fm(n))return function AM(n,t){return ht(n).pipe($m(t),jm(t))}(n,t);if(Nm(n))return Gm(n,t);if(Vm(n))return function xM(n,t){return new Me(e=>{let i;return ii(e,t,()=>{i=n[Pm](),ii(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>le(i?.return)&&i.return()})}(n,t);if(Hm(n))return function IM(n,t){return Gm(Bm(n),t)}(n,t)}throw Lm(n)}(n,t):ht(n)}function Wm(...n){const t=Uo(n),e=function MM(n,t){return"number"==typeof yu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ht(i[0]):Ar(e)(qe(i,t)):sn}function qm(n={}){const{connector:t=(()=>new te),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const _=s;f(),_?.unsubscribe()};return Ie((_,v)=>{c++,!d&&!u&&h();const w=l=l??t();v.add(()=>{c--,0===c&&!d&&!u&&(a=vu(p,r))}),w.subscribe(v),!s&&c>0&&(s=new zo({next:D=>w.next(D),error:D=>{d=!0,h(),a=vu(f,e,D),w.error(D)},complete:()=>{u=!0,h(),a=vu(f,i),w.complete()}}),ht(_).subscribe(s))})(o)}}function vu(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new zo({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function be(n){for(let t in n)if(n[t]===be)return t;throw Error("Could not find renamed property on target object.")}function wu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Cu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const FM=be({__forward_ref__:be});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return De(this())},n}function j(n){return bu(n)?n():n}function bu(n){return"function"==typeof n&&n.hasOwnProperty(FM)&&n.__forward_ref__===fe}class E extends Error{constructor(t,e){super(function wa(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function G(n){return"string"==typeof n?n:null==n?"":String(n)}function Ca(n,t){throw new E(-201,!1)}function Gt(n,t){null==n&&function pe(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Du(n){return Km(n,ba)||Km(n,Zm)}function Km(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ym(n){return n&&(n.hasOwnProperty(Eu)||n.hasOwnProperty(zM))?n[Eu]:null}const ba=be({\u0275prov:be}),Eu=be({\u0275inj:be}),Zm=be({ngInjectableDef:be}),zM=be({ngInjectorDef:be});var B=(()=>((B=B||{})[B.Default=0]="Default",B[B.Host=1]="Host",B[B.Self=2]="Self",B[B.SkipSelf=4]="SkipSelf",B[B.Optional=8]="Optional",B))();let Su;function an(n){const t=Su;return Su=n,t}function Qm(n,t,e){const i=Du(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&B.Optional?null:void 0!==t?t:void Ca(De(n))}function Ri(n){return{toString:n}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),Dn=(()=>{return(n=Dn||(Dn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dn;var n})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tr={},he=[],Da=be({\u0275cmp:be}),Mu=be({\u0275dir:be}),Ru=be({\u0275pipe:be}),Xm=be({\u0275mod:be}),oi=be({\u0275fac:be}),jo=be({__NG_ELEMENT_ID__:be});let jM=0;function Ee(n){return Ri(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||he,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,id:"c"+jM++,styles:n.styles||he,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=tg(n.inputs,i),r.outputs=tg(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Jm).filter(eg):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Tt).filter(eg):null,r})}function Jm(n){return _e(n)||At(n)}function eg(n){return null!==n}const GM={};function ze(n){return Ri(()=>{const t={type:n.type,bootstrap:n.bootstrap||he,declarations:n.declarations||he,imports:n.imports||he,exports:n.exports||he,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(GM[n.id]=n.type),t})}function tg(n,t){if(null==n)return Tr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const V=Ee;function _e(n){return n[Da]||null}function At(n){return n[Mu]||null}function Tt(n){return n[Ru]||null}function Wt(n,t){const e=n[Xm]||null;if(!e&&!0===t)throw new Error(`Type ${De(n)} does not have '\u0275mod' property.`);return e}const Z=11;function Ht(n){return Array.isArray(n)&&"object"==typeof n[1]}function Sn(n){return Array.isArray(n)&&!0===n[1]}function xu(n){return 0!=(8&n.flags)}function Ra(n){return 2==(2&n.flags)}function Aa(n){return 1==(1&n.flags)}function Mn(n){return null!==n.template}function ZM(n){return 0!=(256&n[2])}function tr(n,t){return n.hasOwnProperty(oi)?n[oi]:null}class JM{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function xt(){return rg}function rg(n){return n.type.prototype.ngOnChanges&&(n.setInput=tR),eR}function eR(){const n=sg(this),t=n?.current;if(t){const e=n.previous;if(e===Tr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function tR(n,t,e,i){const r=sg(n)||function nR(n,t){return n[og]=t}(n,{previous:Tr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new JM(l&&l.currentValue,t,s===Tr),n[i]=t}xt.ngInherit=!0;const og="__ngSimpleChanges__";function sg(n){return n[og]||null}function Ze(n){for(;Array.isArray(n);)n=n[0];return n}function un(n,t){return Ze(t[n.index])}function Nu(n,t){return n.data[t]}function Kt(n,t){const e=t[n];return Ht(e)?e:e[0]}function ag(n){return 4==(4&n[2])}function Lu(n){return 64==(64&n[2])}function Ai(n,t){return null==t?null:n[t]}function lg(n){n[18]=0}function Pu(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const $={lFrame:_g(null),bindingsEnabled:!0};function ug(){return $.bindingsEnabled}function S(){return $.lFrame.lView}function ie(){return $.lFrame.tView}function xa(n){return $.lFrame.contextLView=n,n[8]}function Ia(n){return $.lFrame.contextLView=null,n}function tt(){let n=dg();for(;null!==n&&64===n.type;)n=n.parent;return n}function dg(){return $.lFrame.currentTNode}function Bn(n,t){const e=$.lFrame;e.currentTNode=n,e.isParent=t}function Vu(){return $.lFrame.isParent}function Bu(){$.lFrame.isParent=!1}function Nr(){return $.lFrame.bindingIndex++}function gR(n,t){const e=$.lFrame;e.bindingIndex=e.bindingRootIndex=n,Hu(t)}function Hu(n){$.lFrame.currentDirectiveIndex=n}function zu(n){const t=$.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function pg(){return $.lFrame.currentQueryIndex}function Uu(n){$.lFrame.currentQueryIndex=n}function yR(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function mg(n,t,e){if(e&B.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&B.Host||(r=yR(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=$.lFrame=gg();return i.currentTNode=t,i.lView=n,!0}function ju(n){const t=gg(),e=n[1];$.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function gg(){const n=$.lFrame,t=null===n?null:n.child;return null===t?_g(n):t}function _g(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function yg(){const n=$.lFrame;return $.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vg=yg;function $u(){const n=yg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ot(){return $.lFrame.selectedIndex}function Ti(n){$.lFrame.selectedIndex=n}function je(){const n=$.lFrame;return Nu(n.tView,n.selectedIndex)}function Fa(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function ka(n,t,e){wg(n,t,3,e)}function Na(n,t,e,i){(3&n[2])===e&&wg(n,t,e,i)}function Gu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function wg(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(RR(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function RR(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Ko{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function La(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];bg(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Cg(n){return 3===n||4===n||6===n}function bg(n){return 64===n.charCodeAt(0)}function Pa(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Dg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Dg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Eg(n){return-1!==n}function Lr(n){return 32767&n}function Pr(n,t){let e=function OR(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let qu=!0;function Va(n){const t=qu;return qu=n,t}let FR=0;const Hn={};function Zo(n,t){const e=Yu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Ku(i.data,n),Ku(t,null),Ku(i.blueprint,null));const r=Ba(n,t),o=n.injectorIndex;if(Eg(r)){const s=Lr(r),a=Pr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Ku(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Yu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ba(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=Fg(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ha(n,t,e){!function kR(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(jo)&&(i=e[jo]),null==i&&(i=e[jo]=FR++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Rg(n,t,e){if(e&B.Optional)return n;Ca()}function Ag(n,t,e,i){if(e&B.Optional&&void 0===i&&(i=null),0==(e&(B.Self|B.Host))){const r=n[9],o=an(void 0);try{return r?r.get(t,i,e&B.Optional):Qm(t,i,e&B.Optional)}finally{an(o)}}return Rg(i,0,e)}function Tg(n,t,e,i=B.Default,r){if(null!==n){if(1024&t[2]){const s=function BR(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=xg(o,s,e,i|B.Self,Hn);if(a!==Hn)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(e,Hn,i);if(u!==Hn)return u}l=Fg(s),s=s[15]}o=l}return r}(n,t,e,i,Hn);if(s!==Hn)return s}const o=xg(n,t,e,i,Hn);if(o!==Hn)return o}return Ag(t,e,i,r)}function xg(n,t,e,i,r){const o=function PR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(jo)?n[jo]:void 0;return"number"==typeof t?t>=0?255&t:VR:t}(e);if("function"==typeof o){if(!mg(t,n,i))return i&B.Host?Rg(r,0,i):Ag(t,e,i,r);try{const s=o(i);if(null!=s||i&B.Optional)return s;Ca()}finally{vg()}}else if("number"==typeof o){let s=null,a=Yu(n,t),l=-1,c=i&B.Host?t[16][6]:null;for((-1===a||i&B.SkipSelf)&&(l=-1===a?Ba(n,t):t[a+8],-1!==l&&Og(i,!1)?(s=t[1],a=Lr(l),t=Pr(l,t)):a=-1);-1!==a;){const u=t[1];if(Ig(o,a,u.data)){const d=LR(a,t,e,s,i,c);if(d!==Hn)return d}l=t[a+8],-1!==l&&Og(i,t[1].data[a+8]===c)&&Ig(o,a,t)?(s=u,a=Lr(l),t=Pr(l,t)):a=-1}}return r}function LR(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=za(a,s,e,null==i?Ra(a)&&qu:i!=s&&0!=(3&a.type),r&B.Host&&o===a);return null!==u?Qo(t,s,u,a):Hn}function za(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&Mn(f)&&f.type===e)return l}return null}function Qo(n,t,e,i){let r=n[e];const o=t.data;if(function AR(n){return n instanceof Ko}(r)){const s=r;s.resolving&&function kM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${e}`)}(function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():G(n)}(o[e]));const a=Va(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?an(s.injectImpl):null;mg(n,i,B.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function MR(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=rg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&an(l),Va(a),s.resolving=!1,vg()}}return r}function Ig(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Og(n,t){return!(n&B.Self||n&B.Host&&t)}class Vr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Tg(this._tNode,this._lView,t,i,e)}}function VR(){return new Vr(tt(),S())}function nt(n){return Ri(()=>{const t=n.prototype.constructor,e=t[oi]||Zu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[oi]||Zu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Zu(n){return bu(n)?()=>{const t=Zu(j(n));return t&&t()}:tr(n)}function Fg(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function Br(n){return function NR(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Cg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(tt(),n)}const zr="__parameters__";function jr(n,t,e){return Ri(()=>{const i=function Qu(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(zr)?l[zr]:Object.defineProperty(l,zr,{value:[]})[zr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class T{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=k({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zR=new T("AnalyzeForEntryComponents");function Yt(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Yt(i,t)):t!==n&&t.push(i)}return t}function li(n,t){n.forEach(e=>Array.isArray(e)?li(e,t):t(e))}function Ng(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ua(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function es(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Zt(n,t,e){let i=$r(n,t);return i>=0?n[1|i]=e:(i=~i,function $R(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ju(n,t){const e=$r(n,t);if(e>=0)return n[1|e]}function $r(n,t){return function Vg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const ts={},td="__NG_DI_FLAG__",$a="ngTempTokenPath",XR=/\n/gm,Bg="__source";let ns;function Gr(n){const t=ns;return ns=n,t}function eA(n,t=B.Default){if(void 0===ns)throw new E(-203,!1);return null===ns?Qm(n,void 0,t):ns.get(n,t&B.Optional?null:void 0,t)}function R(n,t=B.Default){return(function UM(){return Su}()||eA)(j(n),t)}function dn(n,t=B.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),R(n,t)}function nd(n){const t=[];for(let e=0;e<n.length;e++){const i=j(n[e]);if(Array.isArray(i)){if(0===i.length)throw new E(900,!1);let r,o=B.Default;for(let s=0;s<i.length;s++){const a=i[s],l=tA(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(R(r,o))}else t.push(R(i))}return t}function is(n,t){return n[td]=t,n.prototype[td]=t,n}function tA(n){return n[td]}const zn=is(jr("Optional"),8),Wr=is(jr("SkipSelf"),4);let rd,qa;function Kr(n){return function od(){if(void 0===qa&&(qa=null,we.trustedTypes))try{qa=we.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qa}()?.createHTML(n)||n}class nr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gA extends nr{getTypeName(){return"HTML"}}class _A extends nr{getTypeName(){return"Style"}}class yA extends nr{getTypeName(){return"Script"}}class vA extends nr{getTypeName(){return"URL"}}class wA extends nr{getTypeName(){return"ResourceURL"}}function Qt(n){return n instanceof nr?n.changingThisBreaksApplicationSecurity:n}function Un(n,t){const e=function CA(n){return n instanceof nr&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class RA{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Kr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class AA{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Kr(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Kr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const xA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,IA=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ss(n){return(n=String(n)).match(xA)||n.match(IA)?n:"unsafe:"+n}function jn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function as(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const e_=jn("area,br,col,hr,img,wbr"),t_=jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n_=jn("rp,rt"),ad=as(e_,as(t_,jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),as(n_,jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),as(n_,t_)),ld=jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cd=jn("srcset"),i_=as(ld,cd,jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),OA=jn("script,style,template");class FA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ad.hasOwnProperty(e))return this.sanitizedSomething=!0,!OA.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!i_.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ld[a]&&(l=ss(l)),cd[a]&&(n=l,l=(n=String(n)).split(",").map(t=>ss(t.trim())).join(", ")),this.buf.push(" ",s,'="',r_(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ad.hasOwnProperty(e)&&!e_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(r_(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const kA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NA=/([^\#-~ |!])/g;function r_(n){return n.replace(/&/g,"&amp;").replace(kA,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(NA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ya;function o_(n,t){let e=null;try{Ya=Ya||function Xg(n){const t=new AA(n);return function TA(){try{return!!(new window.DOMParser).parseFromString(Kr(""),"text/html")}catch{return!1}}()?new RA(t):t}(n);let i=t?String(t):"";e=Ya.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Ya.getInertBodyElement(i)}while(i!==o);return Kr((new FA).sanitizeChildren(ud(e)||e))}finally{if(e){const i=ud(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function ud(n){return"content"in n&&function LA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ce=(()=>((ce=ce||{})[ce.NONE=0]="NONE",ce[ce.HTML=1]="HTML",ce[ce.STYLE=2]="STYLE",ce[ce.SCRIPT=3]="SCRIPT",ce[ce.URL=4]="URL",ce[ce.RESOURCE_URL=5]="RESOURCE_URL",ce))();function dd(n){const t=function ls(){const n=S();return n&&n[12]}();return t?t.sanitize(ce.URL,n)||"":Un(n,"URL")?Qt(n):ss(G(n))}const hd=new T("ENVIRONMENT_INITIALIZER"),a_=new T("INJECTOR",-1),l_=new T("INJECTOR_DEF_TYPES");class c_{get(t,e=ts){if(e===ts){const i=new Error(`NullInjectorError: No provider for ${De(t)}!`);throw i.name="NullInjectorError",i}return e}}function $A(...n){return{\u0275providers:u_(0,n)}}function u_(n,...t){const e=[],i=new Set;let r;return li(t,o=>{const s=o;fd(s,e,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&d_(r,e),e}function d_(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];li(r,o=>{t.push(o)})}}function fd(n,t,e,i){if(!(n=j(n)))return!1;let r=null,o=Ym(n);const s=!o&&_e(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Ym(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)fd(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{li(o.imports,u=>{fd(u,t,e,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&d_(c,t)}if(!a){const c=tr(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:he},{provide:l_,useValue:r,multi:!0},{provide:hd,useValue:()=>R(r),multi:!0})}const l=o.providers;null==l||a||li(l,u=>{t.push(u)})}}return r!==n&&void 0!==n.providers}const GA=be({provide:String,useValue:be});function pd(n){return null!==n&&"object"==typeof n&&GA in n}function ir(n){return"function"==typeof n}const md=new T("Set Injector scope."),Za={},qA={};let gd;function Qa(){return void 0===gd&&(gd=new c_),gd}class Ii{}class p_ extends Ii{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yd(t,s=>this.processProvider(s)),this.records.set(a_,Yr(void 0,this)),r.has("environment")&&this.records.set(Ii,Yr(void 0,this));const o=this.records.get(md);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(l_.multi,he,B.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Gr(this),i=an(void 0);try{return t()}finally{Gr(e),an(i)}}get(t,e=ts,i=B.Default){this.assertNotDestroyed();const r=Gr(this),o=an(void 0);try{if(!(i&B.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function XA(n){return"function"==typeof n||"object"==typeof n&&n instanceof T}(t)&&Du(t);a=l&&this.injectableDefInScope(l)?Yr(_d(t),Za):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&B.Self?Qa():this.parent).get(t,e=i&B.Optional&&e===ts?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[$a]=s[$a]||[]).unshift(De(t)),r)throw s;return function nA(n,t,e,i){const r=n[$a];throw t[Bg]&&r.unshift(t[Bg]),n.message=function iA(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=De(t);if(Array.isArray(t))r=t.map(De).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):De(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(XR,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[$a]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{an(o),Gr(r)}}resolveInjectorInitializers(){const t=Gr(this),e=an(void 0);try{const i=this.get(hd.multi,he,B.Self);for(const r of i)r()}finally{Gr(t),an(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(De(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let e=ir(t=j(t))?t:j(t&&t.provide);const i=function YA(n){return pd(n)?Yr(void 0,n.useValue):Yr(m_(n),Za)}(t);if(ir(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Yr(void 0,Za,!0),r.factory=()=>nd(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Za&&(e.value=qA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function QA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=j(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function _d(n){const t=Du(n),e=null!==t?t.factory:tr(n);if(null!==e)return e;if(n instanceof T)throw new E(204,!1);if(n instanceof Function)return function KA(n){const t=n.length;if(t>0)throw es(t,"?"),new E(204,!1);const e=function BM(n){const t=n&&(n[ba]||n[Zm]);if(t){const e=function HM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new E(204,!1)}function m_(n,t,e){let i;if(ir(n)){const r=j(n);return tr(r)||_d(r)}if(pd(n))i=()=>j(n.useValue);else if(function f_(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...nd(n.deps||[]));else if(function h_(n){return!(!n||!n.useExisting)}(n))i=()=>R(j(n.useExisting));else{const r=j(n&&(n.useClass||n.provide));if(!function ZA(n){return!!n.deps}(n))return tr(r)||_d(r);i=()=>new r(...nd(n.deps))}return i}function Yr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function JA(n){return!!n.\u0275providers}function yd(n,t){for(const e of n)Array.isArray(e)?yd(e,t):JA(e)?yd(e.\u0275providers,t):t(e)}class g_{}class nT{resolveComponentFactory(t){throw function tT(n){const t=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let cs=(()=>{class n{}return n.NULL=new nT,n})();function iT(){return Zr(tt(),S())}function Zr(n,t){return new Se(un(n,t))}let Se=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=iT,n})();function rT(n){return n instanceof Se?n.nativeElement:n}class us{}let ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function oT(){const n=S(),e=Kt(tt().index,n);return(Ht(e)?e:n)[Z]}(),n})(),sT=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>null}),n})();class rr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aT=new rr("14.1.0"),vd={};function Ed(n){return n.ngOriginalError}class ui{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Ed(t);for(;e&&Ed(e);)e=Ed(e);return e||null}}const Sd=new Map;let wT=0;const Rd="__ngContext__";function Ct(n,t){Ht(t)?(n[Rd]=t[20],function bT(n){Sd.set(n[20],n)}(t)):n[Rd]=t}function ds(n){const t=n[Rd];return"number"==typeof t?function b_(n){return Sd.get(n)||null}(t):t||null}function Ad(n){const t=ds(n);return t?Ht(t)?t:t.lView:null}const IT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(we))();function di(n){return n instanceof Function?n():n}var zt=(()=>((zt=zt||{})[zt.Important=1]="Important",zt[zt.DashCase=2]="DashCase",zt))();function xd(n,t){return undefined(n,t)}function hs(n){const t=n[3];return Sn(t)?t[3]:t}function Id(n){return x_(n[13])}function Od(n){return x_(n[4])}function x_(n){for(;null!==n&&!Sn(n);)n=n[4];return n}function Xr(n,t,e,i,r){if(null!=i){let o,s=!1;Sn(i)?o=i:Ht(i)&&(s=!0,i=i[0]);const a=Ze(i);0===n&&null!==e?null==r?L_(t,e,a):or(t,e,a,r||null,!0):1===n&&null!==e?or(t,e,a,r||null,!0):2===n?function j_(n,t,e){const i=Xa(n,t);i&&function YT(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function XT(n,t,e,i,r){const o=e[7];o!==Ze(e)&&Xr(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];fs(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function kd(n,t,e){return n.createElement(t,e)}function O_(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Pu(r,-1)),e.splice(i,1)}function Nd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&O_(r,i),t>0&&(n[e-1][4]=i[4]);const o=Ua(n,10+t);!function zT(n,t){fs(n,t,t[Z],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function F_(n,t){if(!(128&t[2])){const e=t[Z];e.destroyNode&&fs(n,t,e,3,null,null),function $T(n){let t=n[13];if(!t)return Ld(n[1],n);for(;t;){let e=null;if(Ht(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ht(t)&&Ld(t[1],t),t=t[3];null===t&&(t=n),Ht(t)&&Ld(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ld(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function KT(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Ko)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function qT(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Ze(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(n,t),1===t[1].type&&t[Z].destroy();const e=t[17];if(null!==e&&Sn(t[3])){e!==t[3]&&O_(e,t);const i=t[19];null!==i&&i.detachView(n)}!function DT(n){Sd.delete(n[20])}(t)}}function k_(n,t,e){return function N_(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Dn.None||r===Dn.Emulated)return null}return un(i,e)}(n,t.parent,e)}function or(n,t,e,i,r){n.insertBefore(t,e,i,r)}function L_(n,t,e){n.appendChild(t,e)}function P_(n,t,e,i,r){null!==i?or(n,t,e,i,r):L_(n,t,e)}function Xa(n,t){return n.parentNode(t)}function V_(n,t,e){return H_(n,t,e)}let H_=function B_(n,t,e){return 40&n.type?un(n,e):null};function Ja(n,t,e,i){const r=k_(n,i,t),o=t[Z],a=V_(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)P_(o,r,e[l],a,!1);else P_(o,r,e,a,!1)}function el(n,t){if(null!==t){const e=t.type;if(3&e)return un(t,n);if(4&e)return Vd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return el(n,i);{const r=n[t.index];return Sn(r)?Vd(-1,r):Ze(r)}}if(32&e)return xd(t,n)()||Ze(n[t.index]);{const i=U_(n,t);return null!==i?Array.isArray(i)?i[0]:el(hs(n[16]),i):el(n,t.next)}}return null}function U_(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Vd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return el(i,r)}return t[7]}function Bd(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Ct(Ze(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)Bd(n,t,e.child,i,r,o,!1),Xr(t,n,r,a,o);else if(32&l){const c=xd(e,i);let u;for(;u=c();)Xr(t,n,r,u,o);Xr(t,n,r,a,o)}else 16&l?$_(n,t,i,e,r,o):Xr(t,n,r,a,o);e=s?e.projectionNext:e.next}}function fs(n,t,e,i,r,o){Bd(e,i,n.firstChild,t,r,o,!1)}function $_(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Xr(t,n,r,l[c],o);else Bd(n,t,l,s[3],r,o,!0)}function G_(n,t,e){n.setAttribute(t,"style",e)}function Hd(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function W_(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const q_="ng-template";function ex(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==W_(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function K_(n){return 4===n.type&&n.value!==q_}function tx(n,t,e){return t===(4!==n.type||e?n.value:q_)}function nx(n,t,e){let i=4;const r=n.attrs||[],o=function ox(n){for(let t=0;t<n.length;t++)if(Cg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!tx(n,l,e)||""===l&&1===t.length){if(Rn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!ex(n.attrs,c,e)){if(Rn(i))return!1;s=!0}continue}const d=ix(8&i?"class":l,r,K_(n),e);if(-1===d){if(Rn(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==W_(f,c,0)||2&i&&c!==h){if(Rn(i))return!1;s=!0}}}}else{if(!s&&!Rn(i)&&!Rn(l))return!1;if(s&&Rn(l))continue;s=!1,i=l|1&i}}return Rn(i)||s}function Rn(n){return 0==(1&n)}function ix(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function sx(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Y_(n,t,e=!1){for(let i=0;i<t.length;i++)if(nx(n,t[i],e))return!0;return!1}function ax(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Z_(n,t){return n?":not("+t.trim()+")":t}function lx(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Rn(s)&&(t+=Z_(o,r),r=""),i=s,o=o||!Rn(i);e++}return""!==r&&(t+=Z_(o,r)),t}const W={};function Ke(n){Q_(ie(),S(),Ot()+n,!1)}function Q_(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&ka(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Na(t,o,0,e)}Ti(e)}function ty(n,t=null,e=null,i){const r=ny(n,t,e,i);return r.resolveInjectorInitializers(),r}function ny(n,t=null,e=null,i,r=new Set){const o=[e||he,$A(n)];return i=i||("object"==typeof n?void 0:De(n)),new p_(o,t||Qa(),i||null,r)}let Xt=(()=>{class n{static create(e,i){if(Array.isArray(e))return ty({name:""},i,e,"");{const r=e.name??"";return ty({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=ts,n.NULL=new c_,n.\u0275prov=k({token:n,providedIn:"any",factory:()=>R(a_)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,t=B.Default){const e=S();return null===e?R(n,t):Tg(tt(),e,j(n),t)}function Gd(){throw new Error("invalid")}function nl(n,t){return n<<17|t<<2}function An(n){return n>>17&32767}function Wd(n){return 2|n}function hi(n){return(131068&n)>>2}function qd(n,t){return-131069&n|t<<2}function Kd(n){return 1|n}function vy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Uu(r),s.contentQueries(2,t[o],o)}}}function ol(n,t,e,i,r,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),lg(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[Z]=a||n&&n[Z],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function CT(){return wT++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function eo(n,t,e,i,r){let o=n.data[t];if(null===o)o=function ih(n,t,e,i,r){const o=dg(),s=Vu(),l=n.data[t]=function Gx(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function mR(){return $.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function qo(){const n=$.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Bn(o,!0),o}function to(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function sl(n,t,e){ju(t);try{const i=n.viewQuery;null!==i&&hh(1,i,e);const r=n.template;null!==r&&wy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vy(n,t),n.staticViewQueries&&hh(2,n.viewQuery,e);const o=n.components;null!==o&&function zx(n,t){for(let e=0;e<t.length;e++)aI(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,$u()}}function ps(n,t,e,i){const r=t[2];if(128!=(128&r)){ju(t);try{lg(t),function hg(n){return $.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&wy(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&ka(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Na(t,c,0,null),Gu(t,0)}if(function oI(n){for(let t=Id(n);null!==t;t=Od(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(512&r[2])&&Pu(o,1),r[2]|=512}}}(t),function rI(n){for(let t=Id(n);null!==t;t=Od(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Lu(i)&&ps(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&vy(n,t),s){const c=n.contentCheckHooks;null!==c&&ka(t,c)}else{const c=n.contentHooks;null!==c&&Na(t,c,1),Gu(t,1)}!function Bx(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ti(~r);else{const o=r,s=e[++i],a=e[++i];gR(s,o),a(2,t[o])}}}finally{Ti(-1)}}(n,t);const a=n.components;null!==a&&function Hx(n,t){for(let e=0;e<t.length;e++)sI(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&hh(2,l,i),s){const c=n.viewCheckHooks;null!==c&&ka(t,c)}else{const c=n.viewHooks;null!==c&&Na(t,c,2),Gu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Pu(t[3],-1))}finally{$u()}}}function Ux(n,t,e,i){const r=t[10],s=ag(t);try{!s&&r.begin&&r.begin(),s&&sl(n,t,i),ps(n,t,e,i)}finally{!s&&r.end&&r.end()}}function wy(n,t,e,i,r){const o=Ot(),s=2&i;try{Ti(-1),s&&t.length>22&&Q_(n,t,22,!1),e(i,r)}finally{Ti(o)}}function rh(n,t,e){!ug()||(function Zx(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Zo(e,t),Ct(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Mn(l);c&&tI(t,e,l);const u=Qo(t,n,a,e);Ct(u,t),null!==s&&nI(0,a-r,u,l,0,s),c&&(Kt(e.index,t)[8]=u)}}(n,t,e,un(e,t)),128==(128&e.flags)&&function Qx(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function _R(){return $.lFrame.currentDirectiveIndex}();try{Ti(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Hu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Ay(l,c)}}finally{Ti(-1),Hu(s)}}(n,t,e))}function oh(n,t,e=un){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function by(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=sh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function sh(n,t,e,i,r,o,s,a,l,c){const u=22+i,d=u+r,h=function jx(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:W);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Dy(n,t,e,i){const r=Ny(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Ly(n).push(i,r.length-1))}function Ey(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Sy(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||K_(t)?null:iI(d,o);s.push(h),a=Ey(d,c,a),l=Ey(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function Jt(n,t,e,i,r,o,s,a){const l=un(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(fh(n,e,u,i,r),Ra(t)&&My(e,t.index)):3&t.type&&(i=function Wx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function My(n,t){const e=Kt(t,n);16&e[2]||(e[2]|=32)}function ah(n,t,e,i){let r=!1;if(ug()){const o=function Xx(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Y_(e,s.selectors,!1)&&(r||(r=[]),Ha(Zo(e,t),n,s.type),Mn(s)?(Ty(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,xy(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=to(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=Pa(e.mergedAttrs,d.hostAttrs),Iy(n,e,t,c,d),eI(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}Sy(n,e)}s&&function Jx(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new E(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Pa(e.mergedAttrs,e.attrs),r}function Ry(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function Yx(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Ay(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ty(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function eI(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Mn(t)&&(e[""]=n)}}function xy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Iy(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=tr(r.type)),s=new Ko(o,Mn(r),b);n.blueprint[i]=s,e[i]=s,Ry(n,t,0,i,to(n,e,r.hostVars,W),r)}function tI(n,t,e){const i=un(t,n),r=by(e),o=n[10],s=al(n,ol(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=s}function $n(n,t,e,i,r,o){const s=un(n,t);!function lh(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?G(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[Z],s,o,n.value,e,i,r)}function nI(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function iI(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Oy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function sI(n,t){const e=Kt(t,n);if(Lu(e)){const i=e[1];48&e[2]?ps(i,e,i.template,e[8]):e[5]>0&&ch(e)}}function ch(n){for(let i=Id(n);null!==i;i=Od(i))for(let r=10;r<i.length;r++){const o=i[r];if(512&o[2]){const s=o[1];ps(s,o,s.template,o[8])}else o[5]>0&&ch(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Kt(e[i],n);Lu(r)&&r[5]>0&&ch(r)}}function aI(n,t){const e=Kt(t,n),i=e[1];(function lI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),sl(i,e,e[8])}function al(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function uh(n){for(;n;){n[2]|=32;const t=hs(n);if(ZM(n)&&!t)return n;n=t}return null}function ky(n){!function Fy(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Ad(e);if(null!==i){const r=i[1];Ux(r,i,r.template,e)}}}(n[8])}function hh(n,t,e){Uu(0),t(n,e)}const uI=(()=>Promise.resolve(null))();function Ny(n){return n[7]||(n[7]=[])}function Ly(n){return n.cleanup||(n.cleanup=[])}function Py(n,t,e){return(null===n||Mn(n))&&(e=function sR(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[Z]}function Vy(n,t){const e=n[9],i=e?e.get(ui,null):null;i&&i.handleError(t)}function fh(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ll(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Cu(r,a):2==o&&(i=Cu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function cl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Ze(o)),Sn(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&cl(l[1],l,c,i)}const s=e.type;if(8&s)cl(n,t,e.child,i);else if(32&s){const a=xd(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=U_(t,e);if(Array.isArray(a))i.push(...a);else{const l=hs(t[16]);cl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class ms{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return cl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Sn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Nd(t,i),Ua(e,i))}this._attachedToViewContainer=!1}F_(this._lView[1],this._lView)}onDestroy(t){Dy(this._lView[1],this._lView,null,t)}markForCheck(){uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function dh(n,t,e){const i=t[10];i.begin&&i.begin();try{ps(n,t,n.template,e)}catch(r){throw Vy(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jT(n,t){fs(n,t,t[Z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t}}class dI extends ms{constructor(t){super(t),this._view=t}detectChanges(){ky(this._view)}checkNoChanges(){}get context(){return null}}class ph extends cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=_e(t);return new gs(e,this.ngModule)}}function By(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class fI{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,vd,i);return r!==vd||e===vd?r:this.parentInjector.get(t,e,i)}}class gs extends g_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function cx(n){return n.map(lx).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return By(this.componentDef.inputs)}get outputs(){return By(this.componentDef.outputs)}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Ii?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new fI(t,o):t,a=s.get(us,null);if(null===a)throw new E(407,!1);const l=s.get(sT,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function $x(n,t,e){return n.selectRootElement(t,e===Dn.ShadowDom)}(c,i,this.componentDef.encapsulation):kd(a.createRenderer(null,this.componentDef),u,function hI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=function yI(n,t){return{components:[],scheduler:n||IT,clean:uI,playerHandler:t||null,flags:0}}(),p=sh(0,null,null,1,0,null,null,null,null,null),_=ol(null,p,f,h,null,null,a,c,l,s,null);let v,w;ju(_);try{const D=function gI(n,t,e,i,r,o){const s=e[1];e[22]=n;const l=eo(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(ll(l,c,!0),null!==n&&(La(r,n,c),null!==l.classes&&Hd(r,n,l.classes),null!==l.styles&&G_(r,n,l.styles)));const u=i.createRenderer(n,t),d=ol(e,by(t),null,t.onPush?32:16,e[22],l,i,u,o||null,null,null);return s.firstCreatePass&&(Ha(Zo(l,e),s,t.type),Ty(s,l),xy(l,e.length,1)),al(e,d),e[22]=d}(d,this.componentDef,_,a,c);if(d)if(i)La(c,d,["ng-version",aT.full]);else{const{attrs:C,classes:M}=function ux(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Rn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&La(c,d,C),M&&M.length>0&&Hd(c,d,M.join(" "))}if(w=Nu(p,22),void 0!==e){const C=w.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const O=e[M];C.push(null!=O?Array.from(O):null)}}v=function _I(n,t,e,i,r){const o=e[1],s=function Kx(n,t,e){const i=tt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Iy(n,i,t,to(n,t,1,null),e),Sy(n,i));const r=Qo(t,n,i.directiveStart,i);Ct(r,t);const o=un(i,t);return o&&Ct(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,null!==r)for(const l of r)l(s,t);if(t.contentQueries){const l=tt();t.contentQueries(1,s,l.directiveStart)}const a=tt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ti(a.index),Ry(e[1],a,0,a.directiveStart,a.directiveEnd,t),Ay(t,s)),s}(D,this.componentDef,_,f,[vI]),sl(p,_,null)}finally{$u()}return new mI(this.componentType,v,Zr(w,_),_,w)}}class mI extends class eT{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new dI(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;fh(o[1],o,r,t,e),My(o,this._tNode.index)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vI(){const n=tt();Fa(S()[1],n)}function Q(n){let t=function Hy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Mn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=mh(n.inputs),s.declaredInputs=mh(n.declaredInputs),s.outputs=mh(n.outputs);const a=r.hostBindings;a&&DI(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&CI(n,l),c&&bI(n,c),wu(n.inputs,r.inputs),wu(n.declaredInputs,r.declaredInputs),wu(n.outputs,r.outputs),Mn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Q&&(e=!1)}}t=Object.getPrototypeOf(t)}!function wI(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Pa(r.hostAttrs,e=Pa(e,r.hostAttrs))}}(i)}function mh(n){return n===Tr?{}:n===he?[]:n}function CI(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function bI(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function DI(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let ul=null;function sr(){if(!ul){const n=we.Symbol;if(n&&n.iterator)ul=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ul=i)}}}return ul}function bt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ft(n,t,e,i){const r=S();return bt(r,Nr(),t)&&(ie(),$n(je(),r,n,t,e,i)),ft}function ki(n,t,e,i,r,o,s,a){const l=S(),c=ie(),u=n+22,d=c.firstCreatePass?function OI(n,t,e,i,r,o,s,a,l){const c=t.consts,u=eo(t,n,4,s||null,Ai(c,a));ah(t,e,u,Ai(c,l)),Fa(t,u);const d=u.tViews=sh(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Bn(d,!1);const h=l[Z].createComment("");Ja(c,l,h,d),Ct(h,l),al(l,l[u]=Oy(h,l,h,d)),Aa(d)&&rh(c,l,d),null!=s&&oh(l,d,a)}function ke(n,t,e){const i=S();return bt(i,Nr(),t)&&Jt(ie(),je(),i,n,t,i[Z],e,!1),ke}function _h(n,t,e,i,r){const s=r?"class":"style";fh(n,e,t.inputs[s],s,i)}function y(n,t,e,i){const r=S(),o=ie(),s=22+n,a=r[Z],l=r[s]=kd(a,t,function SR(){return $.lFrame.currentNamespace}()),c=o.firstCreatePass?function kI(n,t,e,i,r,o,s){const a=t.consts,c=eo(t,n,2,r,Ai(a,o));return ah(t,e,c,Ai(a,s)),null!==c.attrs&&ll(c,c.attrs,!1),null!==c.mergedAttrs&&ll(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Bn(c,!0);const u=c.mergedAttrs;null!==u&&La(a,l,u);const d=c.classes;null!==d&&Hd(a,l,d);const h=c.styles;return null!==h&&G_(a,l,h),64!=(64&c.flags)&&Ja(o,r,l,c),0===function cR(){return $.lFrame.elementDepthCount}()&&Ct(l,r),function uR(){$.lFrame.elementDepthCount++}(),Aa(c)&&(rh(o,r,c),function Cy(n,t,e){if(xu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,c,r)),null!==i&&oh(r,c),y}function g(){let n=tt();Vu()?Bu():(n=n.parent,Bn(n,!1));const t=n;!function dR(){$.lFrame.elementDepthCount--}();const e=ie();return e.firstCreatePass&&(Fa(e,n),xu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function xR(n){return 0!=(16&n.flags)}(t)&&_h(e,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IR(n){return 0!=(32&n.flags)}(t)&&_h(e,t,S(),t.stylesWithoutHost,!1),g}function Ae(n,t,e,i){return y(n,t,e,i),g(),Ae}function hl(){return S()}function vs(n){return!!n&&"function"==typeof n.then}const wh=function Xy(n){return!!n&&"function"==typeof n.subscribe};function lt(n,t,e,i){const r=S(),o=ie(),s=tt();return Jy(o,r,r[Z],s,n,t,0,i),lt}function Ch(n,t){const e=tt(),i=S(),r=ie();return Jy(r,i,Py(zu(r.data),e,i),e,n,t),Ch}function Jy(n,t,e,i,r,o,s,a){const l=Aa(i),u=n.firstCreatePass&&Ly(n),d=t[8],h=Ny(t);let f=!0;if(3&i.type||a){const v=un(i,t),w=a?a(v):v,D=h.length,C=a?O=>a(Ze(O[i.index])):i.index;let M=null;if(!a&&l&&(M=function LI(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1;else{o=tv(i,t,d,o,!1);const O=e.listen(w,r,o);h.push(o,O),u&&u.push(r,C,D,D+1)}}else o=tv(i,t,d,o,!1);const p=i.outputs;let _;if(f&&null!==p&&(_=p[r])){const v=_.length;if(v)for(let w=0;w<v;w+=2){const L=t[_[w]][_[w+1]].subscribe(o),se=h.length;h.push(o,L),u&&u.push(r,i.index,se,-(se+1))}}}function ev(n,t,e,i){try{return!1!==e(i)}catch(r){return Vy(n,r),!1}}function tv(n,t,e,i,r){return function o(s){if(s===Function)return i;uh(2&n.flags?Kt(n.index,t):t);let l=ev(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=ev(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ho(n=1){return function vR(n){return($.lFrame.contextLView=function wR(n,t){for(;n>0;)t=t[15],n--;return t}(n,$.lFrame.contextLView))[8]}(n)}function PI(n,t){let e=null;const i=function rx(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Y_(n,o,!0):ax(i,o))return r}else e=r}return e}function Ut(n){const t=S()[16][6];if(!t.projection){const i=t.projection=es(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?PI(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function $e(n,t=0,e){const i=S(),r=ie(),o=eo(r,22+n,16,null,e||null);null===o.projection&&(o.projection=t),Bu(),64!=(64&o.flags)&&function QT(n,t,e){$_(t[Z],0,t,e,k_(n,e,t),V_(e.parent||t[6],e,t))}(r,i,o)}function dv(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?An(o):hi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];HI(n[a],t)&&(l=!0,n[a+1]=i?Kd(u):Wd(u)),a=i?An(u):hi(u)}l&&(n[e+1]=i?Wd(o):Kd(o))}function HI(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&$r(n,t)>=0}function po(n,t,e){return Tn(n,t,e,!1),po}function Ge(n,t){return Tn(n,t,null,!0),Ge}function Tn(n,t,e,i){const r=S(),o=ie(),s=function ai(n){const t=$.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function vv(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Ot()],s=function yv(n,t){return t>=n.expandoStartIndex}(n,e);(function Dv(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function YI(n,t,e,i){const r=zu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=ws(e=Dh(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=Dh(r,n,t,e,i),null===o){let l=function ZI(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==hi(i))return n[An(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Dh(null,n,t,l[1],i),l=ws(l,t.attrs,i),function QI(n,t,e,i){n[An(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function XI(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=ws(i,n[o].hostAttrs,e);return ws(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function VI(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=An(s),l=hi(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||$r(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=An(n[a+1]);n[i+1]=nl(h,a),0!==h&&(n[h+1]=qd(n[h+1],i)),n[a+1]=function Tx(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=nl(a,0),0!==a&&(n[a+1]=qd(n[a+1],i)),a=i;else n[i+1]=nl(l,0),0===a?a=i:n[l+1]=qd(n[l+1],i),l=i;c&&(n[i+1]=Wd(n[i+1])),dv(n,u,i,!0),dv(n,u,i,!1),function BI(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&$r(o,t)>=0&&(e[i+1]=Kd(e[i+1]))}(t,u,n,i,o),s=nl(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==W&&bt(r,s,t)&&function Cv(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];fl(function dy(n){return 1==(1&n)}(c)?bv(l,t,e,r,hi(c),s):void 0)||(fl(o)||function uy(n){return 2==(2&n)}(c)&&(o=bv(l,null,e,r,a,s)),function JT(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:zt.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=zt.Important),n.setStyle(e,i,r,o))}}(i,s,function Ta(n,t){return Ze(t[n])}(Ot(),e),r,o))}(o,o.data[Ot()],r,r[Z],n,r[s+1]=function tO(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=De(Qt(n)))),n}(t,e),i,s)}function Dh(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=ws(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function ws(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zt(n,s,!!e||t[++o]))}return void 0===n?null:n}function bv(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===W&&(h=d?he:void 0);let f=d?Ju(h,i):u===i?h:void 0;if(c&&!fl(f)&&(f=Ju(l,i)),fl(f)&&(a=f,s))return a;const p=n[r+1];r=s?An(p):hi(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Ju(l,i))}return a}function fl(n){return void 0!==n}function m(n,t=""){const e=S(),i=ie(),r=n+22,o=i.firstCreatePass?eo(i,r,1,t,null):i.data[r],s=e[r]=function Fd(n,t){return n.createText(t)}(e[Z],t);Ja(i,e,s,o),Bn(o,!1)}function Sh(n,t,e){const i=S();if(bt(i,Nr(),t)){const o=ie(),s=je();Jt(o,s,i,n,t,Py(zu(o.data),s,i),e,!0)}return Sh}const go="en-US";let Gv=go;function Ah(n,t,e,i,r){if(n=j(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ah(n[o],t,e,i,r);else{const o=ie(),s=S();let a=ir(n)?n:j(n.provide),l=m_(n);const c=tt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ir(n)||!n.multi){const f=new Ko(l,r,b),p=xh(a,t,r?u:u+h,d);-1===p?(Ha(Zo(c,s),o,a),Th(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=xh(a,t,u+h,d),p=xh(a,t,u,u+h),_=f>=0&&e[f],v=p>=0&&e[p];if(r&&!v||!r&&!_){Ha(Zo(c,s),o,a);const w=function w1(n,t,e,i,r){const o=new Ko(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,gw(o,r,i&&!e),o}(r?v1:y1,e.length,r,i,l);!r&&v&&(e[p].providerFactory=w),Th(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(w),s.push(w)}else Th(o,n,f>-1?f:p,gw(e[r?p:f],l,!r&&i));!r&&i&&v&&e[p].componentProviders++}}}function Th(n,t,e,i){const r=ir(t),o=function WA(n){return!!n.useClass}(t);if(r||o){const l=(o?j(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function gw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function xh(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function y1(n,t,e,i){return Ih(this.multi,[])}function v1(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qo(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),Ih(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ih(r,o);return o}function Ih(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function me(n,t=[]){return e=>{e.providersResolver=(i,r)=>function _1(n,t,e){const i=ie();if(i.firstCreatePass){const r=Mn(n);Ah(e,i.data,i.blueprint,r,!0),Ah(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class cr{}class _w{}class yw extends cr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const i=Wt(t);this._bootstrapComponents=di(i.bootstrap),this._r3Injector=ny(t,e,[{provide:cr,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],De(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Oh extends _w{constructor(t){super(),this.moduleType=t}create(t){return new yw(this.moduleType,t)}}class b1 extends cr{constructor(t,e,i){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const r=new p_([...t,{provide:cr,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e||Qa(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function yl(n,t,e=null){return new b1(n,t,e).injector}function Kn(n,t,e){const i=function It(){const n=$.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,r=S();return r[i]===W?function Gn(n,t,e){return n[t]=e}(r,i,e?t.call(e):t()):function ys(n,t){return n[t]}(r,i)}function kh(n){return t=>{setTimeout(n,void 0,t)}}const ye=class Y1 extends te{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=kh(o),r&&(r=kh(r)),s&&(s=kh(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof yt&&t.add(a),a}};function Z1(){return this._results[sr()]()}class yo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=sr(),i=yo.prototype;i[e]||(i[e]=Z1)}get changes(){return this._changes||(this._changes=new ye)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Yt(t);(this._changesDetected=!function UR(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=J1,n})();const Q1=pi,X1=class extends Q1{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=ol(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),sl(i,r,t),new ms(r)}};function J1(){return vl(tt(),S())}function vl(n,t){return 4&n.type?new X1(t,n,Zr(n,t)):null}let In=(()=>{class n{}return n.__NG_ELEMENT_ID__=eF,n})();function eF(){return Ow(tt(),S())}const tF=In,xw=class extends tF{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Zr(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ba(this._hostTNode,this._hostLView);if(Eg(t)){const e=Pr(t,this._hostLView),i=Lr(t);return new Vr(e[1].data[i+8],e)}return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Iw(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(t,e,i,r,o){const s=t&&!function Jo(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new gs(_e(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Ii,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function lR(n){return Sn(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new xw(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function GT(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],Ng(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function WT(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,s,o);const a=Vd(o,s),l=i[Z],c=Xa(l,s[7]);return null!==c&&function UT(n,t,e,i,r,o){i[0]=r,i[6]=t,fs(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),Ng(Nh(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Iw(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Nd(this._lContainer,e);i&&(Ua(Nh(this._lContainer),e),F_(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Nd(this._lContainer,e);return i&&null!=Ua(Nh(this._lContainer),e)?new ms(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Iw(n){return n[8]}function Nh(n){return n[8]||(n[8]=[])}function Ow(n,t){let e;const i=t[n.index];if(Sn(i))e=i;else{let r;if(8&n.type)r=Ze(i);else{const o=t[Z];r=o.createComment("");const s=un(n,t);or(o,Xa(o,s),r,function ZT(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=Oy(i,t,r,n),al(t,e)}return new xw(e,n,t)}class Lh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ph{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Ph(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pw(t,e).matches&&this.queries[e].setDirty()}}class Fw{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Vh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Vh(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Bh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Bh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,rF(e,o)),this.matchTNodeWithReadOption(t,e,za(e,t,o,!1,!1))}else i===pi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,za(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Se||r===In||r===pi&&4&e.type)this.addMatch(e.index,-2);else{const o=za(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function rF(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function sF(n,t,e,i){return-1===e?function oF(n,t){return 11&n.type?Zr(n,t):4&n.type?vl(n,t):null}(t,n):-2===e?function aF(n,t,e){return e===Se?Zr(t,n):e===pi?vl(t,n):e===In?Ow(t,n):void 0}(n,t,i):Qo(n,n[1],e,t)}function kw(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:sF(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Hh(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=kw(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Hh(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Hh(f[1],f,c,i)}}}}}return i}function Ne(n){const t=S(),e=ie(),i=pg();Uu(i+1);const r=Pw(e,i);if(n.dirty&&ag(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Hh(e,t,i,[]):kw(e,t,r,i);n.reset(o,rT),n.notifyOnChanges()}return!0}return!1}function mi(n,t,e){const i=ie();i.firstCreatePass&&(Lw(i,new Fw(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Nw(i,S(),t)}function Nt(n,t,e,i){const r=ie();if(r.firstCreatePass){const o=tt();Lw(r,new Fw(t,e,i),o.index),function cF(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}Nw(r,S(),e)}function Le(){return function lF(n,t){return n[19].queries[t].queryList}(S(),pg())}function Nw(n,t,e){const i=new yo(4==(4&e));Dy(n,t,i,i.destroy),null===t[19]&&(t[19]=new Ph),t[19].queries.push(new Lh(i))}function Lw(n,t,e){null===n.queries&&(n.queries=new Vh),n.queries.track(new Bh(t,e))}function Pw(n,t){return n.queries.getByIndex(t)}function Cl(...n){}const bl=new T("Application Initializer");let Dl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Cl,this.reject=Cl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(vs(o))e.push(o);else if(wh(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(R(bl,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const As=new T("AppId",{providedIn:"root",factory:function nC(){return`${Gh()}${Gh()}${Gh()}`}});function Gh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iC=new T("Platform Initializer"),El=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rC=new T("appBootstrapListener"),bo=new T("AnimationModuleType");let xF=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yn=new T("LocaleId",{providedIn:"root",factory:()=>dn(Yn,B.Optional|B.SkipSelf)||function IF(){return typeof $localize<"u"&&$localize.locale||go}()});class FF{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Wh=(()=>{class n{compileModuleSync(e){return new Oh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=di(Wt(e).declarations).reduce((s,a)=>{const l=_e(a);return l&&s.push(new gs(l)),s},[]);return new FF(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LF=(()=>Promise.resolve(0))();function qh(n){typeof Zone>"u"?LF.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class re{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function PF(){let n=we.requestAnimationFrame,t=we.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function HF(n){const t=()=>{!function BF(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(we,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Yh(n),n.isCheckStableRunning=!0,Kh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Yh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return aC(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),lC(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return aC(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),lC(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Yh(n),Kh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!re.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(re.isInAngularZone())throw new E(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,VF,Cl,Cl);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const VF={};function Kh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lC(n){n._nesting--,Kh(n)}class zF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const cC=new T(""),Sl=new T("");let Xh,Zh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xh||(function UF(n){Xh=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),qh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(R(re),R(Qh),R(Sl))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Qh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Xh?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ni=null;const uC=new T("AllowMultipleToken"),Jh=new T("PlatformDestroyListeners");class dC{constructor(t,e){this.name=t,this.token=e}}function fC(n,t,e=[]){const i=`Platform: ${t}`,r=new T(i);return(o=[])=>{let s=ef();if(!s||s.injector.get(uC,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function GF(n){if(Ni&&!Ni.get(uC,!1))throw new E(400,!1);Ni=n;const t=n.get(mC);(function hC(n){const t=n.get(iC,null);t&&t.forEach(e=>e())})(n)}(function pC(n=[],t){return Xt.create({name:t,providers:[{provide:md,useValue:"platform"},{provide:Jh,useValue:new Set([()=>Ni=null])},...n]})}(a,i))}return function qF(n){const t=ef();if(!t)throw new E(401,!1);return t}()}}function ef(){return Ni?.get(mC)??null}let mC=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function KF(n,t){let e;return e="noop"===n?new zF:("zone.js"===n?void 0:n)||new re(t),e}(i?.ngZone,function gC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:re,useValue:r}];return r.run(()=>{const s=Xt.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(ui,null);if(!l)throw new E(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Ml(this._modules,a),c.unsubscribe()})}),function _C(n,t,e){try{const i=e();return vs(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Dl);return c.runInitializers(),c.donePromise.then(()=>(function Wv(n){Gt(n,"Expected localeId to be defined"),"string"==typeof n&&(Gv=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yn,go)||go),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=yC({},i);return function jF(n,t,e){const i=new Oh(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ts);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new E(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Jh,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(R(Xt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function yC(n,t){return Array.isArray(t)?t.reduce(yC,n):{...n,...t}}let Ts=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Me(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Me(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),qh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Wm(o,s.pipe(qm()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof g_;if(!this._injector.get(Dl).done)throw!r&&function wo(n){const t=_e(n)||At(n)||Tt(n);return null!==t&&t.standalone}(e),new E(405,false);let s;s=r?e:this._injector.get(cs).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function $F(n){return n.isBoundToModule}(s)?void 0:this._injector.get(cr),c=s.create(Xt.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(cC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ml(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ml(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(rC,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ml(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new E(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(R(re),R(Ii),R(ui))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ml(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let wC=!0,Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=QF,n})();function QF(n){return function XF(n,t,e){if(Ra(n)&&!e){const i=Kt(n.index,t);return new ms(i,i)}return 47&n.type?new ms(t[16],t):null}(tt(),S(),16==(16&n))}const dk=fC(null,"core",[]);let hk=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(R(Ts))},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();function _i(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let xl=null;function Zn(){return xl}const ue=new T("DocumentToken");let Il=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(){return function gk(){return R(IC)}()},providedIn:"platform"}),n})();const _k=new T("Location Initialized");let IC=(()=>{class n extends Il{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(e){const i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){OC()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){OC()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:function(){return function yk(){return new IC(R(ue))}()},providedIn:"platform"}),n})();function OC(){return!!window.history.pushState}function af(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function FC(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function yi(n){return n&&"?"!==n[0]?"?"+n:n}let dr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(){return function vk(){const n=R(ue).location;return new NC(R(Il),n&&n.origin||"")}()},providedIn:"root"}),n})();const kC=new T("appBaseHref");let NC=(()=>{class n extends dr{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return af(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+yi(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+yi(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+yi(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Il),R(kC,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),wk=(()=>{class n extends dr{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=af(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Il),R(kC,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),lf=(()=>{class n{constructor(e){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=FC(LC(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yi(i))}normalize(e){return n.stripTrailingSlash(function bk(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,LC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=yi,n.joinWithSlash=af,n.stripTrailingSlash=FC,n.\u0275fac=function(e){return new(e||n)(R(dr))},n.\u0275prov=k({token:n,factory:function(){return function Ck(){return new lf(R(dr))}()},providedIn:"root"}),n})();function LC(n){return n.replace(/\/index.html$/,"")}let Fs=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new dN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){KC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){KC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(In),b(pi))},n.\u0275dir=V({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dN{constructor(){this.$implicit=null,this.ngIf=null}}function KC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${De(t)}'.`)}let bf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();const QC="browser";function XC(n){return n===QC}let zN=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>new UN(R(ue),window)}),n})();class UN{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function jN(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=JC(this.window.history)||JC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JC(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Df extends class GN extends class mk{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pk(n){xl||(xl=n)}(new Df)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function WN(){return ks=ks||document.querySelector("base"),ks?ks.getAttribute("href"):null}();return null==e?null:function qN(n){zl=zl||document.createElement("a"),zl.setAttribute("href",n);const t=zl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function oN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let zl,ks=null;const eb=new T("TRANSITION_ID"),YN=[{provide:bl,useFactory:function KN(n,t,e){return()=>{e.get(Dl).donePromise.then(()=>{const i=Zn(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[eb,ue,Xt],multi:!0}];let QN=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Ul=new T("EventManagerPlugins");let jl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(R(Ul),R(re))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class tb{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Zn().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let nb=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends nb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ib),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ib))}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function ib(n){Zn().remove(n)}const Ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sf=/%COMP%/g;function $l(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?$l(n,r,e):(r=r.replace(Sf,n),e.push(r))}return e}function sb(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Gl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Mf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Dn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new iL(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Dn.ShadowDom:return new rL(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=$l(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(R(jl),R(Ns),R(As))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class Mf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ef[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(lb(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(lb(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ef[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ef[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(zt.DashCase|zt.Important)?t.style.setProperty(e,i,r&zt.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&zt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sb(i)):this.eventManager.addEventListener(t,e,sb(i))}}function lb(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iL extends Mf{constructor(t,e,i,r){super(t),this.component=i;const o=$l(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function eL(n){return"_ngcontent-%COMP%".replace(Sf,n)}(r+"-"+i.id),this.hostAttr=function tL(n){return"_nghost-%COMP%".replace(Sf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class rL extends Mf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=$l(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let oL=(()=>{class n extends tb{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const cb=["alt","control","meta","shift"],aL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ub={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cL=(()=>{class n extends tb{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(cb.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function uL(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ub.hasOwnProperty(t)&&(t=ub[t]))}return aL[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cb.forEach(o=>{o!=r&&(0,lL[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const pL=fC(dk,"browser",[{provide:El,useValue:QC},{provide:iC,useValue:function dL(){Df.makeCurrent()},multi:!0},{provide:ue,useFactory:function fL(){return function fA(n){rd=n}(document),document},deps:[]}]),hb=new T(""),fb=[{provide:Sl,useClass:class ZN{addToWindow(t){we.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},we.getAllAngularTestabilities=()=>t.getAllTestabilities(),we.getAllAngularRootElements=()=>t.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(i=>{const r=we.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Zn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:cC,useClass:Zh,deps:[re,Qh,Sl]},{provide:Zh,useClass:Zh,deps:[re,Qh,Sl]}],pb=[{provide:md,useValue:"root"},{provide:ui,useFactory:function hL(){return new ui},deps:[]},{provide:Ul,useClass:oL,multi:!0,deps:[ue,re,El]},{provide:Ul,useClass:cL,multi:!0,deps:[ue]},{provide:Gl,useClass:Gl,deps:[jl,Ns,As]},{provide:us,useExisting:Gl},{provide:nb,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[ue]},{provide:jl,useClass:jl,deps:[Ul,re]},{provide:class $N{},useClass:QN,deps:[]},[]];let mb=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:As,useValue:e.appId},{provide:eb,useExisting:As},YN]}}}return n.\u0275fac=function(e){return new(e||n)(R(hb,12))},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({providers:[...pb,...fb],imports:[bf,hk]}),n})(),gb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new e:function gL(){return new gb(R(ue))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Wl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new(e||n):R(vb),i},providedIn:"root"}),n})(),vb=(()=>{class n extends Wl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ce.NONE:return i;case ce.HTML:return Un(i,"HTML")?Qt(i):o_(this._doc,String(i)).toString();case ce.STYLE:return Un(i,"Style")?Qt(i):i;case ce.SCRIPT:if(Un(i,"Script"))return Qt(i);throw new Error("unsafe value used in a script context");case ce.URL:return Un(i,"URL")?Qt(i):ss(String(i));case ce.RESOURCE_URL:if(Un(i,"ResourceURL"))return Qt(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function bA(n){return new gA(n)}(e)}bypassSecurityTrustStyle(e){return function DA(n){return new _A(n)}(e)}bypassSecurityTrustScript(e){return function EA(n){return new yA(n)}(e)}bypassSecurityTrustUrl(e){return function SA(n){return new vA(n)}(e)}bypassSecurityTrustResourceUrl(e){return function MA(n){return new wA(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(R(ue))},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new e:function EL(n){return new vb(n.get(ue))}(R(Xt)),i},providedIn:"root"}),n})();function N(...n){return qe(n,Uo(n))}class en extends te{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:SL}=Array,{getPrototypeOf:ML,prototype:RL,keys:AL}=Object;function wb(n){if(1===n.length){const t=n[0];if(SL(t))return{args:t,keys:null};if(function TL(n){return n&&"object"==typeof n&&ML(n)===RL}(t)){const e=AL(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:xL}=Array;function Tf(n){return F(t=>function IL(n,t){return xL(t)?n(...t):n(t)}(n,t))}function Cb(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function xf(...n){const t=Uo(n),e=va(n),{args:i,keys:r}=wb(n);if(0===i.length)return qe([],t);const o=new Me(function OL(n,t,e=ni){return i=>{bb(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)bb(t,()=>{const c=qe(n[l],t);let u=!1;c.subscribe(ge(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Cb(r,s):ni));return e?o.pipe(Tf(e)):o}function bb(n,t,e){n?ii(e,n,t):t()}function ql(...n){return function FL(){return Ar(1)}()(qe(n,Uo(n)))}function Db(n){return new Me(t=>{ht(n()).subscribe(t)})}function Ln(n,t){const e=le(n)?n:()=>n,i=r=>r.error(e());return new Me(t?r=>t.schedule(i,0,r):i)}const Do=cu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function If(){return Ie((n,t)=>{let e=null;n._refCount++;const i=ge(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Eb extends Me{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Tm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const e=this.getSubject();t.add(this.source.subscribe(ge(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return If()(this)}}function mn(n,t){return Ie((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ge(i,l=>{r?.unsubscribe();let c=0;const u=o++;ht(n(l,u)).subscribe(r=ge(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Pn(n){return n<=0?()=>sn:Ie((t,e)=>{let i=0;t.subscribe(ge(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Eo(...n){const t=Uo(n);return Ie((e,i)=>{(t?ql(n,e,t):ql(n,e)).subscribe(i)})}function Ve(n,t){return Ie((e,i)=>{let r=0;e.subscribe(ge(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Kl(n){return Ie((t,e)=>{let i=!1;t.subscribe(ge(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Sb(n=kL){return Ie((t,e)=>{let i=!1;t.subscribe(ge(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function kL(){return new Do}function Pi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ve((r,o)=>n(r,o,i)):ni,Pn(1),e?Kl(t):Sb(()=>new Do))}function Vi(n,t){return le(t)?st(n,t,1):st(n,1)}function Ce(n,t,e){const i=le(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ie((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ge(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ni}function Qn(n){return Ie((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ge(e,void 0,void 0,s=>{o=ht(n(s,Qn(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function NL(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ge(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Mb(n,t){return Ie(NL(n,t,arguments.length>=2,!0))}function Of(n){return n<=0?()=>sn:Ie((t,e)=>{let i=[];t.subscribe(ge(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Rb(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ve((r,o)=>n(r,o,i)):ni,Of(1),e?Kl(t):Sb(()=>new Do))}function Ff(n){return F(()=>n)}function Yl(n){return Ie((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const X="primary";class PL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function So(n){return new PL(n)}function VL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Xn(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Ab(n[r],t[r]))return!1;return!0}function Ab(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Tb(n){return Array.prototype.concat.apply([],n)}function xb(n){return n.length>0?n[n.length-1]:null}function pt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function wi(n){return wh(n)?n:vs(n)?qe(Promise.resolve(n)):N(n)}const zL={exact:function Fb(n,t,e){if(!fr(n.segments,t.segments)||!Zl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Fb(n.children[i],t.children[i],e))return!1;return!0},subset:kb},Ib={exact:function UL(n,t){return Xn(n,t)},subset:function jL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ab(n[e],t[e]))},ignored:()=>!0};function Ob(n,t,e){return zL[e.paths](n.root,t.root,e.matrixParams)&&Ib[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function kb(n,t,e){return Nb(n,t,t.segments,e)}function Nb(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!fr(r,e)||t.hasChildren()||!Zl(r,e,i))}if(n.segments.length===e.length){if(!fr(n.segments,e)||!Zl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!kb(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(fr(n.segments,r)&&Zl(n.segments,r,i)&&n.children[X])&&Nb(n.children[X],t,o,i)}}function Zl(n,t,e){return t.every((i,r)=>Ib[e](n[r].parameters,i.parameters))}class hr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return WL.serialize(this)}}class J{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ql(this)}}class Ls{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=So(this.parameters)),this._parameterMap}toString(){return Hb(this)}}function fr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Lb{}class Pb{parse(t){const e=new tP(t);return new hr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ps(t.root,!0)}`,i=function YL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Xl(e)}=${Xl(r)}`).join("&"):`${Xl(e)}=${Xl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const WL=new Pb;function Ql(n){return n.segments.map(t=>Hb(t)).join("/")}function Ps(n,t){if(!n.hasChildren())return Ql(n);if(t){const e=n.children[X]?Ps(n.children[X],!1):"",i=[];return pt(n.children,(r,o)=>{o!==X&&i.push(`${o}:${Ps(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function GL(n,t){let e=[];return pt(n.children,(i,r)=>{r===X&&(e=e.concat(t(i,r)))}),pt(n.children,(i,r)=>{r!==X&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===X?[Ps(n.children[X],!1)]:[`${r}:${Ps(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[X]?`${Ql(n)}/${e[0]}`:`${Ql(n)}/(${e.join("//")})`}}function Vb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xl(n){return Vb(n).replace(/%3B/gi,";")}function Nf(n){return Vb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jl(n){return decodeURIComponent(n)}function Bb(n){return Jl(n.replace(/\+/g,"%20"))}function Hb(n){return`${Nf(n.path)}${function KL(n){return Object.keys(n).map(t=>`;${Nf(t)}=${Nf(n[t])}`).join("")}(n.parameters)}`}const ZL=/^[^\/()?;=#]+/;function ec(n){const t=n.match(ZL);return t?t[0]:""}const QL=/^[^=?&#]+/,JL=/^[^&#]+/;class tP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[X]=new J(t,e)),i}parseSegment(){const t=ec(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Ls(Jl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ec(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ec(this.remaining);r&&(i=r,this.capture(i))}t[Jl(e)]=Jl(i)}parseQueryParam(t){const e=function XL(n){const t=n.match(QL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function eP(n){const t=n.match(JL);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Bb(e),o=Bb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ec(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new E(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=X);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[X]:new J([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function Lf(n){return n.segments.length>0?new J([],{[X]:n}):n}function tc(n){const t={};for(const i of Object.keys(n.children)){const o=tc(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function nP(n){if(1===n.numberOfChildren&&n.children[X]){const t=n.children[X];return new J(n.segments.concat(t.segments),t.children)}return n}(new J(n.segments,t))}function pr(n){return n instanceof hr}function oP(n,t,e,i,r){if(0===e.length)return Mo(t.root,t.root,t.root,i,r);const o=function jb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ub(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return pt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Ub(e,t,i)}(e);return o.toRoot()?Mo(t.root,t.root,new J([],{}),i,r):function s(l){const c=function aP(n,t,e,i){if(n.isAbsolute)return new Ro(t.root,!0,0);if(-1===i)return new Ro(e,e===t.root,0);return function $b(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new E(4005,!1);r=i.segments.length}return new Ro(i,!1,r-o)}(e,i+(Vs(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),u=c.processChildren?Hs(c.segmentGroup,c.index,o.commands):Vf(c.segmentGroup,c.index,o.commands);return Mo(t.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Vs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bs(n){return"object"==typeof n&&null!=n&&n.outlets}function Mo(n,t,e,i,r){let s,o={};i&&pt(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:zb(n,t,e);const a=Lf(tc(s));return new hr(a,o,r)}function zb(n,t,e){const i={};return pt(n.children,(r,o)=>{i[o]=r===t?e:zb(r,t,e)}),new J(n.segments,i)}class Ub{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Vs(i[0]))throw new E(4003,!1);const r=i.find(Bs);if(r&&r!==xb(i))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ro{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Vf(n,t,e){if(n||(n=new J([],{})),0===n.segments.length&&n.hasChildren())return Hs(n,t,e);const i=function cP(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Bs(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Wb(l,c,s))return o;i+=2}else{if(!Wb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new J(n.segments.slice(0,i.pathIndex),{});return o.children[X]=new J(n.segments.slice(i.pathIndex),n.children),Hs(o,0,r)}return i.match&&0===r.length?new J(n.segments,{}):i.match&&!n.hasChildren()?Bf(n,t,e):i.match?Hs(n,0,r):Bf(n,t,e)}function Hs(n,t,e){if(0===e.length)return new J(n.segments,{});{const i=function lP(n){return Bs(n[0])?n[0].outlets:{[X]:n}}(e),r={};return pt(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Vf(n.children[s],t,o))}),pt(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new J(n.segments,r)}}function Bf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Bs(o)){const l=uP(o.outlets);return new J(i,l)}if(0===r&&Vs(e[0])){i.push(new Ls(n.segments[t].path,Gb(e[0]))),r++;continue}const s=Bs(o)?o.outlets[X]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Vs(a)?(i.push(new Ls(s,Gb(a))),r+=2):(i.push(new Ls(s,{})),r++)}return new J(i,{})}function uP(n){const t={};return pt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Bf(new J([],{}),0,e))}),t}function Gb(n){const t={};return pt(n,(e,i)=>t[i]=`${e}`),t}function Wb(n,t,e){return n==e.path&&Xn(t,e.parameters)}class Ci{constructor(t,e){this.id=t,this.url=e}}class Hf extends Ci{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bi extends Ci{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nc extends Ci{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qb extends Ci{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dP extends Ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hP extends Ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fP extends Ci{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pP extends Ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mP extends Ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _P{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=zf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Uf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Uf(t,this._root).map(e=>e.value)}}function zf(n,t){if(n===t.value)return t;for(const e of t.children){const i=zf(n,e);if(i)return i}return null}function Uf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Uf(n,e);if(i.length)return i.unshift(t),i}return[]}class Di{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ao(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Zb extends Yb{constructor(t,e){super(t),this.snapshot=e,jf(this,t)}toString(){return this.snapshot.toString()}}function Qb(n,t){const e=function DP(n,t){const s=new ic([],{},{},"",{},X,t,null,n.root,-1,{});return new Jb("",new Di(s,[]))}(n,t),i=new en([new Ls("",{})]),r=new en({}),o=new en({}),s=new en({}),a=new en(""),l=new To(i,r,s,a,o,X,t,e.root);return l.snapshot=e.root,new Zb(new Di(l,[]),e)}class To{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>So(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>So(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xb(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function EP(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ic{constructor(t,e,i,r,o,s,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=So(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jb extends Yb{constructor(t,e){super(e),this.url=t,jf(this,e)}toString(){return eD(this._root)}}function jf(n,t){t.value._routerState=n,t.children.forEach(e=>jf(n,e))}function eD(n){const t=n.children.length>0?` { ${n.children.map(eD).join(", ")} } `:"";return`${n.value}${t}`}function $f(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Xn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Xn(t.params,e.params)||n.params.next(e.params),function BL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Xn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Xn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gf(n,t){const e=Xn(n.params,t.params)&&function $L(n,t){return fr(n,t)&&n.every((e,i)=>Xn(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Gf(n.parent,t.parent))}function zs(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function MP(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zs(n,i,r);return zs(n,i)})}(n,t,e);return new Di(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>zs(n,a)),s}}const i=function RP(n){return new To(new en(n.url),new en(n.params),new en(n.queryParams),new en(n.fragment),new en(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>zs(n,o));return new Di(i,r)}}const Wf="ngNavigationCancelingError";function tD(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=pr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=nD(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function nD(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Wf]=!0,i.cancellationCode=t,e&&(i.url=e),i}function iD(n){return rD(n)&&pr(n.url)}function rD(n){return n&&n[Wf]}class AP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Us,this.attachRef=null}}class Us{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new AP,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const rc=!1;let qf=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.name=r||X,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,rc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,rc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,rc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new E(4013,rc);this._activatedRoute=e;const r=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new TP(e,a,r.injector);if(i&&function xP(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(Us),b(In),Br("name"),b(Fn),b(Ii))},n.\u0275dir=V({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class TP{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===To?this.route:t===Us?this.childContexts:this.parent.get(t,e)}}let oD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Ae(0,"router-outlet")},dependencies:[qf],encapsulation:2}),n})();function sD(n,t){return n.providers&&!n._injector&&(n._injector=yl(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Yf(n){const t=n.children&&n.children.map(Yf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==X&&(e.component=oD),e}function gn(n){return n.outlet||X}function aD(n,t){const e=n.filter(i=>gn(i)===t);return e.push(...n.filter(i=>gn(i)!==t)),e}function lD(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class NP{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$f(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ao(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),pt(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ao(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ao(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ao(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new CP(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vP(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if($f(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$f(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=lD(r.snapshot),l=a?.get(cs)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class cD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class oc{constructor(t,e){this.component=t,this.route=e}}function LP(n,t,e){const i=n._root;return js(i,t?t._root:null,e,[i.value])}function sc(n,t,e){return(lD(t)??e).get(n)}function js(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ao(t);return n.children.forEach(s=>{(function VP(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function BP(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!fr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!fr(n.url,t.url)||!Xn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gf(n,t)||!Xn(n.queryParams,t.queryParams);default:return!Gf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new cD(i)):(o.data=s.data,o._resolvedData=s._resolvedData),js(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new oc(a.outlet.component,s))}else s&&$s(t,a,r),r.canActivateChecks.push(new cD(i)),js(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),pt(o,(s,a)=>$s(s,e.getContext(a),r)),r}function $s(n,t,e){const i=Ao(n),r=n.value;pt(i,(o,s)=>{$s(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new oc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Gs(n){return"function"==typeof n}const ac=Symbol("INITIAL_VALUE");function xo(){return mn(n=>xf(n.map(t=>t.pipe(Pn(1),Eo(ac)))).pipe(F(t=>{for(const e of t)if(!0!==e){if(e===ac)return ac;if(!1===e||e instanceof hr)return e}return!0}),Ve(t=>t!==ac),Pn(1)))}function uD(n){return function aM(...n){return Mm(n)}(Ce(t=>{if(pr(t))throw tD(0,t)}),F(t=>!0===t))}const Zf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dD(n,t,e,i,r){const o=Qf(n,t,e);return o.matched?function nV(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?N(r.map(s=>{const a=n.get(s),l=function GP(n){return n&&Gs(n.canMatch)}(a)?a.canMatch(t,e):a(t,e);return wi(l)})).pipe(xo(),uD()):N(!0)}(i=sD(t,i),t,e).pipe(F(s=>!0===s?o:{...Zf})):N(o)}function Qf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Zf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||VL)(e,n,t);if(!r)return{...Zf};const o={};pt(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function lc(n,t,e,i,r="corrected"){if(e.length>0&&function oV(n,t,e){return e.some(i=>cc(n,t,i)&&gn(i)!==X)}(n,e,i)){const s=new J(t,function rV(n,t,e,i){const r={};r[X]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&gn(o)!==X){const s=new J([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[gn(o)]=s}return r}(n,t,i,new J(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function sV(n,t,e){return e.some(i=>cc(n,t,i))}(n,e,i)){const s=new J(n.segments,function iV(n,t,e,i,r,o){const s={};for(const a of i)if(cc(n,e,a)&&!r[gn(a)]){const l=new J([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[gn(a)]=l}return{...r,...s}}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new J(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function cc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function hD(n,t,e,i){return!!(gn(n)===i||i!==X&&cc(t,e,n))&&("**"===n.path||Qf(t,n,e).matched)}function fD(n,t,e){return 0===t.length&&!n.children[e]}const uc=!1;class dc{constructor(t){this.segmentGroup=t||null}}class pD{constructor(t){this.urlTree=t}}function Ws(n){return Ln(new dc(n))}function mD(n){return Ln(new pD(n))}class uV{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=lc(this.urlTree.root,[],[],this.config).segmentGroup,e=new J(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,X).pipe(F(o=>this.createUrlTree(tc(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qn(o=>{if(o instanceof pD)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof dc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,X).pipe(F(r=>this.createUrlTree(tc(r),t.queryParams,t.fragment))).pipe(Qn(r=>{throw r instanceof dc?this.noMatchError(r):r}))}noMatchError(t){return new E(4002,uc)}createUrlTree(t,e,i){const r=Lf(t);return new hr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(F(o=>new J([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return qe(r).pipe(Vi(o=>{const s=i.children[o],a=aD(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(F(l=>({segment:l,outlet:o})))}),Mb((o,s)=>(o[s.outlet]=s.segment,o),{}),Rb())}expandSegment(t,e,i,r,o,s){return qe(i).pipe(Vi(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Qn(c=>{if(c instanceof dc)return N(null);throw c}))),Pi(a=>!!a),Qn((a,l)=>{if(a instanceof Do||"EmptyError"===a.name)return fD(e,r,o)?N(new J([],{})):Ws(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return hD(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Ws(e):Ws(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mD(o):this.lineralizeSegments(i,o).pipe(st(s=>{const a=new J(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Qf(e,r,o);if(!a)return Ws(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?mD(d):this.lineralizeSegments(r,d).pipe(st(h=>this.expandSegment(t,e,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=sD(i,t),i.loadChildren?(i._loadedRoutes?N({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(F(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new J(r,{})))):N(new J(r,{}))):dD(e,i,r,t).pipe(mn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe(st(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:p}=lc(e,a,l,h),_=new J(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(F(C=>new J(a,C)));if(0===h.length&&0===p.length)return N(new J(a,{}));const v=gn(i)===o;return this.expandSegment(d,_,h,p,v?X:o,!0).pipe(F(D=>new J(a.concat(D.segments),D.children)))})):Ws(e)))}getChildConfig(t,e,i){return e.children?N({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?N({routes:e._loadedRoutes,injector:e._loadedInjector}):function tV(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?N(!0):N(r.map(s=>{const a=n.get(s),l=function zP(n){return n&&Gs(n.canLoad)}(a)?a.canLoad(t,e):a(t,e);return wi(l)})).pipe(xo(),uD())}(t,e,i).pipe(st(r=>r?this.configLoader.loadChildren(t,e).pipe(Ce(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function lV(n){return Ln(nD(uc,3))}())):N({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return N(i);if(r.numberOfChildren>1||!r.children[X])return Ln(new E(4e3,uc));r=r.children[X]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new hr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return pt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return pt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new J(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new E(4001,uc);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class hV{}class mV{constructor(t,e,i,r,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=lc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,X).pipe(F(e=>{if(null===e)return null;const i=new ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},X,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Di(i,e),o=new Jb(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Xb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return qe(Object.keys(i.children)).pipe(Vi(r=>{const o=i.children[r],s=aD(e,r);return this.processSegmentGroup(t,s,o,r)}),Mb((r,o)=>r&&o?(r.push(...o),r):null),function LL(n,t=!1){return Ie((e,i)=>{let r=0;e.subscribe(ge(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),Kl(null),Rb(),F(r=>{if(null===r)return null;const o=gD(r);return function gV(n){n.sort((t,e)=>t.value.outlet===X?-1:e.value.outlet===X?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return qe(e).pipe(Vi(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),Pi(s=>!!s),Qn(s=>{if(s instanceof Do)return fD(i,r,o)?N([]):N(null);throw s}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!hD(e,i,r,o))return N(null);let s;if("**"===e.path){const a=r.length>0?xb(r).parameters:{},l=yD(i)+r.length;s=N({snapshot:new ic(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wD(e),gn(e),e.component??e._loadedComponent??null,e,_D(i),l,CD(e),l),consumedSegments:[],remainingSegments:[]})}else s=dD(i,e,r,t).pipe(F(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=yD(i)+l.length;return{snapshot:new ic(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wD(e),gn(e),e.component??e._loadedComponent??null,e,_D(i),d,CD(e),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(mn(a=>{if(null===a)return N(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function _V(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=lc(i,c,u,h.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(F(v=>null===v?null:[new Di(l,v)]));if(0===h.length&&0===p.length)return N([new Di(l,[])]);const _=gn(e)===o;return this.processSegment(d,h,f,p,_?X:o).pipe(F(v=>null===v?null:[new Di(l,v)]))}))}}function yV(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function gD(n){const t=[],e=new Set;for(const i of n){if(!yV(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=gD(i.children);t.push(new Di(i.value,r))}return t.filter(i=>!e.has(i))}function _D(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function yD(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function wD(n){return n.data||{}}function CD(n){return n.resolve||{}}const Xf=Symbol("RouteTitle");function bD(n){return"string"==typeof n.title||null===n.title}function Jf(n){return mn(t=>{const e=n(t);return e?qe(e).pipe(F(()=>t)):N(t)})}class AV extends class RV{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ep=new T("ROUTES");let tp=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return N(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=wi(e.loadComponent()).pipe(Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Yl(()=>{this.componentLoaders.delete(e)})),r=new Eb(i,()=>new te).pipe(If());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(F(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=Tb(l.get(ep,[],B.Self|B.Optional)));return{routes:c.map(Yf),injector:l}}),Yl(()=>{this.childrenLoaders.delete(i)})),s=new Eb(o,()=>new te).pipe(If());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(e){return wi(e()).pipe(st(i=>i instanceof _w||Array.isArray(i)?N(i):qe(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(R(Xt),R(Wh))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class xV{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function IV(n){throw n}function OV(n,t,e){return t.parse("/")}const FV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mt=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new te,this.errorHandler=IV,this.malformedUriErrorHandler=OV,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>N(void 0),this.urlHandlingStrategy=new xV,this.routeReuseStrategy=new AV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(tp),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new _P(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new gP(h)),this.ngModule=s.get(cr),this.console=s.get(xF);const d=s.get(re);this.isNgZoneEnabled=d instanceof re&&re.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function HL(){return new hr(new J([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qb(this.currentUrlTree,this.rootComponentType),this.transitions=new en({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Ve(r=>0!==r.id),F(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),mn(r=>{let o=!1,s=!1;return N(r).pipe(Ce(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ED(a.source)&&(this.browserUrlTree=a.extractedUrl),N(a).pipe(mn(d=>{const h=this.transitions.getValue();return i.next(new Hf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?sn:Promise.resolve(d)}),function dV(n,t,e,i){return mn(r=>function cV(n,t,e,i,r){return new uV(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(F(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ce(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function wV(n,t,e,i,r,o){return st(s=>function pV(n,t,e,i,r,o,s="emptyOnly",a="legacy"){return new mV(n,t,e,i,r,s,a,o).recognize().pipe(mn(l=>null===l?function fV(n){return new Me(t=>t.error(n))}(new hV):N(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(F(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ce(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new dP(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:v}=a,w=new Hf(h,this.serializeUrl(f),p,_);i.next(w);const D=Qb(f,this.rootComponentType).snapshot;return N(r={...a,targetSnapshot:D,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),sn}),Ce(a=>{const l=new hP(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),F(a=>r={...a,guards:LP(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function qP(n,t){return st(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?N({...e,guardsResult:!0}):function KP(n,t,e,i){return qe(n).pipe(st(r=>function eV(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?N(o.map(a=>{const l=sc(a,t,r);return wi(function $P(n){return n&&Gs(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):l(n,t,e,i)).pipe(Pi())})).pipe(xo()):N(!0)}(r.component,r.route,e,t,i)),Pi(r=>!0!==r,!0))}(s,i,r,n).pipe(st(a=>a&&function HP(n){return"boolean"==typeof n}(a)?function YP(n,t,e,i){return qe(t).pipe(Vi(r=>ql(function QP(n,t){return null!==n&&t&&t(new yP(n)),N(!0)}(r.route.parent,i),function ZP(n,t){return null!==n&&t&&t(new wP(n)),N(!0)}(r.route,i),function JP(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function PP(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Db(()=>N(s.guards.map(l=>{const c=sc(l,s.node,e);return wi(function jP(n){return n&&Gs(n.canActivateChild)}(c)?c.canActivateChild(i,n):c(i,n)).pipe(Pi())})).pipe(xo())));return N(o).pipe(xo())}(n,r.path,e),function XP(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return N(!0);const r=i.map(o=>Db(()=>{const s=sc(o,t,e);return wi(function UP(n){return n&&Gs(n.canActivate)}(s)?s.canActivate(t,n):s(t,n)).pipe(Pi())}));return N(r).pipe(xo())}(n,r.route,e))),Pi(r=>!0!==r,!0))}(i,o,n,t):N(a)),F(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ce(a=>{if(r.guardsResult=a.guardsResult,pr(a.guardsResult))throw tD(0,a.guardsResult);const l=new fP(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Ve(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Jf(a=>{if(a.guards.canActivateChecks.length)return N(a).pipe(Ce(l=>{const c=new pP(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),mn(l=>{let c=!1;return N(l).pipe(function CV(n,t){return st(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return N(e);let o=0;return qe(r).pipe(Vi(s=>function bV(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!bD(r)&&(o[Xf]=r.title),function DV(n,t,e,i){const r=function EV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return N({});const o={};return qe(r).pipe(st(s=>function SV(n,t,e,i){const r=sc(n,t,i);return wi(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(Pi(),Ce(a=>{o[s]=a}))),Of(1),Ff(o),Qn(s=>s instanceof Do?sn:Ln(s)))}(o,n,t,i).pipe(F(s=>(n._resolvedData=s,n.data=Xb(n,e).resolve,r&&bD(r)&&(n.data[Xf]=r.title),null)))}(s.route,i,n,t)),Ce(()=>o++),Of(1),st(s=>o===r.length?N(e):sn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ce({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ce(l=>{const c=new mP(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Jf(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ce(d=>{c.component=d}),F(()=>{})));for(const d of c.children)u.push(...l(d));return u};return xf(l(a.targetSnapshot.root)).pipe(Kl(),Pn(1))}),Jf(()=>this.afterPreactivation()),F(a=>{const l=function SP(n,t,e){const i=zs(n,t._root,e?e._root:void 0);return new Zb(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),Ce(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>F(i=>(new NP(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ce({next(){o=!0},complete(){o=!0}}),Yl(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Qn(a=>{if(s=!0,rD(a)){iD(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new nc(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),iD(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ED(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new qb(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return sn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),oP(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=pr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function NV(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new E(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...FV}:!1===i?{...kV}:i,pr(e))return Ob(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Ob(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new nc(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Gd()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function ED(n){return"imperative"!==n}let Ei=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new te,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:_i(this.skipLocationChange),replaceUrl:_i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_i(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(b(mt),b(To),Br("tabindex"),b(ci),b(Se))},n.\u0275dir=V({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&lt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[xt]}),n})(),pc=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new te,this.subscription=e.events.subscribe(o=>{o instanceof bi&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,s){if(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:_i(this.skipLocationChange),replaceUrl:_i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_i(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(b(mt),b(To),b(dr))},n.\u0275dir=V({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&lt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&ft("target",i.target)("href",i.href,dd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[xt]}),n})(),SD=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===X);return i}getResolvedTitleForRoute(e){return e.data[Xf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(){return dn(VV)},providedIn:"root"}),n})(),VV=(()=>{class n extends SD{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(R(gb))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MD{}let RD=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(e=>e instanceof bi),Vi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=yl(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qe(r).pipe(Ar())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):N(null);const o=r.pipe(st(s=>null===s?N(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?qe([o,this.loader.loadComponent(i)]).pipe(Ar()):o})}}return n.\u0275fac=function(e){return new(e||n)(R(mt),R(Wh),R(Ii),R(MD),R(tp))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const AD=new T("");let BV=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Kb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Gd()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const np=new T("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),TD=new T("ROUTER_FORROOT_GUARD"),xD=new T(""),HV=[lf,{provide:Lb,useClass:Pb},{provide:mt,useFactory:function WV(n,t,e,i,r,o,s,a={},l,c){const u=new mt(null,n,t,e,i,r,Tb(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),u.titleStrategy=s,function qV(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,u),u},deps:[Lb,Us,lf,Xt,Wh,ep,SD,np,[class TV{},new zn],[class MV{},new zn]]},Us,{provide:To,useFactory:function KV(n){return n.routerState.root},deps:[mt]},tp];function zV(){return new dC("Router",mt)}let ID=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[HV,[],OD(e),{provide:TD,useFactory:GV,deps:[[mt,new zn,new Wr]]},{provide:np,useValue:i||{}},i?.useHash?{provide:dr,useClass:wk}:{provide:dr,useClass:NC},{provide:AD,useFactory:()=>{const n=dn(mt),t=dn(zN),e=dn(np);return e.scrollOffset&&t.setOffset(e.scrollOffset),new BV(n,t,e)}},i?.preloadingStrategy?tB(i.preloadingStrategy):[],{provide:dC,multi:!0,useFactory:zV},i?.initialNavigation?ZV(i):[],[{provide:FD,useFactory:YV},{provide:rC,multi:!0,useExisting:FD}]]}}static forChild(e){return{ngModule:n,providers:[OD(e)]}}}return n.\u0275fac=function(e){return new(e||n)(R(TD,8),R(mt,8))},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();function GV(n){return"guarded"}function OD(n){return[{provide:zR,multi:!0,useValue:n},{provide:ep,multi:!0,useValue:n}]}function YV(){const n=dn(Xt);return t=>{const e=n.get(Ts);if(t!==e.components[0])return;const i=n.get(mt),r=n.get(kD);null===n.get(ip,null,B.Optional)&&i.initialNavigation(),n.get(xD,null,B.Optional)?.setUpPreloading(),n.get(AD,null,B.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const FD=new T("");function ZV(n){return["disabled"===n.initialNavigation?[{provide:bl,multi:!0,useFactory:()=>{const n=dn(mt);return()=>{n.setUpLocationChangeListener()}}},{provide:ip,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:ip,useValue:"enabledBlocking"},{provide:bl,multi:!0,deps:[Xt],useFactory:n=>{const t=n.get(_k,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(mt),s=n.get(kD);(function i(r){n.get(mt).events.pipe(Ve(s=>s instanceof bi||s instanceof nc||s instanceof qb),F(s=>s instanceof bi||s instanceof nc&&(0===s.code||1===s.code)&&null),Ve(s=>null!==s),Pn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||s.closed?N(void 0):s),o.initialNavigation()}))}}]:[]]}const kD=new T("",{factory:()=>new te}),ip=new T("");function tB(n){return[RD,{provide:xD,useExisting:RD},{provide:MD,useExisting:n}]}var mr=(()=>{return(n=mr||(mr={}))[n.CANVAS=0]="CANVAS",n[n.CUSTOM=1]="CUSTOM",mr;var n})();class oe{static isSingleRowColumnRange(t){return t.startRow===t.endRow&&t.startColumn===t.endColumn}static validate(t){if(t.endRow<t.startRow){const e=t.endRow;t.endRow=t.startRow,t.startRow=e}if(t.endColumn<t.startColumn){const e=t.endColumn;t.endColumn=t.startColumn,t.startColumn=e}return t}static contains(t,e){return t.startRow>=e.startRow&&t.startColumn>=e.startColumn&&t.endRow<=e.endRow&&t.endColumn<=e.endColumn}static overlap(t,e){return!(t.startRow>e.endRow||t.endRow<e.startRow||t.startColumn>e.endColumn||t.endColumn<e.startColumn)}static and(t,e){return oe.overlap(t,e)?{startRow:Math.max(t.startRow,e.startRow),endRow:Math.min(t.endRow,e.endRow),startColumn:Math.max(t.startColumn,e.startColumn),endColumn:Math.min(t.endColumn,e.endColumn)}:null}static xor(t,e){const i=[];return t.startRow!==e.startRow&&i.push(oe.validate({startRow:Math.min(t.startRow,e.startRow),endRow:Math.max(t.startRow,e.startRow)-1,startColumn:Math.min(t.startColumn,e.startColumn),endColumn:Math.max(t.endColumn,e.endColumn)})),t.endRow!==e.endRow&&i.push(oe.validate({startRow:Math.min(t.endRow,e.endRow)+1,endRow:Math.max(t.endRow,e.endRow),startColumn:Math.min(t.startColumn,e.startColumn),endColumn:Math.max(t.endColumn,e.endColumn)})),t.startColumn!==e.startColumn&&i.push(oe.validate({startRow:Math.max(t.startRow,e.startRow),endRow:Math.min(t.endRow,e.endRow),startColumn:Math.min(t.startColumn,e.startColumn),endColumn:Math.max(t.startColumn,e.startColumn)-1})),t.endColumn!==e.endColumn&&i.push(oe.validate({startRow:Math.max(t.startRow,e.startRow),endRow:Math.min(t.endRow,e.endRow),startColumn:Math.min(t.endColumn,e.endColumn)+1,endColumn:Math.max(t.endColumn,e.endColumn)})),i}static equals(t,e){return t.startRow===e.startRow&&t.startColumn===e.startColumn&&t.endRow===e.endRow&&t.endColumn===e.endColumn}static size(t){return(t.endColumn-t.startColumn+1)*(t.endRow-t.startRow+1)}}var gr=(()=>{return(n=gr||(gr={}))[n.BEFORE_DELETE=0]="BEFORE_DELETE",n[n.HIDDEN=1]="HIDDEN",gr;var n})();class ne{constructor(t){this._startRow=t.startRow,this._endRow=t.endRow,this._startColumn=t.startColumn,this._endColumn=t.endColumn}static fromSingleRowColumn(t,e){return new ne({startRow:t,endRow:t,startColumn:e,endColumn:e})}get endColumn(){return this._endColumn}set endColumn(t){this._endColumn=t}get endRow(){return this._endRow}set endRow(t){this._endRow=t}get startColumn(){return this._startColumn}set startColumn(t){this._startColumn=t}get startRow(){return this._startRow}set startRow(t){this._startRow=t}}class nB extends yt{constructor(t,e){super()}schedule(t,e=0){return this}}const mc={setInterval(n,t,...e){const{delegate:i}=mc;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=mc;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class rp extends nB{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return mc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;mc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,pa(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ND={now:()=>(ND.delegate||Date).now(),delegate:void 0};class qs{constructor(t,e=qs.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}qs.now=ND.now;class op extends qs{constructor(t,e=qs.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Io=new op(rp),iB=Io;function Je(n){return Ie((t,e)=>{ht(n).subscribe(ge(e,()=>e.complete(),ga)),!e.closed&&t.subscribe(e)})}const LD={leading:!0,trailing:!1};function PD(n=0,t,e=iB){let i=-1;return null!=t&&(Um(t)?e=t:i=t),new Me(r=>{let o=function oB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function VD(n,t=Io,e=LD){const i=PD(n,t);return function rB(n,t=LD){return Ie((e,i)=>{const{leading:r,trailing:o}=t;let s=!1,a=null,l=null,c=!1;const u=()=>{l?.unsubscribe(),l=null,o&&(f(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},h=p=>l=ht(n(p)).subscribe(ge(i,u,d)),f=()=>{if(s){s=!1;const p=a;a=null,i.next(p),!c&&h(p)}};e.subscribe(ge(i,p=>{s=!0,a=p,(!l||l.closed)&&(r?f():h(p))},()=>{c=!0,(!(o&&s&&l)||l.closed)&&i.complete()}))})}(()=>i,e)}class Oo{static setCanvasSize(t,e,i,r){null==r&&(r=window.devicePixelRatio),t.width=e*r,t.height=i*r,t.style.width=`${e}px`,t.style.height=`${i}px`}static makeRoundRectPath(t,e,i){t.beginPath(),t.moveTo(e.left+i,e.top),t.lineTo(e.left+e.width-i,e.top),t.quadraticCurveTo(e.left+e.width,e.top,e.left+e.width,e.top+i),t.lineTo(e.left+e.width,e.top+e.height-i),t.quadraticCurveTo(e.left+e.width,e.top+e.height,e.left+e.width-i,e.top+e.height),t.lineTo(e.left+i,e.top+e.height),t.quadraticCurveTo(e.left,e.top+e.height,e.left,e.top+e.height-i),t.lineTo(e.left,e.top+i),t.quadraticCurveTo(e.left,e.top,e.left+i,e.top),t.closePath()}}class BD{static determineScrollOffsetFromEvent(t,e,i){const r=!i.shiftKey,o=e?i.deltaY:i.deltaX;switch(i.deltaMode){case i.DOM_DELTA_PIXEL:return o*window.devicePixelRatio;case i.DOM_DELTA_LINE:return 25*o*window.devicePixelRatio;case i.DOM_DELTA_PAGE:return o*(r?t.height:t.width);default:throw new Error("WheelEvent deltaMode unsupported")}}}var Ks=(()=>{return(n=Ks||(Ks={}))[n.INFO=0]="INFO",n[n.WARNING=1]="WARNING",n[n.ERROR=2]="ERROR",Ks;var n})();let HD=(()=>{class n{}return n.COPY_PERFORMANCE_WARNING="copy.performance-warning",n.COPY="copy.success",n})();class sB{constructor(t,e){this.limit=t,this.cellCountToCopy=e}get type(){return Ks.WARNING}get id(){return HD.COPY_PERFORMANCE_WARNING}get message(){return`Copy prevented. You are trying to copy about ${this.cellCountToCopy} cells which is above the limit of ${this.limit} cells. If you try to copy despite this warning, you may face performance issues.`}get callback(){return this._callback}set callback(t){this._callback=t}}class zD{static setClipboardContent(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-9999px",e.style.userSelect="text",document.body.appendChild(e),e.innerHTML=t,window.getSelection().selectAllChildren(e),document.execCommand("copy"),document.body.removeChild(e)}static buildHTMLTableForCopy(t,e,i){let r="<table>";const o=new Set;for(let s=t.startRow;s<=t.endRow;s++)if(!e.isRowHidden(s)){r+="<tr>";for(let l=t.startColumn;l<=t.endColumn;l++){if(e.isColumnHidden(l))continue;const u=e.getCell(s,l);let d="",h=1,f=1,p=!1;u&&(o.has(u)?p=!0:(o.add(u),d=i(u),h=u.range.endRow-u.range.startRow+1,f=u.range.endColumn-u.range.startColumn+1)),p||(r+="<td",h>1&&(r+=` rowspan="${h}"`),f>1&&(r+=` colspan="${f}"`),r+=`>${d}</td>`)}r+="</tr>"}return r+="</table>",r}}class aB{get id(){return HD.COPY}get type(){return Ks.INFO}get message(){return"Copied selected cells."}}let K=(()=>{class n{static toStyleStr(e){return`rgba(${e.red}, ${e.green}, ${e.blue}, ${e.alpha})`}}return n.WHITE={red:255,green:255,blue:255,alpha:1},n.BLACK={red:0,green:0,blue:0,alpha:1},n.TRANSPARENT={red:0,green:0,blue:0,alpha:0},n.DARKGRAY={red:70,green:70,blue:70,alpha:1},n.GRAY={red:127,green:127,blue:127,alpha:1},n.LIGHTGRAY={red:192,green:192,blue:192,alpha:1},n.CORAL={red:255,green:51,blue:102,alpha:1},n.DARKCORAL={red:225,green:21,blue:72,alpha:1},n.ORANGE={red:255,green:165,blue:0,alpha:1},n.BRIGHT_ORANGE={red:255,green:190,blue:0,alpha:1},n})();var _r=(()=>{return(n=_r||(_r={}))[n.SOLID=0]="SOLID",n[n.DASHED=1]="DASHED",n[n.DOTTED=2]="DOTTED",_r;var n})();const lB=(n,t)=>n&&t?n.priority>t.priority?n:t:n||t||n,gc={priority:0,isDefault:!0,color:{red:230,green:230,blue:230,alpha:1},size:1,style:_r.SOLID},cB={left:gc,right:gc,bottom:gc,top:gc};class dB{constructor(t,e){this._priorityCounter=0,this._cellModel=t,this._options=e}setBorder(t,e){var i,r,o,s;const a=++this._priorityCounter;for(let l=e.startRow;l<=e.endRow;l++){if(t.left){const c=this._getCellBorder(l,e.startColumn,!0);(null===(i=c.left)||void 0===i?void 0:i.priority)!==a&&(c.left={priority:a,color:t.left.color,size:t.left.size,style:t.left.style})}if(t.right){const c=this._getCellBorder(l,e.endColumn,!0);(null===(r=c.right)||void 0===r?void 0:r.priority)!==a&&(c.right={priority:a,color:t.right.color,size:t.right.size,style:t.right.style})}}for(let l=e.startColumn;l<=e.endColumn;l++){if(t.top){const c=this._getCellBorder(e.startRow,l,!0);(null===(o=c.top)||void 0===o?void 0:o.priority)!==a&&(c.top={priority:a,color:t.top.color,size:t.top.size,style:t.top.style})}if(t.bottom){const c=this._getCellBorder(e.endRow,l,!0);(null===(s=c.bottom)||void 0===s?void 0:s.priority)!==a&&(c.bottom={priority:a,color:t.bottom.color,size:t.bottom.size,style:t.bottom.style})}}}setBorderLine(t,e,i,r){const o=this._getCellBorder(t,e,!0),s=++this._priorityCounter;r.top&&(o.top={priority:s,color:i.color,size:i.size,style:i.style}),r.bottom&&(o.bottom={priority:s,color:i.color,size:i.size,style:i.style}),r.left&&(o.left={priority:s,color:i.color,size:i.size,style:i.style}),r.right&&(o.right={priority:s,color:i.color,size:i.size,style:i.style})}_getCellBorder(t,e,i){const r=this._cellModel.getCell(t,e,i);if(!r)return null;let o=r.border;return!o&&i&&(o={},r.border=o),o}_getDefaultBorder(t,e){return this._options.border.defaultBorderSupplier?this._options.border.defaultBorderSupplier(t,e):this._options.border.defaultBorder?this._options.border.defaultBorder:{}}getBorders(t){const i=t.endColumn-t.startColumn+1,r=new Array(t.endRow-t.startRow+1);for(let s=0;s<r.length;s++)r[s]=new Array(i);const o=this._cellModel.getCells(t);for(const s of o){const a=this._getCellBorder(s.range.startRow,s.range.startColumn,!0),l=this._getDefaultBorder(s.range.startRow,s.range.startColumn),c={top:a.top?a.top:l.top,bottom:a.bottom?a.bottom:l.bottom,left:a.left?a.left:l.left,right:a.right?a.right:l.right},u=Math.max(s.range.startRow,t.startRow),d=Math.min(s.range.endRow,t.endRow),h=Math.max(s.range.startColumn,t.startColumn),f=Math.min(s.range.endColumn,t.endColumn);for(let p=u;p<=d;p++){const _=p-t.startRow;for(let v=h;v<=f;v++){const D={};if(r[_][v-t.startColumn]=D,p===s.range.startRow&&(D.top=c.top,p>0)){const C=this._getCellBorder(p-1,v,!1);C&&C.bottom&&(D.top=this._options.border.borderCollisionResolver(c.top,C.bottom))}if(p===s.range.endRow&&(D.bottom=c.bottom,p<this._cellModel.getRowCount()-1)){const C=this._getCellBorder(p+1,v,!1);C&&C.top&&(D.bottom=this._options.border.borderCollisionResolver(c.bottom,C.top))}if(v===s.range.startColumn&&(D.left=c.left,p>0)){const C=this._getCellBorder(p,v-1,!1);C&&C.right&&(D.left=this._options.border.borderCollisionResolver(c.left,C.right))}if(v===s.range.endColumn&&(D.right=c.right,p<this._cellModel.getColumnCount()-1)){const C=this._getCellBorder(p,v+1,!1);C&&C.left&&(D.right=this._options.border.borderCollisionResolver(c.right,C.left))}}}}for(let s=0;s<r.length;s++){const a=r[s];for(let l=0;l<a.length;l++)if(!a[l]){const u=this._getDefaultBorder(t.startRow+s,t.startColumn+l);a[l]={top:u.top,bottom:u.bottom,left:u.left,right:u.right}}}return r}}var UD=function(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})};let hB=(()=>{class n{constructor(){this._cellRendererLookup=new Map,this._onCleanup=new te,this._repaintScheduler=new te,this._resizeThrottleSubject=new te,this._scrollOffset={x:0,y:0},this._requestAnimationFrameID=null,this._scrollBarDragStart=null,this._devicePixelRatio=Math.max(window.devicePixelRatio,1),this._isInMouseDragMode=!1,this._mouseDragStart=null,this._copyHandleDragStart=null,this._startTouchID=null,this._secondTouchID=null,this._panningStart=null,this._touchZoomContext=null,this._initialSelectionRange=null,this._lastMousePosition=null,this._copyHandleInitial=null,this._resizingDragStart=null,this._autoScrollContext=null,this._lastUsedCellRenderers=new Set,this._zoom=1,this._lastHoveredCellRange=null,this._overlays=[],this._updateOverlaysAfterRenderCycle=!1,this._overlaysToUpdateAfterRenderCycle=[],this._focusedCellPosition=null,this._beforeSelectionScrollPreventionUserSelectPropertyValue="",this._selectionScrollPreventionEnabled=!1}get rendererOptions(){return this._options.renderer}cleanup(){this._repaintScheduler.complete(),this._resizeThrottleSubject.complete(),this._unbindListeners(),this._onCleanup.next(),this._onCleanup.complete(),n._clearContainerChildren(this._container)}initialize(e,i,r){return UD(this,void 0,void 0,function*(){this._container=this._createTableContainer(e),this._engine=i,this._cellModel=i.getCellModel(),this._selectionModel=i.getSelectionModel(),this._borderModel=i.getBorderModel(),this._options=r,this._cellModel.events().pipe(Je(this._onCleanup)).subscribe(o=>this._onCellModelEvent(o)),this._initializeRenderingElements(),this._bindListeners(),this._initializeCellRenderers()})}_createTableContainer(e){const i=document.createElement("div");for(i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.padding="0",i.style.border="0";e.lastChild;)e.removeChild(e.lastChild);return e.appendChild(i),i}_onBeforeDeletingCells(e,i,r){this._cleanupViewportCacheBeforeDeletingCells(e,i,r)}_cleanupViewportCacheBeforeDeletingCells(e,i,r){this._doForCellAreaRange(o=>{let s;s=r?{startRow:Math.max(e,o.startRow),endRow:Math.min(e+i-1,o.endRow),startColumn:o.startColumn,endColumn:o.endColumn}:{startRow:o.startRow,endRow:o.endRow,startColumn:Math.max(e,o.startColumn),endColumn:Math.min(e+i-1,o.endColumn)},!(s.startRow>s.endRow||s.startColumn>s.endColumn)&&this._cleanupCellViewportCachesForCellRange(s,a=>oe.contains(a,s))})}_onHiddenCells(e,i){this._cleanupViewportCacheDueToHidingCells(e,i)}_cleanupViewportCacheDueToHidingCells(e,i){let r=-1,o=-1,s=[];for(const u of e)-1===r?(r=u,o=u):(u===o+1||(s.push({from:r,to:o}),r=u),o=u);s.push({from:r,to:o});const a=this._cellModel.getRowCount()-1,l=this._cellModel.getColumnCount()-1,c=s.map(u=>({startRow:i?u.from:0,endRow:i?u.to:a,startColumn:i?0:u.from,endColumn:i?l:u.to}));this._doForCellAreaRange(u=>{for(const d of c){const h=oe.and(d,u);h&&this._cleanupCellViewportCachesForCellRange(h,f=>!this._cellModel.isRangeVisible(f),!0)}})}_onCellModelEvent(e){e.type===gr.BEFORE_DELETE?this._onBeforeDeletingCells(e.startIndex,e.count,e.isRow):e.type===gr.HIDDEN&&this._onHiddenCells(e.indices,e.isRow)}_initializeCellRenderers(){for(const e of this._cellRendererLookup.values())e.initialize(this._engine)}requestFocus(){this._overlayContainer.focus()}isFocused(){return!!this._focusedCellPosition}_bindListeners(){this._keyDownListener=e=>this._onKeyDown(e),this._overlayContainer.addEventListener("keydown",this._keyDownListener),this._keyUpListener=e=>this._onKeyUp(e),this._overlayContainer.addEventListener("keyup",this._keyUpListener),this._wheelListener=e=>this._onWheel(e),this._overlayContainer.addEventListener("wheel",this._wheelListener,{passive:!1}),this._mouseDownListener=e=>this._onMouseDown(e),this._overlayContainer.addEventListener("mousedown",this._mouseDownListener),this._mouseMoveListener=e=>this._onMouseMove(e),window.addEventListener("mousemove",this._mouseMoveListener),this._selectStartListener=e=>this._onSelectStart(e),window.addEventListener("selectstart",this._selectStartListener),this._mouseUpListener=e=>this._onMouseUp(e),window.addEventListener("mouseup",this._mouseUpListener),this._doubleClickListener=e=>this._onDoubleClick(e),this._overlayContainer.addEventListener("dblclick",this._doubleClickListener),this._touchStartListener=e=>this._onTouchStart(e),this._overlayContainer.addEventListener("touchstart",this._touchStartListener),this._touchMoveListener=e=>this._onTouchMove(e),window.addEventListener("touchmove",this._touchMoveListener),this._touchEndListener=e=>this._onTouchEnd(e),window.addEventListener("touchend",this._touchEndListener),this._resizeObserver=new ResizeObserver(e=>this._onResize(e)),this._resizeObserver.observe(this._container),this._focusListener=e=>this._onFocus(e),this._overlayContainer.addEventListener("focus",this._focusListener),this._blurListener=e=>this._onBlur(e),this._overlayContainer.addEventListener("blur",this._blurListener),this._resizeThrottleSubject.asObservable().pipe(Je(this._onCleanup),VD(this.rendererOptions.canvas.lazyRenderingThrottleDuration,Io,{leading:!1,trailing:!0})).subscribe(()=>this._onContainerResized()),this._repaintScheduler.asObservable().pipe(Je(this._onCleanup),VD(this.rendererOptions.canvas.lazyRenderingThrottleDuration,Io,{leading:!1,trailing:!0})).subscribe(()=>this._render())}_unbindListeners(){this._keyDownListener&&this._overlayContainer.removeEventListener("keydown",this._keyDownListener),this._keyUpListener&&this._overlayContainer.removeEventListener("keyup",this._keyUpListener),this._wheelListener&&this._overlayContainer.removeEventListener("wheel",this._wheelListener),this._mouseDownListener&&this._overlayContainer.removeEventListener("mousedown",this._mouseDownListener),this._mouseMoveListener&&window.removeEventListener("mousemove",this._mouseMoveListener),this._selectStartListener&&window.removeEventListener("selectstart",this._selectStartListener),this._mouseUpListener&&window.removeEventListener("mouseup",this._mouseUpListener),this._doubleClickListener&&this._overlayContainer.removeEventListener("dblclick",this._doubleClickListener),this._touchStartListener&&this._overlayContainer.removeEventListener("touchstart",this._touchStartListener),this._touchMoveListener&&window.removeEventListener("touchmove",this._touchMoveListener),this._touchEndListener&&window.removeEventListener("touchend",this._touchEndListener),this._resizeObserver&&this._resizeObserver.disconnect(),this._focusListener&&this._overlayContainer.removeEventListener("focus",this._focusListener),this._blurListener&&this._overlayContainer.removeEventListener("blur",this._blurListener)}_onFocus(e){const i=this._selectionModel.getPrimary();i&&this._updateFocusedCell(i.initial),this._repaintScheduler.next()}_onBlur(e){this._updateFocusedCell(null),this._repaintScheduler.next()}_onMouseDown(e){if(this._lastRenderingContext){if(1===e.buttons){const[r,o]=this._getMouseOffset(e),s=n._isMouseOverScrollBar(r,o,!0,this._lastRenderingContext.scrollBar.vertical),a=n._isMouseOverScrollBar(r,o,!1,this._lastRenderingContext.scrollBar.horizontal),l=this._isMouseOverResizingSpace(r,o);if(s||a)this._scrollBarDragStart={scrollHorizontally:!s,scrollVertically:s,startX:r,startY:o,offsetFromScrollBarStart:s?this._lastRenderingContext.scrollBar.vertical.y-o:this._lastRenderingContext.scrollBar.horizontal.x-r,startScrollOffset:{x:this._scrollOffset.x,y:this._scrollOffset.y}};else if(n._isMouseOverCopyHandle(r,o,this._lastRenderingContext))this._copyHandleDragStart={startX:r,startY:o,startScrollOffset:{x:this._scrollOffset.x,y:this._scrollOffset.y}},this._initialSelectionRange=this._selectionModel.getPrimary().range,this._copyHandleInitial={row:this._selectionModel.getPrimary().initial.row,column:this._selectionModel.getPrimary().initial.column};else if(this._options.renderer.canvas.rowColumnResizing.allowResizing&&l.isMouseOver)this._resizingDragStart={startX:r,startY:o,currentX:r,currentY:o,info:l};else if(this._isInMouseDragMode)this._mouseDragStart={startX:r,startY:o,startScrollOffset:{x:this._scrollOffset.x,y:this._scrollOffset.y}};else{const c=this._getCellRangeAtPoint(r,o);this._sendEventForPosition(c.startRow,c.startColumn,d=>d.onMouseDown,d=>{const h=d;return h.offset={x:r,y:o},h.originalEvent=e,h})||(this._initialSelectionRange=c,1===this._selectionModel.getSelections().length&&oe.equals(this._selectionModel.getPrimary().range,c)||this._updateCurrentSelection(this._initialSelectionRange,{row:this._initialSelectionRange.startRow,column:this._initialSelectionRange.startColumn},!e.ctrlKey,!0,!1))}}this._updateSelectionScrollPrevention()}}_sendEventForPosition(e,i,r,o){if(e>=this._cellModel.getRowCount()||i>=this._cellModel.getColumnCount())return!1;const s=this._cellModel.getCell(e,i,!0),a=this._cellRendererLookup.get(s.rendererName).getEventListener();if(a){const l=r(a);if(l){const c=o({cell:s,preventDefault:!1});return l(c),c.preventDefault}}return!1}_getCellRangeAtPoint(e,i,r=!0){if(!r){const l=this._lastRenderingContext?this._lastRenderingContext.viewPort.width:0,c=this._lastRenderingContext?this._lastRenderingContext.viewPort.height:0;if(e<0||i<0||e>l||i>c)return null}e>(this._lastRenderingContext&&this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0)&&(e+=this._scrollOffset.x),i>(this._lastRenderingContext&&this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0)&&(i+=this._scrollOffset.y);const a=this._cellModel.getCellAtOffset(e,i);return a?{startRow:a.range.startRow,endRow:a.range.endRow,startColumn:a.range.startColumn,endColumn:a.range.endColumn}:ne.fromSingleRowColumn(this._cellModel.getRowAtOffset(i),this._cellModel.getColumnAtOffset(e))}_updateCurrentSelection(e,i,r,o,s){let a=!1;if(r&&(this._selectionModel.clear(),a=!0),o)this._selectionModel.addSelection({range:e,initial:i},!0,s),a=!0;else{const l=this._selectionModel.getPrimary();if(!l)return;this._selectionModel.modifySelection(l,e,i,!0,s)&&(a=!0)}if(s){const l=this._selectionModel.getPrimary();this._updateFocusedCell(l.initial)}a&&this._repaintScheduler.next()}_getMouseOffset(e){const i=this._canvasElement.getBoundingClientRect();return[(e.clientX-i.left)/this._zoom,(e.clientY-i.top)/this._zoom]}static _isMouseOverScrollBar(e,i,r,o){return!!o&&(e>=o.x&&e<=o.x+(r?o.size:o.length)&&i>=o.y&&i<=o.y+(r?o.length:o.size))}static _isMouseOverCopyHandle(e,i,r){return!!(r&&r.selection&&r.selection.copyHandle.isRendered)&&e>=r.selection.copyHandle.bounds.left&&e<=r.selection.copyHandle.bounds.left+r.selection.copyHandle.bounds.width&&i>=r.selection.copyHandle.bounds.top&&i<=r.selection.copyHandle.bounds.top+r.selection.copyHandle.bounds.height}_isMouseOverResizingSpace(e,i){const r=this._getCellRangeAtPoint(e,i),o=r.startRow<this._options.renderer.canvas.rowColumnResizing.rowCount,s=r.startColumn<this._options.renderer.canvas.rowColumnResizing.columnCount;if(!o&&!s)return{isMouseOver:!1};const a=this._cellModel.getBounds(r),l=Math.min(this.rendererOptions.view.fixedRows,this._cellModel.getRowCount()),c=Math.min(this.rendererOptions.view.fixedColumns,this._cellModel.getColumnCount());r.startRow>l&&(a.top-=this._scrollOffset.y),r.startColumn>c&&(a.left-=this._scrollOffset.x);const D=this._options.renderer.canvas.rowColumnResizing.resizerSize;let C=-1;o&&(a.left+a.width-e<=D?C=r.endColumn:e-a.left<=D&&(C=r.startColumn-1));let M=-1;return s&&(a.top+a.height-i<=D?M=r.endRow:i-a.top<=D&&(M=r.startRow-1)),{isMouseOver:-1!==M||-1!=C,overRow:-1!==M,index:-1!==M?M:C}}_setCursor(e){this._container.style.cursor=e}_resetCursor(){"auto"!==this._container.style.cursor&&(this._container.style.cursor="auto")}_onSelectStart(e){this._isDragging()&&e.preventDefault()}_onMouseMove(e){if(!this._lastRenderingContext)return;const[i,r]=this._getMouseOffset(e);let s=!1,a=!0;if(1===e.buttons){const c=!!this._mouseDragStart,u=!!this._initialSelectionRange,d=!!this._copyHandleDragStart,h=!!this._resizingDragStart;if(this._scrollBarDragStart)this._onScrollBarMove(i,r,this._scrollBarDragStart),s=!0;else if(d){const f=this._cellModel.getBounds(this._initialSelectionRange),p=Math.min(this.rendererOptions.view.fixedRows,this._cellModel.getRowCount()),_=Math.min(this.rendererOptions.view.fixedColumns,this._cellModel.getColumnCount());this._initialSelectionRange.startRow>p&&(f.top-=this._scrollOffset.y),this._initialSelectionRange.startColumn>_&&(f.left-=this._scrollOffset.x);let v=0;i<f.left?v=i-f.left:i>f.left+f.width&&(v=i-(f.left+f.width));let w=0;r<f.top?w=r-f.top:r>f.top+f.height&&(w=r-(f.top+f.height));const D=Math.abs(v)>Math.abs(w),C=this._getCellRangeAtPoint(i,r);D?(C.startRow=this._initialSelectionRange.startRow,C.endRow=this._initialSelectionRange.endRow,v>0?C.startColumn=this._initialSelectionRange.startColumn:C.endColumn=this._initialSelectionRange.endColumn):(C.startColumn=this._initialSelectionRange.startColumn,C.endColumn=this._initialSelectionRange.endColumn,w>0?C.startRow=this._initialSelectionRange.startRow:C.endRow=this._initialSelectionRange.endRow),this._updateCurrentSelection({startRow:Math.min(this._initialSelectionRange.startRow,C.startRow),endRow:Math.max(this._initialSelectionRange.endRow,C.endRow),startColumn:Math.min(this._initialSelectionRange.startColumn,C.startColumn),endColumn:Math.max(this._initialSelectionRange.endColumn,C.endColumn)},{row:this._copyHandleInitial.row,column:this._copyHandleInitial.column},!1,!1,!1);const M=this._lastRenderingContext.viewPort,O=i<0||i>M.width,L=r<0||r>M.height;O||L?this._updateAutoScrolling(O?i<0?i:i-M.width:0,L?r<0?r:r-M.height:0,0):this._stopAutoScrolling(),a=!1,s=!0}else if(h)this._resizingDragStart.currentX=i,this._resizingDragStart.currentY=r,this._repaintScheduler.next(),s=!0;else if(c)this._onViewPortMove(i,r,this._mouseDragStart),s=!0;else if(u){const f=this._getCellRangeAtPoint(i,r);this._updateCurrentSelection({startRow:Math.min(this._initialSelectionRange.startRow,f.startRow),endRow:Math.max(this._initialSelectionRange.endRow,f.endRow),startColumn:Math.min(this._initialSelectionRange.startColumn,f.startColumn),endColumn:Math.max(this._initialSelectionRange.endColumn,f.endColumn)},{row:this._initialSelectionRange.startRow,column:this._initialSelectionRange.startColumn},!1,!1,!1);const p=this._lastRenderingContext.viewPort,_=i<0||i>p.width,v=r<0||r>p.height;_||v?this._updateAutoScrolling(_?i<0?i:i-p.width:0,v?r<0?r:r-p.height:0,0):this._stopAutoScrolling(),s=!0}}else if(n._isMouseOverCopyHandle(i,r,this._lastRenderingContext))this._setCursor("crosshair"),a=!1;else if(this._options.renderer.canvas.rowColumnResizing.allowResizing){const l=this._isMouseOverResizingSpace(i,r);l.isMouseOver&&(this._setCursor(l.overRow?"row-resize":"col-resize"),a=!1)}if(a&&this._resetCursor(),!s){const l=this._getCellRangeAtPoint(i,r,!1);l?(!!this._lastHoveredCellRange&&!oe.equals(l,this._lastHoveredCellRange)&&this._sendEventForPosition(this._lastHoveredCellRange.startRow,this._lastHoveredCellRange.startColumn,c=>c.onMouseOut,c=>{const u=c;return u.originalEvent=e,u}),this._lastHoveredCellRange=l,this._sendEventForPosition(l.startRow,l.startColumn,c=>c.onMouseMove,c=>{const u=c;return u.offset={x:i,y:r},u.originalEvent=e,u})):this._lastHoveredCellRange&&this._sendEventForPosition(this._lastHoveredCellRange.startRow,this._lastHoveredCellRange.startColumn,c=>c.onMouseOut,c=>{const u=c;return u.originalEvent=e,u})}this._lastMousePosition={x:i,y:r}}_updateAutoScrolling(e,i,r){this._autoScrollContext?(this._autoScrollContext.xDiff=e,this._autoScrollContext.yDiff=i):this._autoScrollContext={animationFrameID:window.requestAnimationFrame(o=>this._autoScrollStep(o,this._autoScrollContext.lastTimestamp)),lastTimestamp:window.performance.now(),xDiff:e,yDiff:i,acceleration:r}}_autoScrollStep(e,i){const r=e-i;this._autoScrollContext.lastTimestamp=e;const o=this.rendererOptions.canvas.selection.autoScrollingSpeed*(r/1e3),s=this._autoScrollContext.xDiff*o,a=this._autoScrollContext.yDiff*o;if(this._autoScrollContext.xDiff=this._autoScrollContext.xDiff>0?Math.max(this._autoScrollContext.xDiff+this._autoScrollContext.acceleration*r/1e3,0):Math.min(this._autoScrollContext.xDiff-this._autoScrollContext.acceleration*r/1e3,0),this._autoScrollContext.yDiff=this._autoScrollContext.yDiff>0?Math.max(this._autoScrollContext.yDiff+this._autoScrollContext.acceleration*r/1e3,0):Math.min(this._autoScrollContext.yDiff-this._autoScrollContext.acceleration*r/1e3,0),this._scrollTo(this._scrollOffset.x+s,this._scrollOffset.y+a)&&this._repaintScheduler.next(),this._initialSelectionRange){const c=this._getCellRangeAtPoint(this._lastMousePosition.x,this._lastMousePosition.y);this._updateCurrentSelection({startRow:Math.min(this._initialSelectionRange.startRow,c.startRow),endRow:Math.max(this._initialSelectionRange.endRow,c.endRow),startColumn:Math.min(this._initialSelectionRange.startColumn,c.startColumn),endColumn:Math.max(this._initialSelectionRange.endColumn,c.endColumn)},{row:this._initialSelectionRange.startRow,column:this._initialSelectionRange.startColumn},!1,!1,!1)}0!==this._autoScrollContext.xDiff||0!==this._autoScrollContext.yDiff?this._autoScrollContext.animationFrameID=window.requestAnimationFrame(c=>this._autoScrollStep(c,this._autoScrollContext.lastTimestamp)):this._stopAutoScrolling()}_stopAutoScrolling(){this._autoScrollContext&&(window.cancelAnimationFrame(this._autoScrollContext.animationFrameID),this._autoScrollContext=null)}_onViewPortMove(e,i,r){this._scrollTo(r.startScrollOffset.x+(r.startX-e),r.startScrollOffset.y+(r.startY-i))&&this._repaintScheduler.next()}_onScrollBarMove(e,i,r){if(r.scrollVertically){const o=this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0,s=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.height,a=this._cellModel.getHeight()-o,l=r.startY-o;this._scrollToY((l+((i-=o)-l)+r.offsetFromScrollBarStart)/(s-this._lastRenderingContext.scrollBar.vertical.length)*(a-s))&&this._repaintScheduler.next()}if(r.scrollHorizontally){const o=this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0,s=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.width,a=this._cellModel.getWidth()-o,l=r.startX-o;this._scrollToX((l+((e-=o)-l)+r.offsetFromScrollBarStart)/(s-this._lastRenderingContext.scrollBar.horizontal.length)*(a-s))&&this._repaintScheduler.next()}}_estimatePreferredRowColumnSize(e,i){if(i?this._cellModel.isRowHidden(e):this._cellModel.isColumnHidden(e))return{success:!1};const o=i?{startRow:e,endRow:e,startColumn:0,endColumn:this._cellModel.getColumnCount()-1}:{startRow:0,endRow:this._cellModel.getRowCount()-1,startColumn:e,endColumn:e},s=this._cellModel.getCells(o,{includeHidden:!1});let a=-1;for(const l of s)if(oe.isSingleRowColumnRange(l.range)||(i?l.range.startRow===e&&l.range.endRow===e:l.range.startColumn===e&&l.range.endColumn===e)){const d=this._getCellRendererForName(l.rendererName).estimatePreferredSize(l);if(d){const h=i?d.height:d.width;a<h&&(a=h)}}return a<0?{success:!1}:{success:!0,preferredSize:a}}_performDoubleClickResizerAction(e,i){const r=this._options.renderer.canvas.rowColumnResizing.doubleClickAction;if(!r.custom(e,i))return;const a=r.resetRowSize,l=r.resetColumnSize;let c=!1;if(r.useEstimate){const u=this._estimatePreferredRowColumnSize(e,i);u.success?i?this._cellModel.resizeRows([e],u.preferredSize):this._cellModel.resizeColumns([e],u.preferredSize):c=!0}c&&(i?this._cellModel.resizeRows([e],a):this._cellModel.resizeColumns([e],l))}_onDoubleClick(e){if(!this._lastRenderingContext)return;const[i,r]=this._getMouseOffset(e),o=this._isMouseOverResizingSpace(i,r);if(o.isMouseOver)this._performDoubleClickResizerAction(o.index,o.overRow);else{const s=this._getCellRangeAtPoint(i,r,!1);s&&this._sendEventForPosition(s.startRow,s.startColumn,a=>a.onDoubleClick,a=>{const l=a;return l.offset={x:i,y:r},l.originalEvent=e,l})}}_onMouseUp(e){this._scrollBarDragStart=null,this._mouseDragStart=null;const[i,r]=this._getMouseOffset(e);if(this._resizingDragStart){const o=this._resizingDragStart.info.overRow?r-this._resizingDragStart.startY:i-this._resizingDragStart.startX;let a=(this._resizingDragStart.info.overRow?this._cellModel.getRowSize(this._resizingDragStart.info.index):this._cellModel.getColumnSize(this._resizingDragStart.info.index))+o;this._resizingDragStart.info.overRow?a<this._options.renderer.canvas.rowColumnResizing.minRowSize&&(a=this._options.renderer.canvas.rowColumnResizing.minRowSize):a<this._options.renderer.canvas.rowColumnResizing.minColumnSize&&(a=this._options.renderer.canvas.rowColumnResizing.minColumnSize),this._options.renderer.canvas.rowColumnResizing.resizingHandler(a,this._resizingDragStart.info.overRow,this._resizingDragStart.info.index,this._cellModel,this._selectionModel)&&this._repaintScheduler.next(),this._resizingDragStart=null}else if(this._initialSelectionRange){if(this._copyHandleDragStart)this._copyHandleDragStart=null,this._copyHandleInitial=null,this._options.selection.copyHandle.copyHandler&&this._options.selection.copyHandle.copyHandler({startRow:this._initialSelectionRange.startRow,endRow:this._initialSelectionRange.endRow,startColumn:this._initialSelectionRange.startColumn,endColumn:this._initialSelectionRange.endColumn},{startRow:this._selectionModel.getPrimary().range.startRow,endRow:this._selectionModel.getPrimary().range.endRow,startColumn:this._selectionModel.getPrimary().range.startColumn,endColumn:this._selectionModel.getPrimary().range.endColumn});else{const o=this._getCellRangeAtPoint(i,r),s=!oe.equals(this._initialSelectionRange,o),a=e.ctrlKey;if(s||a)this._updateCurrentSelection({startRow:Math.min(this._initialSelectionRange.startRow,o.startRow),endRow:Math.max(this._initialSelectionRange.endRow,o.endRow),startColumn:Math.min(this._initialSelectionRange.startColumn,o.startColumn),endColumn:Math.max(this._initialSelectionRange.endColumn,o.endColumn)},{row:this._initialSelectionRange.startRow,column:this._initialSelectionRange.startColumn},!1,!1,!0);else{const l=this._selectionModel.getPrimary();l&&this._updateFocusedCell(l.initial);const c=this._getCellRangeAtPoint(i,r,!1);c&&this._sendEventForPosition(c.startRow,c.startColumn,u=>u.onMouseUp,u=>{const d=u;return d.offset={x:i,y:r},d.originalEvent=e,d})}}this._initialSelectionRange=null,this._stopAutoScrolling()}this._updateSelectionScrollPrevention()}_onTouchStart(e){if(1!==e.touches.length||this._panningStart){if(2===e.touches.length&&null===this._secondTouchID){this._secondTouchID=e.touches[1].identifier;const[i,r]=this._getMouseOffset(e.touches[1]),[o,s]=this._getMouseOffset(e.touches[0]);this._touchZoomContext={startTouchDistance:Math.hypot(i-o,r-s),startZoom:this._zoom}}}else{e.preventDefault();const i=e.changedTouches[0];this._startTouchID=i.identifier,this._stopAutoScrolling();const[r,o]=this._getMouseOffset(i);this._panningStart={startX:r,startY:o,lastX:r,lastY:o,speedX:0,speedY:0,lastTimestamp:window.performance.now(),startScrollOffset:{x:this._scrollOffset.x,y:this._scrollOffset.y},isTap:!0}}}_onTouchMove(e){if(2!==e.touches.length||null===this._touchZoomContext){if(this._panningStart&&1===e.changedTouches.length){const i=e.changedTouches[0];if(i.identifier===this._startTouchID){const[r,o]=this._getMouseOffset(i);this._panningStart.isTap=!1;const s=window.performance.now(),a=s-this._panningStart.lastTimestamp;this._panningStart.lastTimestamp=s,this._panningStart.speedX=(r-this._panningStart.lastX)/a,this._panningStart.speedY=(o-this._panningStart.lastY)/a,this._panningStart.lastX=r,this._panningStart.lastY=o,this._onViewPortMove(r,o,this._panningStart)}}}else{const[i,r]=this._getMouseOffset(e.touches[1]),[o,s]=this._getMouseOffset(e.touches[0]),a=Math.hypot(i-o,r-s);this.setZoom(this._touchZoomContext.startZoom*a/this._touchZoomContext.startTouchDistance)}}_onTouchEnd(e){for(let i=0;i<e.changedTouches.length;i++){const r=e.changedTouches[i];if(r.identifier===this._startTouchID&&this._panningStart){const[o,s]=this._getMouseOffset(r);if(this._updateAutoScrolling(-this._panningStart.speedX*this.rendererOptions.canvas.scrolling.touchScrollingSpeedFactor,-this._panningStart.speedY*this.rendererOptions.canvas.scrolling.touchScrollingSpeedFactor,this.rendererOptions.canvas.scrolling.touchScrollingAcceleration),1===e.changedTouches.length&&this._panningStart.isTap){const a=this._getCellRangeAtPoint(o,s);this._updateCurrentSelection(a,{row:a.startRow,column:a.startColumn},!0,!0,!0)}this._panningStart=null}else r.identifier===this._secondTouchID&&(this._secondTouchID=null,this._touchZoomContext=null)}}_onResize(e){this._resizeThrottleSubject.next()}_onContainerResized(){this._devicePixelRatio=Math.max(window.devicePixelRatio,1);const e=this._container.getBoundingClientRect(),i=this._lastRenderingContext&&this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0,r=this._lastRenderingContext&&this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0,o=this._cellModel.getHeight()-i,s=this._cellModel.getWidth()-r,a=this._lastRenderingContext?this._lastRenderingContext.cells.nonFixedCells.viewPortBounds:{top:0,left:0,width:0,height:0};if(s>e.width){const c=s-(e.width-r);this._scrollOffset.x=Math.max(Math.min(this._scrollOffset.x*c/(s-a.width),c),0)}else this._scrollOffset.x=0;if(o>e.height){const c=o-(e.height-i);this._scrollOffset.y=Math.max(Math.min(this._scrollOffset.y*c/(o-a.height),c),0)}else this._scrollOffset.y=0;Oo.setCanvasSize(this._canvasElement,e.width,e.height,this._devicePixelRatio),this._repaintScheduler.next()}_onKeyDown(e){if(this._focusedCellPosition&&this._sendEventForPosition(this._focusedCellPosition.row,this._focusedCellPosition.column,r=>r.onKeyDown,r=>{const o=r;return o.originalEvent=e,o}))e.preventDefault();else switch(e.code){case"Space":e.preventDefault(),this._isInMouseDragMode=!0;break;case"Tab":case"Enter":if(e.preventDefault(),!e.ctrlKey){const l="Enter"===e.code,c=this._selectionModel.getPrimary();if(c){const u=this._cellModel.getCell(c.range.startRow,c.range.startColumn);u&&!oe.equals(c.range,u.range)||1!==this._selectionModel.getSelections().length?this._moveInitialSelection(l?0:e.shiftKey?-1:1,l?e.shiftKey?-1:1:0):this._moveSelection(l?0:e.shiftKey?-1:1,l?e.shiftKey?-1:1:0,!1)}}break;case"KeyA":e.ctrlKey&&(e.preventDefault(),this._selectAll());break;case"KeyC":case"KeyX":e.ctrlKey&&(e.preventDefault(),this._copySelection());break;case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":e.preventDefault();const o=e.ctrlKey;let s=0;("ArrowLeft"===e.code||"ArrowRight"===e.code)&&(s="ArrowLeft"===e.code?-1:1);let a=0;("ArrowUp"===e.code||"ArrowDown"===e.code)&&(a="ArrowUp"===e.code?-1:1),e.shiftKey?this._extendSelection(s,a,o):this._moveSelection(s,a,o)}}_copySelection(){return UD(this,void 0,void 0,function*(){const e=this._selectionModel.getPrimary();if(e){const i=this.rendererOptions.view.maxCellCountToCopy;if(i>=0){const o=oe.size(e.range);if(o>i){const s=new sB(i,o);let a=!1;if(this.rendererOptions.notificationService?a=yield Promise.race([new Promise(l=>{s.callback=c=>l(c),this.rendererOptions.notificationService.notify(s)}),new Promise(l=>{setTimeout(()=>l(!1),6e4)})]):console.warn(`[table-engine] ${s.message}`),!a)return}}const r=zD.buildHTMLTableForCopy(e.range,this._cellModel,o=>this._cellRendererLookup.get(o.rendererName).getCopyValue(o));zD.setClipboardContent(r),this.rendererOptions.notificationService&&this.rendererOptions.notificationService.notify(new aB)}})}_selectAll(){this._selectionModel.clear();const e=this._cellModel.findNextVisibleRow(0),i=this._cellModel.findNextVisibleColumn(0),r=this._cellModel.findPreviousVisibleRow(this._cellModel.getRowCount()-1),o=this._cellModel.findPreviousVisibleColumn(this._cellModel.getColumnCount()-1);this._selectionModel.addSelection({range:{startRow:e,endRow:r,startColumn:i,endColumn:o},initial:{row:e,column:i}},!0,!1);const s=this._selectionModel.getPrimary();this._updateFocusedCell(s.initial),this._repaintScheduler.next()}_updateFocusedCell(e){((e?e.row:-1)!==(this._focusedCellPosition?this._focusedCellPosition.row:-1)||(e?e.column:-1)!==(this._focusedCellPosition?this._focusedCellPosition.column:-1))&&(this._focusedCellPosition&&this._sendEventForPosition(this._focusedCellPosition.row,this._focusedCellPosition.column,l=>l.onBlur,l=>l),e?(this._focusedCellPosition={row:e.row,column:e.column},this._sendEventForPosition(e.row,e.column,l=>l.onFocus,l=>l)):this._focusedCellPosition=null)}_moveSelection(e,i,r){const o=this._selectionModel.getPrimary();if(!o)return;const s=this._selectionModel.getSelections();for(;s.length>1;)this._selectionModel.removeSelection(s[0]===o?s[1]:s[0]);this._selectionModel.setPrimary(0),this._selectionModel.moveSelection(o,e,i,r)&&(this._updateFocusedCell(o.initial),this.scrollTo(o.initial.row,o.initial.column),this._repaintScheduler.next())}_extendSelection(e,i,r){const o=this._selectionModel.getPrimary();if(o&&this._selectionModel.extendSelection(o,e,i,r)){let s=o.initial.row;0!==i&&(s=i<0?o.range.startRow:o.range.endRow);let a=o.initial.column;0!==e&&(a=e<0?o.range.startColumn:o.range.endColumn),this.scrollTo(s,a),this._repaintScheduler.next()}}_moveInitialSelection(e,i){if(!this._selectionModel.getPrimary())return;this._selectionModel.moveInitial(e,i);const r=this._selectionModel.getPrimary();this._updateFocusedCell(r.initial),this.scrollTo(r.initial.row,r.initial.column),this._repaintScheduler.next()}setZoom(e){const i=Math.min(Math.max(e,1),n.MAX_ZOOM_LEVEL);i!==this._zoom&&(this._zoom=i,this._updateOverlaysAfterRenderCycle=!0,this._repaintScheduler.next())}getZoom(){return this._zoom}getScrollOffset(){return{x:this._scrollOffset.x,y:this._scrollOffset.y}}getViewport(){return this._lastRenderingContext?this._lastRenderingContext.viewPort:this._getViewPort()}getFixedRowsHeight(){return this._lastRenderingContext&&this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0}getFixedColumnsWidth(){return this._lastRenderingContext&&this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0}scrollTo(e,i){const r=this._cellModel.getCell(e,i),o=r?r.range:ne.fromSingleRowColumn(e,i),s=this._cellModel.getBounds(o),a=Math.min(this.rendererOptions.view.fixedRows,this._cellModel.getRowCount()),l=Math.min(this.rendererOptions.view.fixedColumns,this._cellModel.getColumnCount()),c=this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0;s.left-=this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0,s.top-=c;const d=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.width,h=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.height;if(i>=l){const p=this._scrollOffset.x+d;s.left<this._scrollOffset.x?this._scrollToX(s.left)&&this._repaintScheduler.next():s.left+s.width>p&&this._scrollToX(s.left+s.width-d)&&this._repaintScheduler.next()}if(e>=a){const p=this._scrollOffset.y+h;s.top<this._scrollOffset.y?this._scrollToY(s.top)&&this._repaintScheduler.next():s.top+s.height>p&&this._scrollToY(s.top+s.height-h)&&this._repaintScheduler.next()}}_onKeyUp(e){this._focusedCellPosition&&this._sendEventForPosition(this._focusedCellPosition.row,this._focusedCellPosition.column,r=>r.onKeyUp,r=>{const o=r;return o.originalEvent=e,o})?e.preventDefault():"Space"===e.code&&(this._isInMouseDragMode=!1)}_onWheel(e){if(e.ctrlKey)e.preventDefault(),this.setZoom(this._zoom+(e.deltaY>0?-.25:.25));else{const i=BD.determineScrollOffsetFromEvent(this._canvasElement,!0,e),r=BD.determineScrollOffsetFromEvent(this._canvasElement,!1,e),o=e.shiftKey;this._scrollTo(this._scrollOffset.x+(o?i:r),this._scrollOffset.y+(o?r:i))&&(e.preventDefault(),this._repaintScheduler.next())}}_scrollTo(e,i){const r=this._scrollToXInternal(e),o=this._scrollToYInternal(i),s=r||o;return s&&this._updateOverlays(),s}_scrollToX(e){const i=this._scrollToXInternal(e);return i&&this._updateOverlays(),i}_scrollToXInternal(e){const i=this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0,r=this._cellModel.getWidth()-i,o=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.width;if(r<=o)return!1;const s=r-o;if(e<0){const a=0!==this._scrollOffset.x;return this._scrollOffset.x=0,a}if(e>s){const a=this._scrollOffset.x!==s;return this._scrollOffset.x=Math.round(s),a}{const a=Math.round(e);return a!==this._scrollOffset.x&&(this._scrollOffset.x=a,!0)}}_scrollToY(e){const i=this._scrollToYInternal(e);return i&&this._updateOverlays(),i}_scrollToYInternal(e){const i=this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0,r=this._cellModel.getHeight()-i,o=this._lastRenderingContext.cells.nonFixedCells.viewPortBounds.height;if(r<=o)return!1;const s=r-o;if(e<0){const a=0!==this._scrollOffset.y;return this._scrollOffset.y=0,a}if(e>s){const a=this._scrollOffset.y!==s;return this._scrollOffset.y=Math.round(s),a}{const a=Math.round(e);return a!==this._scrollOffset.y&&(this._scrollOffset.y=a,!0)}}static _clearContainerChildren(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_initializeRenderingElements(){const e=this._container.getBoundingClientRect();n._clearContainerChildren(this._container),this._canvasElement=document.createElement("canvas"),this._canvasContext=this._canvasElement.getContext("2d"),this._canvasElement.style.position="absolute",Oo.setCanvasSize(this._canvasElement,e.width,e.height),this._container.appendChild(this._canvasElement),this._overlayContainer=document.createElement("div"),this._overlayContainer.style.position="absolute",this._overlayContainer.style.zIndex="999",this._overlayContainer.style.width="100%",this._overlayContainer.style.height="100%",this._overlayContainer.style.overflow="hidden",this._overlayContainer.setAttribute("tabindex","-1"),this._overlayContainer.style.outline="none",this._container.appendChild(this._overlayContainer)}_getViewPort(){return{top:this._scrollOffset.y,left:this._scrollOffset.x,width:this._canvasElement.width/this._devicePixelRatio/this._zoom,height:this._canvasElement.height/this._devicePixelRatio/this._zoom}}_calculateScrollBarContext(e,i,r){const o=this.rendererOptions.canvas.scrollBar,s=o.size,a=o.minLength,l=o.offset,c=o.cornerRadius,u=e.width-r,d=e.height-i,h=this._cellModel.getHeight()-i,f=this._cellModel.getWidth()-r,p=h-d,_=f-u;let v=null;if(h>d){const D=Math.max(d/h*d,a),C=this._scrollOffset.y/p;v={size:s,length:D,x:Math.min(u,f)-s-l+r,y:(d-D)*C+i}}let w=null;if(f>u){const D=Math.max(u/f*u,a);w={size:s,length:D,x:this._scrollOffset.x/_*(u-D)+r,y:Math.min(d,h)-s-l+i}}return{color:this.rendererOptions.canvas.scrollBar.color,cornerRadius:c,vertical:v,horizontal:w}}_calculateSelectionContext(e,i,r,o,s){const a=this._selectionModel.getSelections(),l=this._selectionModel.getPrimary();if(0===a.length)return null;const c={options:this.rendererOptions.canvas.selection,copyHandle:{isRendered:!1},inFixedCorner:[],inNonFixedArea:[],inFixedColumns:[],inFixedRows:[]},u=a.length>1;for(const d of a)this._validateSelection(d),this._addInfosForSelection(c,d,e,i,r,o,s,d===l,u);return c}_validateSelection(e){const i=this._cellModel.getRowCount(),r=this._cellModel.getColumnCount();e.range.endRow>=i&&(e.range.endRow=i-1,e.range.startRow>e.range.endRow&&(e.range.startRow=e.range.endRow)),!!e.initial&&e.initial.row>=i&&(e.initial.row=i-1),e.range.endColumn>=r&&(e.range.endColumn=r-1,e.range.startColumn>e.range.endColumn&&(e.range.startColumn=e.range.endColumn)),e.initial&&e.initial.column>=r&&(e.initial.column=r-1)}_addInfosForSelection(e,i,r,o,s,a,l,c,u){const d=this._calculateSelectionBoundsFromCellRangeBounds(this._cellModel.getBounds(i.range),i.range,r,o,s,a,l);let h=null;if(c){let w;const D=this._cellModel.getCell(i.initial.row,i.initial.column);w=D?D.range:ne.fromSingleRowColumn(i.initial.row,i.initial.column),h=this._cellModel.getBounds(w)}const f=i.range.startRow<o,p=i.range.startColumn<s;if(h){if(f){if(h.top-a>=0){const D=a-(h.top-this._scrollOffset.y);h.top=Math.max(h.top-this._scrollOffset.y,a),D>0&&(h.height=Math.max(h.height-D,0))}}else h.top-=this._scrollOffset.y;if(p){if(h.left-l>=0){const D=l-(h.left-this._scrollOffset.x);h.left=Math.max(h.left-this._scrollOffset.x,l),D>0&&(h.width=Math.max(h.width-D,0))}}else h.left-=this._scrollOffset.x}let _;_=f&&p?e.inFixedCorner:f?e.inFixedRows:p?e.inFixedColumns:e.inNonFixedArea;const v=this.rendererOptions.canvas.selection.offset;0!==v&&(h&&(h.top===d.top&&(h.top+=v,h.height-=v),h.left===d.left&&(h.left+=v,h.width-=v),h.top+h.height===d.top+d.height&&(h.height-=v),h.left+h.width===d.left+d.width&&(h.width-=v)),d.left+=v,d.top+=v,d.width-=2*v,d.height-=2*v),_.push({bounds:d,initial:h,isPrimary:c,renderCopyHandle:c&&!u&&this._options.selection.copyHandle.showCopyHandle})}_calculateSelectionBoundsFromCellRangeBounds(e,i,r,o,s,a,l){let c=e.top,u=e.top+e.height,d=e.left,h=e.left+e.width;i.startRow>=o&&(c-=this._scrollOffset.y),i.endRow>=o&&(u-=this._scrollOffset.y),i.startColumn>=s&&(d-=this._scrollOffset.x),i.endColumn>=s&&(h-=this._scrollOffset.x);const f=i.startRow<o,p=i.startColumn<s,_=this._cellModel.getBounds({startRow:0,endRow:0,startColumn:i.startColumn,endColumn:Math.min(s-1,i.endColumn)}).width,v=this._cellModel.getBounds({startRow:i.startRow,endRow:Math.min(o-1,i.endRow),startColumn:0,endColumn:0}).height;return{left:d,top:c,width:Math.max(h-d,p?_:0),height:Math.max(u-c,f?v:0)}}_createRenderingContext(){if(this._lastRenderingContext){const h=this._lastRenderingContext.tableSize,f=h.width!==this._cellModel.getWidth(),p=h.height!==this._cellModel.getHeight();let _=!1;f&&(_||(_=this._scrollToXInternal(this._scrollOffset.x))),p&&(_||(_=this._scrollToYInternal(this._scrollOffset.y))),_&&(this._updateOverlaysAfterRenderCycle=!0)}const e=this._getViewPort(),i=Math.min(this.rendererOptions.view.fixedRows,this._cellModel.getRowCount()),r=Math.min(this.rendererOptions.view.fixedColumns,this._cellModel.getColumnCount()),o=i>0?this._cellModel.getRowOffset(i-1)+(this._cellModel.isRowHidden(i-1)?0:this._cellModel.getRowSize(i-1)):0,s=r>0?this._cellModel.getColumnOffset(r-1)+(this._cellModel.isColumnHidden(r-1)?0:this._cellModel.getColumnSize(r-1)):0,a=this._createCellRenderingInfo(e,i,r,o,s),l=this._calculateScrollBarContext(e,o,s),c=this._calculateSelectionContext(e,i,r,o,s),u=this._calculateBorderContext(a),d=this._calculateResizerRenderContext();return{focused:this.isFocused(),viewPort:e,tableSize:{width:this._cellModel.getWidth(),height:this._cellModel.getHeight()},cells:a,scrollBar:l,selection:c,borders:u,resizer:d,renderers:this._cellRendererLookup}}_calculateBorderContext(e){return{inFixedCorner:e.fixedCornerCells?this._calculateBorderInfo(this._borderModel.getBorders(e.fixedCornerCells.cellRange),e.fixedCornerCells.cellRange,!1,!1):[],inFixedColumns:e.fixedColumnCells?this._calculateBorderInfo(this._borderModel.getBorders(e.fixedColumnCells.cellRange),e.fixedColumnCells.cellRange,!1,!0):[],inFixedRows:e.fixedRowCells?this._calculateBorderInfo(this._borderModel.getBorders(e.fixedRowCells.cellRange),e.fixedRowCells.cellRange,!0,!1):[],inNonFixedArea:this._calculateBorderInfo(this._borderModel.getBorders(e.nonFixedCells.cellRange),e.nonFixedCells.cellRange,!0,!0)}}_calculateResizerRenderContext(){const e={showResizer:!!this._resizingDragStart,color:this._options.renderer.canvas.rowColumnResizing.resizerLineColor,thickness:this._options.renderer.canvas.rowColumnResizing.resizerLineThickness};return this._resizingDragStart&&(e.isVertical=!this._resizingDragStart.info.overRow,e.offset=this._resizingDragStart.info.overRow?this._resizingDragStart.currentY:this._resizingDragStart.currentX),e}_calculateBorderInfo(e,i,r,o){const s=[];for(let a=i.startRow;a<=i.endRow;a++)if(!this._cellModel.isRowHidden(a)){const c=[];for(let u=i.startColumn;u<=i.endColumn;u++)if(!this._cellModel.isColumnHidden(u)){const h={border:e[a-i.startRow][u-i.startColumn],bounds:this._cellModel.getBounds(ne.fromSingleRowColumn(a,u))};o&&(h.bounds.top-=this._scrollOffset.y),r&&(h.bounds.left-=this._scrollOffset.x),c.push(h)}s.push(c)}return s}_createCellRenderingInfo(e,i,r,o,s){const a=this._cellModel.getRangeForRect({left:e.left+s,top:e.top+o,width:e.width-s,height:e.height-o}),l=new Set,u={nonFixedCells:this._createCellRenderArea(a,{left:s,top:o,width:e.width-s,height:e.height-o},!0,!0,l)};r>0&&(u.fixedColumnCells=this._createCellRenderArea({startRow:a.startRow-i,endRow:a.endRow,startColumn:0,endColumn:r-1},{left:0,top:o,width:s,height:e.height-o},!1,!0,l)),i>0&&(u.fixedRowCells=this._createCellRenderArea({startRow:0,endRow:i-1,startColumn:a.startColumn-r,endColumn:a.endColumn},{left:s,top:0,width:e.width-s,height:o},!0,!1,l)),r>0&&i>0&&(u.fixedCornerCells=this._createCellRenderArea({startRow:0,endRow:i-1,startColumn:0,endColumn:r-1},{left:0,top:0,width:s,height:o},!1,!1,l));for(const d of this._lastUsedCellRenderers)l.has(d)||this._cellRendererLookup.get(d).cleanup();return this._lastUsedCellRenderers=l,u}_createCellRenderArea(e,i,r,o,s){const a=new Map,l=this._cellModel.getCells(e);for(let c=0;c<l.length;c++){const u=l[c],d=this._cellModel.getBounds(l[c].range);o&&(d.top-=this._scrollOffset.y),r&&(d.left-=this._scrollOffset.x);let h=a.get(u.rendererName);h||(h=[],a.set(u.rendererName,h),s.add(u.rendererName)),h.push({cell:u,bounds:d})}return{cellRange:e,viewPortBounds:i,cellsPerRenderer:a}}registerCellRenderer(e){if(this._cellRendererLookup.has(e.getName()))throw new Error(`Cell renderer with name '${e.getName()}' already registered`);this._cellRendererLookup.set(e.getName(),e)}_getCellRendererForName(e){const i=this._cellRendererLookup.get(e);if(!i)throw new Error(`Could not find cell renderer for name '${e}'`);return i}_cleanupCellViewportCaches(e,i){this._cleanupCellViewportCachesForOverlappingCellRanges(e.nonFixedCells.cellRange,i.nonFixedCells.cellRange),!!e.fixedRowCells&&!!i.fixedRowCells&&this._cleanupCellViewportCachesForOverlappingCellRanges(e.fixedRowCells.cellRange,i.fixedRowCells.cellRange),!!e.fixedColumnCells&&!!i.fixedColumnCells&&this._cleanupCellViewportCachesForOverlappingCellRanges(e.fixedColumnCells.cellRange,i.fixedColumnCells.cellRange),e.fixedCornerCells&&i.fixedCornerCells&&this._cleanupCellViewportCachesForOverlappingCellRanges(e.fixedCornerCells.cellRange,i.fixedCornerCells.cellRange)}_doForCellAreaRange(e){!this._lastRenderingContext||(e(this._lastRenderingContext.cells.fixedCornerCells.cellRange),e(this._lastRenderingContext.cells.fixedRowCells.cellRange),e(this._lastRenderingContext.cells.fixedColumnCells.cellRange),e(this._lastRenderingContext.cells.nonFixedCells.cellRange))}_cleanupCellViewportCachesForOverlappingCellRanges(e,i){const r=oe.xor(e,i);for(const o of r)this._cleanupCellViewportCachesForCellRange(o,s=>!oe.overlap(s,i))}_cleanupCellViewportCachesForCellRange(e,i,r){const o=this._cellModel.getCells(e,{includeHidden:r});for(const s of o)!oe.isSingleRowColumnRange(s.range)&&!i(s.range)||(this._getCellRendererForName(s.rendererName).onDisappearing(s),s.viewportCache=void 0)}_render(){let e=window.performance.now();const i=this._createRenderingContext();e=window.performance.now()-e,this._requestAnimationFrameID&&window.cancelAnimationFrame(this._requestAnimationFrameID),this._requestAnimationFrameID=window.requestAnimationFrame(()=>{var r,o,s,a;this._requestAnimationFrameID=null,this._lastRenderingContext&&this._cleanupCellViewportCaches(this._lastRenderingContext.cells,i.cells),this._lastRenderingContext=i;const l=this._canvasContext;let c=window.performance.now();l.restore(),l.save();const u=this._devicePixelRatio*this._zoom;l.scale(u,u),l.translate(.5,.5),n._renderArea(l,i,i.cells.nonFixedCells,i.borders.inNonFixedArea,null===(r=i.selection)||void 0===r?void 0:r.inNonFixedArea,!0),i.cells.fixedColumnCells&&n._renderArea(l,i,i.cells.fixedColumnCells,i.borders.inFixedColumns,null===(o=i.selection)||void 0===o?void 0:o.inFixedColumns,!0),i.cells.fixedRowCells&&n._renderArea(l,i,i.cells.fixedRowCells,i.borders.inFixedRows,null===(s=i.selection)||void 0===s?void 0:s.inFixedRows,!0),i.cells.fixedCornerCells&&n._renderArea(l,i,i.cells.fixedCornerCells,i.borders.inFixedCorner,null===(a=i.selection)||void 0===a?void 0:a.inFixedCorner,!0),n._renderScrollBars(l,i),n._renderResizerVisualization(l,i),this._options.misc.debug&&console.log(`RENDERING: ${window.performance.now()-c}ms, CREATING RENDERING CONTEXT: ${e}ms`),this._updateOverlaysAfterRenderCycle&&(this._updateOverlaysAfterRenderCycle=!1,this._updateOverlays())})}render(){this._lastRenderingContext?this._repaintScheduler.next():this._render()}static _renderArea(e,i,r,o,s,a){let l=!1;if(a){const c=new Path2D;c.rect(r.viewPortBounds.left,r.viewPortBounds.top,r.viewPortBounds.width,r.viewPortBounds.height),e.save(),e.clip(c),l=!0}n._renderAreaCells(e,i,r),n._renderBorders(e,i,o),l&&e.restore(),s&&n._renderSelections(e,i,s)}static _renderAreaCells(e,i,r){e.clearRect(r.viewPortBounds.left,r.viewPortBounds.top,r.viewPortBounds.width,r.viewPortBounds.height);for(const[o,s]of r.cellsPerRenderer.entries()){const a=i.renderers.get(o);if(!a)throw new Error(`Could not find cell renderer for name '${o}'`);if(0===s.length)a.cleanup();else{a.before(e,i);for(const l of s)a.render(e,l.cell,l.bounds);a.after(e)}}}static _renderBorders(e,i,r){for(let o=0;o<r.length;o++)for(let s=0;s<r[o].length;s++){const a=r[o][s],l=a.bounds,c=a.border;if(0===o&&c.top&&(n._applyBorderStyle(e,c.top),e.beginPath(),e.moveTo(l.left,l.top),e.lineTo(l.left+l.width,l.top),e.stroke()),0===s&&c.left&&(n._applyBorderStyle(e,c.left),e.beginPath(),e.moveTo(l.left,l.top),e.lineTo(l.left,l.top+l.height),e.stroke()),c.right){const u=n._determineCrossingBorderEnvironment([c.right,o>0?r[o-1][s].border.right:null],[c.top,s<r[o].length-1?r[o][s+1].border.top:null]);let d=(u.dominantBorderSide===c.right?-1:1)*(u.dominantHorizontalSide?u.dominantHorizontalSide.size/2:0);const h=n._determineCrossingBorderEnvironment([c.right,o<r.length-1?r[o+1][s].border.right:null],[c.bottom,s<r[o].length-1?r[o][s+1].border.bottom:null]);let f=(h.dominantBorderSide===c.right?-1:1)*(h.dominantHorizontalSide?h.dominantHorizontalSide.size/2:0);n._applyBorderStyle(e,c.right),e.beginPath(),e.moveTo(l.left+l.width,l.top+d),e.lineTo(l.left+l.width,l.top+l.height-f),e.stroke()}if(c.bottom){const u=n._determineCrossingBorderEnvironment([c.left,o<r.length-1?r[o+1][s].border.left:null],[c.bottom,s>0?r[o][s-1].border.bottom:null]);let d=(u.dominantBorderSide===c.bottom?-1:1)*(u.dominantVerticalSide?u.dominantVerticalSide.size/2:0);const h=n._determineCrossingBorderEnvironment([c.right,o<r.length-1?r[o+1][s].border.right:null],[c.bottom,s<r[o].length-1?r[o][s+1].border.bottom:null]);let f=(h.dominantBorderSide===c.bottom?-1:1)*(h.dominantVerticalSide?h.dominantVerticalSide.size/2:0);n._applyBorderStyle(e,c.bottom),e.beginPath(),e.moveTo(l.left+d,l.top+l.height),e.lineTo(l.left+l.width-f,l.top+l.height),e.stroke()}}e.setLineDash([])}static _determineCrossingBorderEnvironment(e,i){return{dominantBorderSide:n._determineDominantBorderSide([...e,...i]),dominantHorizontalSide:n._determineDominantBorderSide(i),dominantVerticalSide:n._determineDominantBorderSide(e)}}static _determineDominantBorderSide(e){let i=null;for(const r of e)!r||(i?(r.size>i.size||r.size===i.size&&(i.isDefault||!r.isDefault&&n._calculateColorDensity(r.color)<n._calculateColorDensity(i.color)))&&(i=r):i=r);return i}static _calculateColorDensity(e){return((e.red<<16)+(e.green<<8)+e.blue)*e.alpha}static _applyBorderStyle(e,i){e.strokeStyle=K.toStyleStr(i.color),e.lineWidth=i.size,e.lineCap="butt",i.style===_r.SOLID?e.setLineDash([]):i.style===_r.DOTTED?e.setLineDash([i.size,i.size]):i.style===_r.DASHED&&e.setLineDash([5*i.size,5*i.size])}static _renderResizerVisualization(e,i){!i.resizer.showResizer||(e.strokeStyle=K.toStyleStr(i.resizer.color),e.lineWidth=i.resizer.thickness,e.beginPath(),i.resizer.isVertical?(e.moveTo(i.resizer.offset,0),e.lineTo(i.resizer.offset,i.viewPort.height)):(e.moveTo(0,i.resizer.offset),e.lineTo(i.viewPort.width,i.resizer.offset)),e.stroke())}static _renderScrollBars(e,i){e.fillStyle=K.toStyleStr(i.scrollBar.color),i.scrollBar.vertical&&(Oo.makeRoundRectPath(e,{left:i.scrollBar.vertical.x,top:i.scrollBar.vertical.y,width:i.scrollBar.vertical.size,height:i.scrollBar.vertical.length},i.scrollBar.cornerRadius),e.fill()),i.scrollBar.horizontal&&(Oo.makeRoundRectPath(e,{left:i.scrollBar.horizontal.x,top:i.scrollBar.horizontal.y,width:i.scrollBar.horizontal.length,height:i.scrollBar.horizontal.size},i.scrollBar.cornerRadius),e.fill())}static _renderSelections(e,i,r){e.fillStyle=K.toStyleStr(i.focused?i.selection.options.secondary.backgroundColor:i.selection.options.secondary.backgroundColorUnfocused),e.strokeStyle=K.toStyleStr(i.focused?i.selection.options.secondary.borderColor:i.selection.options.secondary.borderColorUnfocused),e.lineWidth=i.selection.options.borderSize;for(const o of r)if(o.isPrimary){e.fillStyle=K.toStyleStr(i.focused?i.selection.options.primary.backgroundColor:i.selection.options.primary.backgroundColorUnfocused),e.strokeStyle=K.toStyleStr(i.focused?i.selection.options.primary.borderColor:i.selection.options.primary.borderColorUnfocused),o.initial.top-o.bounds.top>0&&e.fillRect(o.bounds.left,o.bounds.top,o.bounds.width,o.initial.top-o.bounds.top),o.initial.left-o.bounds.left>0&&e.fillRect(o.bounds.left,o.initial.top,o.initial.left-o.bounds.left,o.initial.height);const s=o.bounds.top+o.bounds.height-(o.initial.top+o.initial.height);s>0&&e.fillRect(o.bounds.left,o.initial.top+o.initial.height,o.bounds.width,s);const a=o.bounds.left+o.bounds.width-(o.initial.left+o.initial.width);if(a>0&&e.fillRect(o.initial.left+o.initial.width,o.initial.top,a,o.initial.height),e.strokeRect(o.bounds.left,o.bounds.top,o.bounds.width,o.bounds.height),o.renderCopyHandle){const l=i.selection.options.copyHandle.size,c=i.selection.options.copyHandle.padding,u=o.bounds.left+o.bounds.width-l/2,d=o.bounds.top+o.bounds.height-l/2;e.fillStyle=K.toStyleStr(K.WHITE),e.fillRect(u-c,d-c,l+c,l+c),e.fillStyle=K.toStyleStr(i.focused?i.selection.options.primary.borderColor:i.selection.options.primary.borderColorUnfocused),e.fillRect(u,d,l,l),i.selection.copyHandle.isRendered=!0,i.selection.copyHandle.bounds={top:d,left:u,width:l,height:l}}e.fillStyle=K.toStyleStr(i.focused?i.selection.options.secondary.backgroundColor:i.selection.options.secondary.backgroundColorUnfocused),e.strokeStyle=K.toStyleStr(i.focused?i.selection.options.secondary.borderColor:i.selection.options.secondary.borderColorUnfocused)}else e.fillRect(o.bounds.left,o.bounds.top,o.bounds.width,o.bounds.height),e.strokeRect(o.bounds.left,o.bounds.top,o.bounds.width,o.bounds.height)}addOverlay(e){this._overlays.push(e),this._overlayContainer.appendChild(e.element),e.element.style.position="absolute",this._layoutOverlay(e)}updateOverlay(e){this._updateOverlaysAfterRenderCycle=!0,this._overlaysToUpdateAfterRenderCycle.push(e)}_updateOverlays(){const e=this._overlaysToUpdateAfterRenderCycle.length>0?this._overlaysToUpdateAfterRenderCycle:this.getOverlays();for(const i of e)this._layoutOverlay(i);this._overlaysToUpdateAfterRenderCycle.length>0&&(this._overlaysToUpdateAfterRenderCycle.length=0)}_layoutOverlay(e){const i=this._lastRenderingContext?this._lastRenderingContext.viewPort.height:0,r=this._lastRenderingContext?this._lastRenderingContext.viewPort.width:0,o=this._lastRenderingContext&&this._lastRenderingContext.cells.fixedRowCells?this._lastRenderingContext.cells.fixedRowCells.viewPortBounds.height:0,s=this._lastRenderingContext&&this._lastRenderingContext.cells.fixedColumnCells?this._lastRenderingContext.cells.fixedColumnCells.viewPortBounds.width:0;let a=e.bounds.top,l=e.bounds.height;if(e.bounds.top<o){const p=o-e.bounds.top;e.bounds.height>p&&(l=Math.max(l-this._scrollOffset.y,p))}else a-this._scrollOffset.y<o&&(l-=o-(a-this._scrollOffset.y)),a-=this._scrollOffset.y;let u=e.bounds.left,d=e.bounds.width;if(e.bounds.left<s){const p=s-e.bounds.left;e.bounds.width>p&&(d=Math.max(d-this._scrollOffset.x,p))}else u-this._scrollOffset.x<s&&(d-=s-(u-this._scrollOffset.x)),u-=this._scrollOffset.x;l>0&&a<i&&d>0&&u<r?(e.element.style.display="block",e.element.style.overflow="hidden",e.element.style.left=u*this.getZoom()+"px",e.element.style.top=a*this.getZoom()+"px",e.element.style.width=`${e.bounds.width}px`,e.element.style.height=`${e.bounds.height}px`,d<e.bounds.width||l<e.bounds.height?e.element.style.clipPath=`inset(${e.bounds.height-l}px 0 0 ${e.bounds.width-d}px)`:e.element.style.clipPath.length>0&&(e.element.style.clipPath=""),this.getZoom()>1?(e.element.style.transform=`scale(${this.getZoom()})`,e.element.style.transformOrigin="left top"):e.element.style.transform.length>0&&(e.element.style.transform="",e.element.style.transformOrigin="")):e.element.style.display="none"}removeOverlay(e){const i=this._overlays.indexOf(e);i>-1&&(this._overlays.splice(i,1),this._overlayContainer.removeChild(e.element))}getOverlays(){return this._overlays}_updateSelectionScrollPrevention(){const e=this._isDragging(),i=this._selectionScrollPreventionEnabled;e&&!i?(this._beforeSelectionScrollPreventionUserSelectPropertyValue=document.body.style.userSelect,document.body.style.userSelect="none",this._selectionScrollPreventionEnabled=!0):!e&&i&&(document.body.style.userSelect=this._beforeSelectionScrollPreventionUserSelectPropertyValue,this._selectionScrollPreventionEnabled=!1)}_isDragging(){return!!(this._scrollBarDragStart||this._mouseDragStart||this._initialSelectionRange||this._copyHandleDragStart||this._resizingDragStart)}}return n.MAX_ZOOM_LEVEL=5,n})();const _B={red:0,green:0,blue:0,alpha:.6},vB={red:255,green:51,blue:102,alpha:1},wB={red:204,green:0,blue:51,alpha:.1},CB={red:255,green:102,blue:140,alpha:.5},bB={red:150,green:150,blue:150,alpha:.1},DB={red:150,green:150,blue:150,alpha:.75},EB={red:50,green:50,blue:50,alpha:.1},SB={red:200,green:200,blue:200,alpha:.75},MB={red:150,green:150,blue:150,alpha:.1},UB=K.BLACK,jB=()=>!0,qB=(n,t,e,i,r)=>{const o=r.getPrimary();if(o&&oe.contains({startRow:t?e:1,endRow:t?e:i.getRowCount()-1,startColumn:t?1:e,endColumn:t?i.getColumnCount()-1:e},o.range)&&oe.size(o.range)>1)if(t){const a=[];for(let l=o.range.startRow;l<=o.range.endRow;l++)a.push(l);i.resizeRows(a,n)}else{const a=[];for(let l=o.range.startColumn;l<=o.range.endColumn;l++)a.push(l);i.resizeColumns(a,n)}else t?i.resizeRows([e],n):i.resizeColumns([e],n);return!0},QB=n=>(n||(n={}),null==n.lazyRenderingThrottleDuration&&(n.lazyRenderingThrottleDuration=10),n.scrollBar||(n.scrollBar={}),(n=>{n||(n={}),n.color||(n.color=_B),null==n.size&&(n.size=10),null==n.offset&&(n.offset=2),null==n.minLength&&(n.minLength=30),null==n.cornerRadius&&(n.cornerRadius=5)})(n.scrollBar),n.selection||(n.selection={}),(n=>{n||(n={}),null==n.borderSize&&(n.borderSize=1),null==n.offset&&(n.offset=1),n.primary||(n.primary={}),n.secondary||(n.secondary={}),n.primary.backgroundColor||(n.primary.backgroundColor=wB),n.primary.borderColor||(n.primary.borderColor=vB),n.primary.backgroundColorUnfocused||(n.primary.backgroundColorUnfocused=bB),n.primary.borderColorUnfocused||(n.primary.borderColorUnfocused=CB),n.secondary.backgroundColor||(n.secondary.backgroundColor=EB),n.secondary.borderColor||(n.secondary.borderColor=DB),n.secondary.backgroundColorUnfocused||(n.secondary.backgroundColorUnfocused=MB),n.secondary.borderColorUnfocused||(n.secondary.borderColorUnfocused=SB),null==n.autoScrollingSpeed&&(n.autoScrollingSpeed=3),n.copyHandle||(n.copyHandle={}),null==n.copyHandle.size&&(n.copyHandle.size=5),null==n.copyHandle.padding&&(n.copyHandle.padding=2)})(n.selection),n.scrolling||(n.scrolling={}),(n=>{n||(n={}),null==n.touchScrollingSpeedFactor&&(n.touchScrollingSpeedFactor=100),null==n.touchScrollingAcceleration&&(n.touchScrollingAcceleration=-600)})(n.scrolling),n.rowColumnResizing||(n.rowColumnResizing={}),(n=>{n||(n={}),null==n.allowResizing&&(n.allowResizing=!1),null==n.rowCount&&(n.rowCount=1),null==n.columnCount&&(n.columnCount=1),null==n.resizerSize&&(n.resizerSize=5),null==n.minRowSize&&(n.minRowSize=20),null==n.minColumnSize&&(n.minColumnSize=20),null==n.resizerLineThickness&&(n.resizerLineThickness=1),n.resizerLineColor||(n.resizerLineColor=UB),n.resizingHandler||(n.resizingHandler=qB),n.doubleClickAction=(n=>(n||(n={}),n.custom||(n.custom=jB),null==n.resetRowSize&&(n.resetRowSize=20),null==n.resetColumnSize&&(n.resetColumnSize=100),null==n.useEstimate&&(n.useEstimate=!0),n))(n.doubleClickAction)})(n.rowColumnResizing),n),e2=K.BLACK,o2=K.GRAY,s2=K.DARKGRAY,a2=K.WHITE,l2=K.CORAL,c2=K.DARKCORAL,u2=K.WHITE;var tn=(()=>{return(n=tn||(tn={}))[n.LEFT=0]="LEFT",n[n.CENTER=1]="CENTER",n[n.RIGHT=2]="RIGHT",tn;var n})(),_n=(()=>{return(n=_n||(_n={}))[n.TOP=0]="TOP",n[n.MIDDLE=1]="MIDDLE",n[n.BOTTOM=2]="BOTTOM",_n;var n})();class Fo{static horizontalAlignmentToStyleStr(t){switch(t){case tn.CENTER:return"center";case tn.LEFT:return"left";case tn.RIGHT:return"right"}}static verticalAlignmentToStyleStr(t){switch(t){case _n.TOP:return"top";case _n.MIDDLE:return"middle";case _n.BOTTOM:return"bottom"}}}let sp=(()=>{class n{constructor(e){this._eventListener={onMouseMove:i=>{const r=n._cache(i.cell);if(r.checkboxBounds){const o=i.offset.x>=r.checkboxBounds.left&&i.offset.x<=r.checkboxBounds.left+r.checkboxBounds.width&&i.offset.y>=r.checkboxBounds.top&&i.offset.y<=r.checkboxBounds.top+r.checkboxBounds.height;o!==r.isHovered&&(r.isHovered=o,this._engine.repaint())}},onMouseOut:i=>{const r=n._cache(i.cell);r.isHovered&&(r.isHovered=!1,this._engine.repaint())},onMouseUp:i=>{const r=n._value(i.cell);r.checked=!r.checked,r.options&&r.options.onCheckedChanged?r.options.onCheckedChanged(i.cell):this._defaultOptions.onCheckedChanged&&this._defaultOptions.onCheckedChanged(i.cell),this._engine.repaint()}},this._defaultOptions=(n=>(n||(n={}),null==n.disabled&&(n.disabled=!1),n.labelFontFamily||(n.labelFontFamily="sans-serif"),null==n.labelFontSize&&(n.labelFontSize=12),n.labelTextColor||(n.labelTextColor=e2),null==n.size&&(n.size=14),null==n.borderSize&&(n.borderSize=1),null==n.borderRadius&&(n.borderRadius=2),n.borderColor||(n.borderColor=o2),n.hoverBorderColor||(n.hoverBorderColor=s2),n.uncheckedBackgroundColor||(n.uncheckedBackgroundColor=a2),n.checkedBackgroundColor||(n.checkedBackgroundColor=l2),n.checkedHoverBackgroundColor||(n.checkedHoverBackgroundColor=c2),null==n.disabledOpacity&&(n.disabledOpacity=.4),n.tickColor||(n.tickColor=u2),null==n.tickThickness&&(n.tickThickness=2),null==n.labelCheckboxSpacing&&(n.labelCheckboxSpacing=4),null==n.cellSpacing&&(n.cellSpacing=4),n))(e)}static _value(e){return e.value&&"object"==typeof e.value&&"checked"in e.value?e.value:{checked:!!e.value}}static _cache(e){if(e.viewportCache)return e.viewportCache;{const i={isHovered:!1};return e.viewportCache=i,i}}after(e){}before(e,i){e.textAlign=Fo.horizontalAlignmentToStyleStr(tn.LEFT),e.textBaseline=Fo.verticalAlignmentToStyleStr(_n.MIDDLE),e.font=`${this._defaultOptions.labelFontSize}px ${this._defaultOptions.labelFontFamily}`}cleanup(){}getCopyValue(e){return n._value(e).checked?"1":"0"}getEventListener(){return this._eventListener}getName(){return n.NAME}initialize(e){this._engine=e}onDisappearing(e){}render(e,i,r){let o=!1;const s=n._value(i),a=n._cache(i);let l=this._defaultOptions.size,c=this._defaultOptions.labelCheckboxSpacing,u=this._defaultOptions.cellSpacing,d=this._defaultOptions.labelTextColor,h=this._defaultOptions.labelFontSize;if(s.options&&(null!=s.options.size&&(l=s.options.size),null!=s.options.labelCheckboxSpacing&&(c=s.options.labelCheckboxSpacing),null!=s.options.cellSpacing&&(u=s.options.cellSpacing),s.options.labelTextColor&&(d=s.options.labelTextColor),null!=s.options.labelFontSize||s.options.labelFontFamily)){h=null!=s.options.labelFontSize?s.options.labelFontSize:this._defaultOptions.labelFontSize;const p=s.options.labelFontFamily?s.options.labelFontFamily:this._defaultOptions.labelFontFamily;o||(o=!0,e.save()),e.font=`${h}px ${p}`}let f={width:0,height:0};if(s.label){const _=u+e.measureText(s.label).width+l+c;let v;if(_>r.width){v=Math.round(u+l/2);const D=new Path2D;D.rect(r.left,r.top,r.width,r.height),e.save(),o=!0,e.clip(D)}else v=Math.round((r.width-_)/2+u+l/2);const w=n._renderCheckbox(e,r,i,v,l,s,this._defaultOptions);e.fillStyle=K.toStyleStr(d),e.fillText(s.label,r.left+Math.round(v+l/2+c),r.top+Math.round(r.height/2)),f.width=_,f.height=Math.max(w.height,h)}else{const p=n._renderCheckbox(e,r,i,Math.round(r.width/2),l,s,this._defaultOptions);f.width=p.width,f.height=Math.max(p.height,h)}a.preferredSize=f,o&&e.restore()}static _renderCheckbox(e,i,r,o,s,a,l){const u=s/2,d={left:i.left+o-u+.5,top:i.top+Math.round(i.height/2)-u+.5,width:s,height:s};let h=l.borderRadius,f=l.borderSize,p=l.uncheckedBackgroundColor,_=l.checkedBackgroundColor,v=l.checkedHoverBackgroundColor,w=l.borderColor,D=l.hoverBorderColor,C=l.tickColor,M=l.tickThickness;a.options&&(null!=a.options.borderRadius&&(h=a.options.borderRadius),null!=a.options.borderSize&&(f=a.options.borderSize),a.options.uncheckedBackgroundColor&&(p=a.options.uncheckedBackgroundColor),a.options.checkedBackgroundColor&&(_=a.options.checkedBackgroundColor),a.options.checkedHoverBackgroundColor&&(v=a.options.checkedHoverBackgroundColor),a.options.borderColor&&(w=a.options.borderColor),a.options.hoverBorderColor&&(D=a.options.hoverBorderColor),a.options.tickColor&&(C=a.options.tickColor),null!=a.options.tickThickness&&(M=a.options.tickThickness));const O=n._cache(r),L=O.isHovered;return e.fillStyle=K.toStyleStr(a.checked?L?v:_:p),h>0?(Oo.makeRoundRectPath(e,d,h),e.fill()):e.fillRect(d.left,d.top,d.width,d.height),a.checked||(e.strokeStyle=K.toStyleStr(L?D:w),e.lineWidth=f,h>0?(Oo.makeRoundRectPath(e,d,h),e.stroke()):e.strokeRect(d.left,d.top,d.width,d.height)),a.checked&&(e.strokeStyle=K.toStyleStr(C),e.lineCap="round",e.lineJoin="round",e.lineWidth=M,e.beginPath(),e.moveTo(d.left+.2*d.width,d.top+.6*d.height),e.lineTo(d.left+.4*d.width,d.top+.8*d.height),e.lineTo(d.left+.8*d.width,d.top+.2*d.height),e.stroke()),O.checkboxBounds=d,d}estimatePreferredSize(e){const i=n._cache(e);return i.preferredSize?i.preferredSize:null}}return n.NAME="checkbox",n})();const _2=K.BLACK,y2=K.CORAL,v2=K.GRAY,b2=K.GRAY,E2=K.GRAY,S2=K.LIGHTGRAY,M2=K.CORAL;let ap=(()=>{class n{constructor(e){this._eventListener={onMouseUp:i=>this._onClick(i),onMouseMove:i=>this._onMouseMove(i),onMouseOut:i=>this._onMouseOut(i)},this._options=(n=>(n||(n={}),null==n.editable&&(n.editable=!0),null==n.padding&&(n.padding=8),n.label=(n=>(n||(n={}),n.color||(n.color=_2),n.hoveredColor||(n.hoveredColor=y2),n.disabledColor||(n.disabledColor=v2),null==n.fontSize&&(n.fontSize=12),n.fontFamily||(n.fontFamily="sans-serif"),n))(n.label),n.placeholder=(n=>(n||(n={}),n.color||(n.color=b2),n.text||(n.text="Select..."),n))(n.placeholder),n.selectArrow=(n=>(n||(n={}),n.color||(n.color=E2),n.hoverColor||(n.hoverColor=M2),n.disabledColor||(n.disabledColor=S2),null==n.size&&(n.size=10),null==n.thickness&&(n.thickness=2),n.lineCap||(n.lineCap="round"),n.lineJoin||(n.lineJoin="round"),n))(n.selectArrow),n.dropdown=(n=>(n||(n={}),n.overlayClassName||(n.overlayClassName="table-engine-combobox-dropdown-list"),null==n.maxHeight&&(n.maxHeight=200),n))(n.dropdown),n))(e)}static _value(e){return e.value??{select_options:{}}}static _cache(e){if(e.viewportCache)return e.viewportCache;{const i={hovered:!1};return e.viewportCache=i,i}}after(e){}before(e,i){e.textAlign="left"}cleanup(){}getCopyValue(e){const i=n._value(e);return i.selected_option_id?i.select_options[i.selected_option_id].label:""}getEventListener(){return this._eventListener}getName(){return n.NAME}initialize(e){this._engine=e}onDisappearing(e){}render(e,i,r){const o=n._value(i),s=n._cache(i),a=this._determineRenderingStyle(o,s),l=n._renderSelectArrow(e,r,a),c=n._renderLabel(e,r,o,a,l.width);s.preferredSize={width:l.width+c.width,height:l.height+c.height}}_determineRenderingStyle(e,i){let r=this._options.editable,s=this._options.padding,a=this._options.label,l=this._options.placeholder,c=this._options.selectArrow;return e.options&&(null!=e.options.editable&&(r=e.options.editable),null!=e.options.padding&&(s=e.options.padding),e.options.label&&(a=e.options.label),e.options.placeholder&&(l=e.options.placeholder),e.options.selectArrow&&(c=e.options.selectArrow)),{editable:r,hovered:i.hovered,padding:s,labelOptions:a,placeholderOptions:l,selectArrowOptions:c}}static _renderSelectArrow(e,i,r){const o=n._makeSelectArrowPath(),s=o.width*r.selectArrowOptions.size,a=o.height*r.selectArrowOptions.size,l=new Path2D;return l.addPath(o.path,(new DOMMatrix).translateSelf(i.left+i.width-s-r.padding,i.top+Math.round((i.height-a)/2)).scaleSelf(r.selectArrowOptions.size,r.selectArrowOptions.size)),e.strokeStyle=K.toStyleStr(r.hovered?r.selectArrowOptions.hoverColor:r.selectArrowOptions.color),e.lineWidth=r.selectArrowOptions.thickness,e.lineCap=r.selectArrowOptions.lineCap,e.lineJoin=r.selectArrowOptions.lineJoin,e.stroke(l),{width:s+2*r.padding,height:a}}static _renderLabel(e,i,r,o,s){const a=i.left+o.padding,l=i.top+Math.round(i.height/2);let c=o.placeholderOptions.text,u=o.placeholderOptions.color;!!r.selected_option_id&&(c=r.select_options[r.selected_option_id].label,u=o.labelOptions.color),o.hovered&&(u=o.labelOptions.hoveredColor);const h=o.labelOptions.fontSize;e.font=`${h}px ${o.labelOptions.fontFamily}`,e.fillStyle=K.toStyleStr(u);const p=i.width-o.padding-s,_=e.measureText(c).width,v=_>p;if(v){const w=new Path2D;w.rect(i.left,i.top,i.width-s,i.height),e.save(),e.clip(w)}return e.fillText(c,a,l),v&&e.restore(),{width:o.padding+_,height:h}}static _makeSelectArrowPath(){const e=new Path2D;return e.moveTo(0,0),e.lineTo(.5,.45),e.lineTo(1,0),{path:e,width:1,height:.4}}_onClick(e){const i=n._value(e.cell);let r=this._options.editable,o=this._options.onChanged;i.options&&(null!=i.options.editable&&(r=i.options.editable),i.options.onChanged&&(o=i.options.onChanged)),r&&this._openDropdownOverlay(i,e.cell,o)}_openDropdownOverlay(e,i,r){const o=this._engine.getCellModel().getBounds(i.range),s=this._engine.getViewport(),a=this._engine.getFixedRowsHeight(),l=o.top-(s.top+a),c=s.top+s.height-o.height-o.top,u=document.createElement("div");u.className=this._options.dropdown.overlayClassName,u.tabIndex=-1;const d=document.createElement("div");d.style.height="100%",d.style.overflow="auto";const h=document.createElement("ul");for(const L in e.select_options){const se=e.select_options[L].label,Be=document.createElement("li");Be.textContent=se;const xe=ut=>{ut.stopPropagation(),e.selected_option_id=L,r&&r(i),O()};Be.addEventListener("mousedown",ut=>{ut.stopPropagation()}),Be.addEventListener("click",xe),h.appendChild(Be)}d.appendChild(h),u.appendChild(d);const f=document.createElement("div");f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.style.visibility="hidden",f.appendChild(u),document.body.appendChild(f);const p=f.getBoundingClientRect().height;document.body.removeChild(f);const _=this._options.dropdown.maxHeight;let v=_;p<_&&(v=p);let w=!0;c<v&&(l<v?(w=c>l,v=w?c:l):w=!1);let D={left:o.left,top:o.top+o.height,width:o.width,height:v};w||(D.top=o.top-v);const C={element:u,bounds:D};this._engine.getOverlayManager().addOverlay(C);const M=L=>{L.stopPropagation()},O=()=>{u.removeEventListener("wheel",M),u.removeEventListener("blur",O),this._engine.getOverlayManager().removeOverlay(C),this._engine.requestFocus()};u.addEventListener("wheel",M),u.addEventListener("blur",O),setTimeout(()=>{u.focus()})}_onMouseMove(e){const i=n._cache(e.cell),r=n._value(e.cell);let o=this._options.editable;!!r.options&&null!=r.options.editable&&(o=r.options.editable),o&&!i.hovered&&(i.hovered=!0,this._engine.repaint())}_onMouseOut(e){const i=n._cache(e.cell);i.hovered&&(i.hovered=!1,this._engine.repaint())}estimatePreferredSize(e){const i=n._cache(e);return i.preferredSize?i.preferredSize:null}}return n.NAME="combobox",n})(),lp=(()=>{class n{after(e){}before(e,i){}cleanup(){}getCopyValue(e){const i=n._cache(e);return i.overlay?i.overlay.element.innerHTML:""}getEventListener(){return null}getName(){return n.NAME}initialize(e){this._engine=e}onDisappearing(e){const i=n._cache(e);i.overlay&&this._engine.getOverlayManager().removeOverlay(i.overlay)}render(e,i,r){const o=n._cache(i);if(o.overlay){const s=o.overlay.bounds,a=this._engine.getCellModel().getBounds(i.range);(a.left!==s.left||a.top!==s.top||a.width!==s.width||a.height!==s.height)&&(o.overlay.bounds=a,this._engine.getOverlayManager().updateOverlay(o.overlay))}else{let s;i.value instanceof HTMLElement?s=i.value:(s=document.createElement("div"),s.innerHTML=`${i.value}`);const a={element:s,bounds:this._engine.getCellModel().getBounds(i.range)};this._engine.getOverlayManager().addOverlay(a),o.overlay=a}}static _cache(e){if(e.viewportCache)return e.viewportCache;{const i={};return e.viewportCache=i,i}}estimatePreferredSize(e){return null}}return n.NAME="dom",n})(),ko=(()=>{class n{constructor(){this._hoveredCell=null,this._eventListener={onMouseMove:e=>{e.cell!==this._hoveredCell&&(this._hoveredCell=e.cell,this._engine.repaint())},onMouseOut:()=>{null!==this._hoveredCell&&(this._hoveredCell=null,this._engine.repaint())}}}static _cache(e){if(e.viewportCache)return e.viewportCache;{const i={};return e.viewportCache=i,i}}initialize(e){this._engine=e,this._selectionModel=e.getSelectionModel()}getName(){return n.NAME}before(e,i){e.textBaseline="middle",e.textAlign="center"}after(e){}getEventListener(){return this._eventListener}static _getCellValue(e,i){if(0===e&&0===i)return null;if(0===e){let r=[],o=i-1,s=!0;do{s?s=!1:o-=1,r.push(o%n.ALPHABET.length),o=Math.floor(o/n.ALPHABET.length)}while(o>0);return r.reverse().map(a=>n.ALPHABET[a]).join("")}return`${e}`}cleanup(){}render(e,i,r){e.fillStyle=i===this._hoveredCell?n.HOVER_BACKGROUND_COLOR:n.BACKGROUND_COLOR,e.fillRect(r.left,r.top,r.width,r.height);const o={width:0,height:0},s=n._getCellValue(i.range.startRow,i.range.startColumn);if(s){let c;0===i.range.startColumn?(c=this._isRowSelected(i.range.startRow),c&&(c=!0,e.fillStyle=n.HIGHLIGHT_RECT_COLOR,e.fillRect(r.left+r.width-n.HIGHLIGHT_RECT_SIZE,r.top,n.HIGHLIGHT_RECT_SIZE,r.height))):(c=this._isColumnSelected(i.range.startColumn),c&&(e.fillStyle=n.HIGHLIGHT_RECT_COLOR,e.fillRect(r.left,r.top+r.height-n.HIGHLIGHT_RECT_SIZE,r.width,n.HIGHLIGHT_RECT_SIZE))),e.fillStyle="#333333";const u=12;e.font=c?`bold ${u}px sans-serif`:`${u}px sans-serif`;const d=e.measureText(s).width;e.fillText(s,Math.round(r.left+r.width/2),Math.round(r.top+r.height/2)),o.width=d,o.height=u}n._cache(i).preferredSize=o}_isRowSelected(e){for(const i of this._selectionModel.getSelections())if(i.range.startRow<=e&&i.range.endRow>=e)return!0;return!1}_isColumnSelected(e){for(const i of this._selectionModel.getSelections())if(i.range.startColumn<=e&&i.range.endColumn>=e)return!0;return!1}getCopyValue(e){return""}onDisappearing(e){}estimatePreferredSize(e){const i=n._cache(e);return i.preferredSize?i.preferredSize:null}}return n.NAME="row-column-header",n.ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n.HIGHLIGHT_RECT_SIZE=3,n.HIGHLIGHT_RECT_COLOR="#FF3366",n.BACKGROUND_COLOR="#F9F9F9",n.HOVER_BACKGROUND_COLOR="#EAEAEA",n})();let cp=(()=>{class n{constructor(){this._imageCache=new Map}initialize(e){this._engine=e}getName(){return n.NAME}before(e,i){e.font="12px sans-serif",e.fillStyle="#333333",e.textBaseline="middle",e.textAlign="center"}after(e){}cleanup(){}getEventListener(){return null}render(e,i,r){if(null!==i.value){const o=i.value,s=this._getImageIfLoaded(o.src);if(s){const a=null!=o.width,l=null!=o.height,c=s.width,u=s.height,d=c/u;let h=o.width,f=o.height;if(a&&!l)f=o.width/d;else if(l&&!a)h=o.height*d;else if(!a&&!l){const p=Math.min(r.width/c,r.height/u);h=c*p,f=u*p}if(h>r.width||f>r.height){const p=h>r.width?h-r.width:0,_=f>r.height?f-r.height:0,v=h-p,w=f-_;e.drawImage(s,p/2,_/2,v,w,r.left+(r.width-v)/2,r.top+(r.height-w)/2,v,w)}else e.drawImage(s,r.left+(r.width-h)/2,r.top+(r.height-f)/2,h,f)}else e.fillText("Loading...",Math.round(r.left+r.width/2),Math.round(r.top+r.height/2))}}_getImageIfLoaded(e){return this._imageCache.get(e)||(this._loadImage(e).then(r=>{this._imageCache.set(e,r),this._engine.repaint()}),null)}_loadImage(e){return function(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const i=new Image,r=new Promise(o=>{i.addEventListener("load",()=>{o()},!1)});return i.src=e,yield r,i})}getCopyValue(e){if(this._getImageIfLoaded(e.value.src)){const r=this._engine.getCellModel().getBounds(e.range),o=document.createElement("canvas");o.width=r.width,o.height=r.height;const s=o.getContext("2d");return this.render(s,e,{left:0,top:0,width:r.width,height:r.height}),`<img src='${o.toDataURL()}'>`}return""}onDisappearing(e){}estimatePreferredSize(e){if(!e.value)return null;const i=e.value,r={width:0,height:0};return null!=i.width&&(r.width=i.width),null!=i.height&&(r.height=i.height),r}}return n.NAME="image",n})();const z2=K.ORANGE,U2=K.LIGHTGRAY,j2=K.ORANGE;let up=(()=>{class n{constructor(e){this._eventListener={onMouseMove:i=>{const r=n._cache(i.cell),o=n._value(i.cell);let s=this._options.editable;if(!!o.options&&null!=o.options.editable&&(s=o.options.editable),s){let a=this._getHoveredStar(i.offset,i.cell);a!==r.hoveredStar&&(r.hoveredStar=a,this._engine.repaint())}},onMouseOut:i=>{const r=n._cache(i.cell);void 0!==r.hoveredStar&&r.hoveredStar>-1&&this._engine.repaint()},onMouseUp:i=>{const r=n._value(i.cell);let o=this._options.editable,s=this._options.maxValue,a=this._options.starCount,l=this._options.onChanged;if(r.options&&(null!=r.options.editable&&(o=r.options.editable),null!=r.options.maxValue&&(s=r.options.maxValue),null!=r.options.starCount&&(a=r.options.starCount),r.options.onChanged&&(l=r.options.onChanged)),o){let c=this._getHoveredStar(i.offset,i.cell);r.rating=(c+1)/a*s,l&&l(i.cell),this._engine.repaint()}}},this._options=(n=>(n||(n={}),null==n.editable&&(n.editable=!1),null==n.starCount&&(n.starCount=5),null==n.spikeCount&&(n.spikeCount=5),null==n.maxValue&&(n.maxValue=n.starCount),n.color||(n.color=z2),n.inactiveColor||(n.inactiveColor=U2),n.hoverBorderColor||(n.hoverBorderColor=j2),null==n.hoverBorderThickness&&(n.hoverBorderThickness=1),null==n.spacing&&(n.spacing=2),null==n.padding&&(n.padding=2),n))(e)}_getHoveredStar(e,i){const r=n._cache(i);if(!r.starPaths)return-1;for(let o=0;o<r.starPaths.length;o++)if(this._ctx.isPointInPath(r.starPaths[o],e.x*this._engine.getZoom(),e.y*this._engine.getZoom()))return o;return-1}static _value(e){if(e.value&&"object"==typeof e.value&&"rating"in e.value)return e.value;{const o={rating:null!=e.value?e.value:0};return e.value=o,o}}static _cache(e){if(e.viewportCache)return e.viewportCache;{const i={};return e.viewportCache=i,i}}after(e){}before(e,i){e.lineDashOffset=0,e.lineJoin="round"}cleanup(){}getCopyValue(e){return`${n._value(e).rating}`}getEventListener(){return this._eventListener}getName(){return n.NAME}initialize(e){this._engine=e}onDisappearing(e){}render(e,i,r){this._ctx=e;const o=n._value(i);if(!o)return;const s=n._cache(i);let a=this._options.starCount,l=this._options.spikeCount,c=this._options.maxValue,u=this._options.spacing,d=this._options.padding,h=this._options.color,f=this._options.inactiveColor,p=this._options.hoverBorderColor,_=this._options.hoverBorderThickness;o.options&&(null!=o.options.starCount&&(a=o.options.starCount),null!=o.options.spikeCount&&(l=o.options.spikeCount),null!=o.options.maxValue&&(c=o.options.maxValue),null!=o.options.spacing&&(u=o.options.spacing),null!=o.options.padding&&(d=o.options.padding),o.options.color&&(h=o.options.color),o.options.inactiveColor&&(f=o.options.inactiveColor),o.options.hoverBorderColor&&(p=o.options.hoverBorderColor),null!=o.options.hoverBorderThickness&&(_=o.options.hoverBorderThickness));const v=!s.oldBounds||s.oldBounds.top!==r.top||s.oldBounds.left!==r.left||s.oldBounds.width!==r.width||s.oldBounds.height!==r.height,w=Math.min((r.width-2*d)/a,r.height-2*d),C=r.left+Math.round((r.width-w*a)/2),M=r.top+Math.round((r.height-w)/2);if(v){const xe=(w-u)/2,Vt=n._makeStarPath({x:0,y:0},xe,xe/2,l),St=new Path2D,Mt=[];for(let wn=0;wn<a;wn++){const x=new Path2D;x.addPath(Vt,(new DOMMatrix).translateSelf(C+w*wn,M)),Mt.push(x),St.addPath(x)}s.starPaths=Mt,s.ratingPath=St}const O=K.toStyleStr(h),L=K.toStyleStr(p),se=K.toStyleStr(f);let Be=o.rating/c;const ct=void 0!==s.hoveredStar&&s.hoveredStar>-1;if(ct&&(Be=(s.hoveredStar+1)/c),Be<=0)e.fillStyle=se,e.fill(s.ratingPath);else if(Be>=1)e.fillStyle=O,e.fill(s.ratingPath);else{const xe=Be*a,ut=Math.floor(xe),Vt=xe-ut,St=Vt>0?ut:-1;for(let Mt=0;Mt<a;Mt++){const wn=s.starPaths[Mt];if(Mt<ut)e.fillStyle=O;else if(Mt===St){const x=C+w*Mt,P=e.createLinearGradient(x,0,x+(w-u),0);P.addColorStop(0,O),P.addColorStop(Vt,O),P.addColorStop(Vt,se),P.addColorStop(1,se),e.fillStyle=P}else e.fillStyle=se;e.fill(wn)}}if(ct){e.strokeStyle=L,e.lineWidth=_;for(let xe=0;xe<=s.hoveredStar;xe++)e.stroke(s.starPaths[xe])}s.oldBounds=r}static _makeStarPath(e,i,r,o){const s={x:e.x+i,y:e.y+i},a=new Path2D;a.moveTo(s.x,s.y-i);const l=Math.PI/2*3,c=Math.PI/o;for(let u=0;u<o;u++){const d=l+2*u*c;a.lineTo(s.x+Math.cos(d)*i,s.y+Math.sin(d)*i),a.lineTo(s.x+Math.cos(d+c)*r,s.y+Math.sin(d+c)*r)}return a.closePath(),a}estimatePreferredSize(e){return null}}return n.NAME="rating",n})();const Q2=K.BLACK,X2=tn.LEFT,J2=_n.MIDDLE;class ve{constructor(t){var n;this._eventListener={onDoubleClick:e=>this._onDoubleClick(e)},this._defaultOptions=((n=t)||(n={}),n.fontFamily||(n.fontFamily="sans-serif"),null==n.fontSize&&(n.fontSize=12),n.color||(n.color=Q2),null==n.horizontalAlignment&&(n.horizontalAlignment=X2),null==n.verticalAlignment&&(n.verticalAlignment=J2),null==n.useLineWrapping&&(n.useLineWrapping=!1),null==n.lineHeight&&(n.lineHeight=16),null==n.editable&&(n.editable=!1),n)}static _cache(t){if(t.viewportCache)return t.viewportCache;{const e={};return t.viewportCache=e,e}}_onDoubleClick(t){let i,e=this._defaultOptions.editable;const r=t.cell.value&&"object"==typeof t.cell.value&&"text"in t.cell.value?t.cell.value:null;if(r?(!!r.options&&null!=r.options.editable&&(e=r.options.editable),i=r.text):i=t.cell.value?`${t.cell.value}`:"",!e)return;const o=document.createElement("div"),s=document.createElement("input");s.style.width="100%",s.style.height="100%",s.style.boxSizing="border-box",s.value=i,o.appendChild(s);const a={element:o,bounds:this._engine.getCellModel().getBounds(t.cell.range)};this._engine.getOverlayManager().addOverlay(a);const l=u=>{u.stopPropagation(),"Enter"===u.code&&c()};s.addEventListener("keydown",l);const c=()=>{s.removeEventListener("blur",c),s.removeEventListener("keydown",l);const u=r&&r.options.onChange?r.options.onChange:this._defaultOptions.onChange;(!u||u(t.cell,i,s.value))&&(r?r.text=s.value:t.cell.value=s.value),t.cell.viewportCache=void 0,this._engine.getOverlayManager().removeOverlay(a),this._engine.requestFocus()};s.addEventListener("blur",c),setTimeout(()=>{s.focus()})}initialize(t){this._engine=t}getName(){return ve.NAME}before(t,e){t.font=`${this._defaultOptions.fontSize}px ${this._defaultOptions.fontFamily}`,t.fillStyle=K.toStyleStr(this._defaultOptions.color),t.textBaseline=Fo.verticalAlignmentToStyleStr(this._defaultOptions.verticalAlignment),t.textAlign=Fo.horizontalAlignmentToStyleStr(this._defaultOptions.horizontalAlignment)}after(t){}cleanup(){}getEventListener(){return this._eventListener}render(t,e,i){if(null==e.value)return;const r=ve._cache(e),o="object"==typeof e.value&&"text"in e.value,s=o?e.value:null,a=o?s.text:`${e.value}`;let l=this._defaultOptions.useLineWrapping,c=this._defaultOptions.lineHeight,u=this._defaultOptions.verticalAlignment,d=this._defaultOptions.horizontalAlignment,h=this._defaultOptions.fontSize,f=!1;if(o&&s.options){null!=s.options.useLineWrapping&&(l=s.options.useLineWrapping),null!=s.options.lineHeight&&(c=s.options.lineHeight);const D=null!=s.options.fontSize,C=null!=s.options.fontFamily;(C||D)&&(f||(f=!0,t.save()),h=D?s.options.fontSize:this._defaultOptions.fontSize,t.font=`${h}px ${C?s.options.fontFamily:this._defaultOptions.fontFamily}`),s.options.color&&(f||(f=!0,t.save()),t.fillStyle=K.toStyleStr(s.options.color));const O=null!=s.options.verticalAlignment,L=null!=s.options.horizontalAlignment;(O||L)&&(f||(f=!0,t.save()),O&&(t.textBaseline=Fo.verticalAlignmentToStyleStr(s.options.verticalAlignment),u=s.options.verticalAlignment),L&&(t.textAlign=Fo.horizontalAlignmentToStyleStr(s.options.horizontalAlignment),d=s.options.horizontalAlignment))}let p=null;if(!!r.paragraph&&!!r.text&&r.text===a&&r.paragraph.width===i.width&&(p=r.paragraph),p||(p=ve.LINE_WRAPPER.wrap(a,l?i.width:Number.MAX_SAFE_INTEGER,c,D=>t.measureText(D).width),r.paragraph=p,r.text=a),!ve._fitsInBounds(p,i)){const D=new Path2D;D.rect(i.left,i.top,i.width,i.height),f||(f=!0,t.save()),t.clip(D)}let v=i.left;switch(d){case tn.RIGHT:v+=i.width;break;case tn.CENTER:v+=Math.round(i.width/2)}let w=Math.round(ve._calculateLineYOffset(p.lines.length,c,i,u));for(const D of p.lines)t.fillText(D.text,v,w),w+=p.lineHeight;f&&t.restore(),r.preferredSize={width:l?0:p.width,height:l?p.lines.length*c:h}}static _calculateLineYOffset(t,e,i,r){switch(r){case _n.MIDDLE:const o=i.top+i.height/2;return 1===t?o:o-e*(t-1)/2;case _n.TOP:return i.top;case _n.BOTTOM:return 1===t?i.top+i.height:i.top+i.height-e*(t-1)}}getCopyValue(t){return null!==t.value?`${t.value}`:""}static _fitsInBounds(t,e){let i=0;for(const r of t.lines)if(r.width>e.width||(i+=t.lineHeight,i>e.height))return!1;return!0}onDisappearing(t){}estimatePreferredSize(t){const e=ve._cache(t);return e.preferredSize?e.preferredSize:null}}ve.NAME="text",ve.LINE_WRAPPER=new class K2{wrap(t,e,i,r){const o=[],s=r(t);if(s<=e)return{lines:[{text:t,width:s}],lineHeight:i,width:s};const a=t.split(" ");if(0===a.length)return{lines:[{text:t,width:s}],lineHeight:i,width:s};const l=a.map(h=>r(h)),c=r(" ");let u=[],d=0;for(let h=0;h<a.length;h++){const f=a[h],p=l[h],_=d+(d>0?c:0)+p;_>e?(o.push({text:u.join(" "),width:d}),d=p,u=[f]):(u.push(f),d=_)}return u.length>0&&o.push({text:u.join(" "),width:d}),{lines:o,lineHeight:i,width:e}}};class Ys{static _initializeRendererMap(){Ys._AVAILABLE_RENDERERS||(Ys._AVAILABLE_RENDERERS=new Map,Ys.registerRenderer(mr.CANVAS,()=>new hB))}static registerRenderer(t,e){this._initializeRendererMap(),this._AVAILABLE_RENDERERS.set(t,e)}static getRendererInstance(t){this._initializeRendererMap();const e=this._AVAILABLE_RENDERERS.get(t);if(!e)throw new Error(`There is no initializer for the renderer type '${mr[t]}' defined`);return e()}}const nH=mr.CANVAS,jD=(n,t,e)=>(e?(0===n.initial.row&&(n.initial.row=1),0===n.initial.column&&(n.initial.column=1),0===n.range.startRow&&(n.range.startRow=1),0===n.range.endRow&&(n.range.endRow=1),0===n.range.startColumn&&(n.range.startColumn=1),0===n.range.endColumn&&(n.range.endColumn=1)):0===n.initial.row&&0===n.initial.column?(n.range={startRow:1,endRow:t.getRowCount()-1,startColumn:1,endColumn:t.getColumnCount()-1},n.initial={row:1,column:1}):0===n.initial.row?(n.range={startRow:1,endRow:t.getRowCount()-1,startColumn:n.range.startColumn,endColumn:n.range.endColumn},n.initial={row:1,column:n.initial.column}):0===n.initial.column&&(n.range={startRow:n.range.startRow,endRow:n.range.endRow,startColumn:1,endColumn:t.getColumnCount()-1},n.initial={row:n.initial.row,column:1}),!0);var _c=(()=>{return(n=_c||(_c={}))[n.RENDERER_READY=0]="RENDERER_READY",_c;var n})();class dp{constructor(t,e){this._cellModel=t,this._options=e,this._selections=[],this._primaryIndex=-1}getPrimary(){return-1!==this._primaryIndex?this._selections[this._primaryIndex]:null}setPrimary(t){if(t<0||t>=this._selections.length)throw new Error(`Cannot set selection with index ${t} to be primary as there exists no selection with that index`);this._primaryIndex=t;const e=this.getPrimary();e.initial||(e.initial={row:e.range.startRow,column:e.range.startColumn})}getSelections(){return this._selections}addSelection(t,e,i){if(this._options.selection.allowMultiSelection||this.clear(),this._options.selection.allowRangeSelection||(t={initial:t.initial,range:{startRow:t.initial.row,endRow:t.initial.row,startColumn:t.initial.column,endColumn:t.initial.column}}),e){const r=this._validateSelection(t,i);if(r){for(const o of r.toRemove)this._selections.splice(this._selections.indexOf(o),1);for(const o of r.toAdd)this._selections.push(o);this.setPrimary(this._selections.length-r.toAdd.length)}}else{if(!this._transformSelection(t,!1))return;this._selections.push(t),this.setPrimary(this._selections.length-1)}}modifySelection(t,e,i,r,o){const s=t.range,a=t.initial;t.range=e,t.initial=i,this._options.selection.allowRangeSelection||(t.range={startRow:t.initial.row,endRow:t.initial.row,startColumn:t.initial.column,endColumn:t.initial.column});let l=!1,c=!1;if(r){const u=this._validateSelection(t,o);if(u){this._selections.splice(this._selections.indexOf(t),1);for(const d of u.toRemove)this._selections.splice(this._selections.indexOf(d),1);for(const d of u.toAdd)this._selections.push(d);this.setPrimary(this._selections.length-u.toAdd.length),c=u.toRemove.length>0}else l=!0}else this._transformSelection(t,!1)||(l=!0);if(l)return t.range=s,t.initial=a,!1;{const u=!oe.equals(t.range,s),d=t.initial.row!==a.row||t.initial.column!==a.column;return u||d||c}}removeSelection(t){const e=this._selections.indexOf(t);e>-1&&this._selections.splice(e,1)}_validateSelection(t,e){return dp._validateCellRange(t.range),this._validateCellRangeContainAllMergedCells(t),this._transformSelection(t,!1)?e?this._subtractIfNeeded(t):{toAdd:[t],toRemove:[]}:null}_subtractIfNeeded(t){if(0===this._selections.length)return{toAdd:[t],toRemove:[]};for(const e of this._selections)if(e!==t&&oe.contains(t.range,e.range)){const r=[];return oe.equals(t.range,e.range)?r.push({range:ne.fromSingleRowColumn(t.initial.row,t.initial.column),initial:t.initial}):(t.range.startRow>e.range.startRow&&r.push({range:{startRow:e.range.startRow,endRow:t.range.startRow-1,startColumn:e.range.startColumn,endColumn:e.range.endColumn}}),t.range.startColumn>e.range.startColumn&&r.push({range:{startRow:t.range.startRow,endRow:t.range.endRow,startColumn:e.range.startColumn,endColumn:t.range.startColumn-1}}),t.range.endColumn<e.range.endColumn&&r.push({range:{startRow:t.range.startRow,endRow:t.range.endRow,startColumn:t.range.endColumn+1,endColumn:e.range.endColumn}}),t.range.endRow<e.range.endRow&&r.push({range:{startRow:t.range.endRow+1,endRow:e.range.endRow,startColumn:e.range.startColumn,endColumn:e.range.endColumn}})),{toAdd:r,toRemove:[e]}}return{toAdd:[t],toRemove:[]}}_validateCellRangeContainAllMergedCells(t){for(;this._updateCellRangeToContainAllMergedCells(t.range););}_updateCellRangeToContainAllMergedCells(t){for(let e=t.startRow;e<=t.endRow;e++)for(let i=t.startColumn;i<=t.endColumn;i++){const r=this._cellModel.getCell(e,i);if(r){let o=!1;if(r.range.startColumn<t.startColumn&&(t.startColumn=r.range.startColumn,o=!0),r.range.startRow<t.startRow&&(t.startRow=r.range.startRow,o=!0),r.range.endColumn>t.endColumn&&(t.endColumn=r.range.endColumn,o=!0),r.range.endRow>t.endRow&&(t.endRow=r.range.endRow,o=!0),o)return!0}}return!1}static _validateCellRange(t){const e=Math.min(t.startRow,t.endRow),i=Math.max(t.startRow,t.endRow),r=Math.min(t.startColumn,t.endColumn),o=Math.max(t.startColumn,t.endColumn);t.startRow=e,t.endRow=i,t.startColumn=r,t.endColumn=o}clear(){this._selections.length=0,this._primaryIndex=-1}isSelected(t,e){for(const i of this._selections)if(oe.contains(ne.fromSingleRowColumn(t,e),i.range))return!0;return!1}extendSelection(t,e,i,r){if(!this._options.selection.allowRangeSelection)return!1;const o=this._extendSelectionInternal(t,e,i,r);return this._validateSelection(t,!1),o}_extendSelectionInternal(t,e,i,r){return 0!==e?e<0?t.initial.column<t.range.endColumn?this._shrinkSelectionFromRight(t,r):this._extendSelectionToLeft(t,r):t.initial.column>t.range.startColumn?this._shrinkSelectionFromLeft(t,r):this._extendSelectionToRight(t,r):0!==i&&(i<0?t.initial.row<t.range.endRow?this._shrinkSelectionFromBottom(t,r):this._extendSelectionToTop(t,r):t.initial.row>t.range.startRow?this._shrinkSelectionFromTop(t,r):this._extendSelectionToBottom(t,r))}_shrinkSelectionFromLeft(t,e){const i=this._findNextShrinkableColumnFromLeftForSelection(t);if(!(i>-1))return this._extendSelectionToRight(t,e);const s=t.range.startColumn;return t.range.startColumn=e?t.initial.column:i,!!this._transformSelection(t,!0)||(t.range.startColumn=s,!1)}_shrinkSelectionFromRight(t,e){const i=this._findNextShrinkableColumnFromRightForSelection(t);if(!(i>-1))return this._extendSelectionToLeft(t,e);const s=t.range.endColumn;return t.range.endColumn=e?t.initial.column:i,!!this._transformSelection(t,!0)||(t.range.endColumn=s,!1)}_shrinkSelectionFromTop(t,e){const i=this._findNextShrinkableRowFromTopForSelection(t);if(!(i>-1))return this._extendSelectionToBottom(t,e);const s=t.range.startRow;return t.range.startRow=e?t.initial.row:i,!!this._transformSelection(t,!0)||(t.range.startRow=s,!1)}_shrinkSelectionFromBottom(t,e){const i=this._findNextShrinkableRowFromBottomForSelection(t);if(!(i>-1))return this._extendSelectionToTop(t,e);const s=t.range.endRow;return t.range.endRow=e?t.initial.row:i,!!this._transformSelection(t,!0)||(t.range.endRow=s,!1)}_extendSelectionToLeft(t,e){const i=e?this._findColumnOfNextVisibleCell(-1,t.initial.row,!1):this._findColumnOfPreviousVisibleCell(t.range.startColumn,t.initial.row,!1);if(-1===i)return!1;const r=t.range.startColumn;return t.range.startColumn=i,!!this._transformSelection(t,!0)||(t.range.startColumn=r,!1)}_extendSelectionToRight(t,e){const i=e?this._findColumnOfPreviousVisibleCell(this._cellModel.getColumnCount(),t.initial.row,!1):this._findColumnOfNextVisibleCell(t.range.endColumn,t.initial.row,!1);if(-1===i)return!1;const r=t.range.endColumn;return t.range.endColumn=i,!!this._transformSelection(t,!0)||(t.range.endColumn=r,!1)}_extendSelectionToTop(t,e){const i=e?this._findRowOfNextVisibleCell(-1,t.initial.column,!1):this._findRowOfPreviousVisibleCell(t.range.startRow,t.initial.column,!1);if(-1===i)return!1;const r=t.range.startRow;return t.range.startRow=i,!!this._transformSelection(t,!0)||(t.range.startRow=r,!1)}_extendSelectionToBottom(t,e){const i=e?this._findRowOfPreviousVisibleCell(this._cellModel.getRowCount(),t.initial.column,!1):this._findRowOfNextVisibleCell(t.range.endRow,t.initial.column,!1);if(-1===i)return!1;const r=t.range.endRow;return t.range.endRow=i,!!this._transformSelection(t,!0)||(t.range.endRow=r,!1)}moveSelection(t,e,i,r){if(0!==e){if(e<0){const o=r?this._findColumnOfNextVisibleCell(-1,t.initial.row,!1):this._findColumnOfPreviousVisibleCell(t.initial.column,t.initial.row,!1);if(-1===o)return!1;const s=t.range,a=t.initial.column;return t.range=this._findCellRange(t.initial.row,o),t.initial.column=o,!!this._transformSelection(t,!0)||(t.range=s,t.initial.column=a,!1)}{const o=r?this._findColumnOfPreviousVisibleCell(this._cellModel.getColumnCount(),t.initial.row,!1):this._findColumnOfNextVisibleCell(t.initial.column,t.initial.row,!1);if(-1===o)return!1;const s=t.range,a=t.initial.column;return t.range=this._findCellRange(t.initial.row,o),t.initial.column=o,!!this._transformSelection(t,!0)||(t.range=s,t.initial.column=a,!1)}}if(0!==i){if(i<0){const o=r?this._findRowOfNextVisibleCell(-1,t.initial.column,!1):this._findRowOfPreviousVisibleCell(t.initial.row,t.initial.column,!1);if(-1===o)return!1;const s=t.range,a=t.initial.row;return t.range=this._findCellRange(o,t.initial.column),t.initial.row=o,!!this._transformSelection(t,!0)||(t.range=s,t.initial.row=a,!1)}{const o=r?this._findRowOfPreviousVisibleCell(this._cellModel.getRowCount(),t.initial.row,!1):this._findRowOfNextVisibleCell(t.initial.row,t.initial.column,!1);if(-1===o)return!1;const s=t.range,a=t.initial.row;return t.range=this._findCellRange(o,t.initial.column),t.initial.row=o,!!this._transformSelection(t,!0)||(t.range=s,t.initial.row=a,!1)}}return!1}_findCellRange(t,e){const i=this._cellModel.getCell(t,e);let r;return i?{startRow:i.range.startRow,endRow:i.range.endRow,startColumn:i.range.startColumn,endColumn:i.range.endColumn}:(r=ne.fromSingleRowColumn(t,e),r)}moveInitial(t,e){var i,r;const o=this.getPrimary();if(!o)return;const s=null!==(r=null===(i=this._cellModel.getCell(o.initial.row,o.initial.column))||void 0===i?void 0:i.range)&&void 0!==r?r:{startRow:o.initial.row,endRow:o.initial.row,startColumn:o.initial.column,endColumn:o.initial.column};oe.isSingleRowColumnRange(s)||(0!==t&&(o.initial.column=t>0?this._cellModel.findPreviousVisibleColumn(s.endColumn):this._cellModel.findNextVisibleColumn(s.startColumn)),0!==e&&(o.initial.row=t>0?this._cellModel.findPreviousVisibleRow(s.endRow):this._cellModel.findNextVisibleRow(s.startRow)));const a=this._cellModel.findNextVisibleRow(o.range.startRow),l=this._cellModel.findNextVisibleColumn(o.range.startColumn),c=this._cellModel.findPreviousVisibleRow(o.range.endRow),u=this._cellModel.findPreviousVisibleColumn(o.range.endColumn);if(0!==t)if(t>0){const d=this._findColumnOfNextVisibleCell(o.initial.column,o.initial.row,!1);if(-1===d||d>u){o.initial.column=l,oe.contains(ne.fromSingleRowColumn(o.initial.row,o.initial.column),s)&&(o.initial.row=this._cellModel.findPreviousVisibleRow(s.endRow));const h=this._findRowOfNextVisibleCell(o.initial.row,o.initial.column,!0);if(-1===h||h>c)if(this.getSelections().length>1){this._primaryIndex+=1,this._primaryIndex>=this.getSelections().length&&(this._primaryIndex=0);const f=this.getPrimary();f.initial={row:this._cellModel.findNextVisibleRow(f.range.startRow),column:this._cellModel.findNextVisibleColumn(f.range.startColumn)}}else o.initial.row=a,o.initial.column=l;else o.initial.row=h}else o.initial.column=d}else{const d=this._findColumnOfPreviousVisibleCell(o.initial.column,o.initial.row,!1);if(-1===d||d<l){o.initial.column=u,oe.contains(ne.fromSingleRowColumn(o.initial.row,o.initial.column),s)&&(o.initial.row=this._cellModel.findNextVisibleRow(s.startRow));const h=this._findRowOfPreviousVisibleCell(o.initial.row,o.initial.column,!0);if(-1===h||h<a)if(this.getSelections().length>1){this._primaryIndex-=1,this._primaryIndex<0&&(this._primaryIndex=this.getSelections().length-1);const f=this.getPrimary();f.initial={row:this._cellModel.findPreviousVisibleRow(f.range.endRow),column:this._cellModel.findPreviousVisibleColumn(f.range.endColumn)}}else o.initial.row=c,o.initial.column=u;else o.initial.row=h}else o.initial.column=d}if(0!==e)if(e>0){const d=this._findRowOfNextVisibleCell(o.initial.row,o.initial.column,!1);if(-1===d||d>c){o.initial.row=a,oe.contains(ne.fromSingleRowColumn(o.initial.row,o.initial.column),s)&&(o.initial.column=this._cellModel.findPreviousVisibleColumn(s.endColumn));const h=this._findColumnOfNextVisibleCell(o.initial.column,o.initial.row,!0);if(-1===h||h>u)if(this.getSelections().length>1){this._primaryIndex+=1,this._primaryIndex>=this.getSelections().length&&(this._primaryIndex=0);const f=this.getPrimary();f.initial={row:this._cellModel.findNextVisibleRow(f.range.startRow),column:this._cellModel.findNextVisibleColumn(f.range.startColumn)}}else o.initial.row=a,o.initial.column=l;else o.initial.column=h}else o.initial.row=d}else{const d=this._findRowOfPreviousVisibleCell(o.initial.row,o.initial.column,!1);if(-1===d||d<a){o.initial.row=c,oe.contains(ne.fromSingleRowColumn(o.initial.row,o.initial.column),s)&&(o.initial.column=this._cellModel.findNextVisibleColumn(s.startColumn));const h=this._findColumnOfPreviousVisibleCell(o.initial.column,o.initial.row,!0);if(-1===h||h<l)if(this.getSelections().length>1){this._primaryIndex-=1,this._primaryIndex<0&&(this._primaryIndex=this.getSelections().length-1);const f=this.getPrimary();f.initial={row:this._cellModel.findPreviousVisibleRow(f.range.endRow),column:this._cellModel.findPreviousVisibleColumn(f.range.endColumn)}}else o.initial.row=c,o.initial.column=u;else o.initial.column=h}else o.initial.row=d}}_findRowOfNextVisibleCell(t,e,i){const r=t>=0?this._cellModel.getCell(t,e):null;let o=null,s=t;do{if(s=this._cellModel.findNextVisibleRow(s+1),-1===s)return-1;o=this._cellModel.getCell(s,e)}while(null!==o&&null!==r&&o===r&&!i);return s}_findRowOfPreviousVisibleCell(t,e,i){const r=t<=this._cellModel.getRowCount()-1?this._cellModel.getCell(t,e):null;let o=null,s=t;do{if(s=this._cellModel.findPreviousVisibleRow(s-1),-1===s)return-1;o=this._cellModel.getCell(s,e)}while(null!==o&&null!==r&&o===r&&!i);return s}_findColumnOfNextVisibleCell(t,e,i){const r=t>=0?this._cellModel.getCell(e,t):null;let o=null,s=t;do{if(s=this._cellModel.findNextVisibleColumn(s+1),-1===s)return-1;o=this._cellModel.getCell(e,s)}while(null!==o&&null!==r&&o===r&&!i);return s}_findColumnOfPreviousVisibleCell(t,e,i){const r=t<=this._cellModel.getColumnCount()-1?this._cellModel.getCell(e,t):null;let o=null,s=t;do{if(s=this._cellModel.findPreviousVisibleColumn(s-1),-1===s)return-1;o=this._cellModel.getCell(e,s)}while(null!==o&&null!==r&&o===r&&!i);return s}_findNextShrinkableColumnFromRightForSelection(t){e:for(let e=t.range.endColumn;e>t.initial.column;e--)if(!this._cellModel.isColumnHidden(e)){for(let i=t.range.startRow;i<=t.range.endRow;i++){if(this._cellModel.isRowHidden(i))continue;const r=this._cellModel.getCell(i,e);if(r){const o=r.range;if(o.startColumn<e){e=o.startColumn+1;continue e}}}return e-1}return-1}_findNextShrinkableColumnFromLeftForSelection(t){e:for(let e=t.range.startColumn;e<t.initial.column;e++)if(!this._cellModel.isColumnHidden(e)){for(let i=t.range.startRow;i<=t.range.endRow;i++){if(this._cellModel.isRowHidden(i))continue;const r=this._cellModel.getCell(i,e);if(r){const o=r.range;if(o.endColumn>e){e=o.endColumn-1;continue e}}}return e+1}return-1}_findNextShrinkableRowFromBottomForSelection(t){e:for(let e=t.range.endRow;e>t.initial.row;e--)if(!this._cellModel.isRowHidden(e)){for(let i=t.range.startColumn;i<=t.range.endColumn;i++){if(this._cellModel.isColumnHidden(i))continue;const r=this._cellModel.getCell(e,i);if(r){const o=r.range;if(o.startRow<e){e=o.startRow+1;continue e}}}return e-1}return-1}_findNextShrinkableRowFromTopForSelection(t){e:for(let e=t.range.startRow;e<t.initial.row;e++)if(!this._cellModel.isRowHidden(e)){for(let i=t.range.startColumn;i<=t.range.endColumn;i++){if(this._cellModel.isColumnHidden(i))continue;const r=this._cellModel.getCell(e,i);if(r){const o=r.range;if(o.endRow>e){e=o.endRow-1;continue e}}}return e+1}return-1}_transformSelection(t,e){if(!this._options.selection.selectionTransform)return!0;const i=this._options.selection.selectionTransform(t,this._cellModel,e);return this._options.selection.allowRangeSelection||(t.range={startRow:t.initial.row,endRow:t.initial.row,startColumn:t.initial.column,endColumn:t.initial.column}),i}}class hp{constructor(t,e,i){var n;this._events=new te,this._isInitialized=!1,this._container=t,this._cellModel=e,this._options=((n=i)||(n={}),n.renderer||(n.renderer={}),n.renderer=(n=>(n||(n={}),n.view||(n.view={}),null==n.view.fixedRows&&(n.view.fixedRows=0),null==n.view.fixedColumns&&(n.view.fixedColumns=0),null==n.view.maxCellCountToCopy&&(n.view.maxCellCountToCopy=1e4),n.type||(n.type=nH),n.type===mr.CANVAS&&(n.canvas=QB(n.canvas)),n))(n.renderer),n.selection||(n.selection={}),n.selection=(n=>(n||(n={}),null==n.allowRangeSelection&&(n.allowRangeSelection=!0),null==n.allowMultiSelection&&(n.allowMultiSelection=!0),n.copyHandle||(n.copyHandle={}),null==n.copyHandle.showCopyHandle&&(n.copyHandle.showCopyHandle=!1),n))(n.selection),n.border||(n.border={}),n.border=(n=>(n||(n={}),n.defaultBorder||(n.defaultBorder=cB),n.borderCollisionResolver||(n.borderCollisionResolver=lB),n))(n.border),n.misc||(n.misc={}),null==n.misc.debug&&(n.misc.debug=!1),n),this._selectionModel=new dp(this._cellModel,this._options),this._borderModel=new dB(this._cellModel,this._options),this._renderer=Ys.getRendererInstance(this._options.renderer.type)}initialize(){return n=this,t=void 0,i=function*(){yield this._renderer.initialize(this._container,this,this._options),this._isInitialized=!0,this._events.next({type:_c.RENDERER_READY}),this.repaint()},new((e=void 0)||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())});var n,t,e,i}repaint(){this._renderer.render()}requestFocus(){this._renderer.requestFocus()}isFocused(){return this._renderer.isFocused()}scrollTo(t,e){this._renderer.scrollTo(t,e)}setZoom(t){this._renderer.setZoom(t)}getZoom(){return this._renderer.getZoom()}getScrollOffset(){return this._renderer.getScrollOffset()}getViewport(){return this._renderer.getViewport()}getFixedRowsHeight(){return this._renderer.getFixedRowsHeight()}getFixedColumnsWidth(){return this._renderer.getFixedColumnsWidth()}getOptions(){return this._options}getCellModel(){return this._cellModel}getSelectionModel(){return this._selectionModel}getBorderModel(){return this._borderModel}getOverlayManager(){return this._renderer}getEventsObservable(){return this._events.asObservable()}registerCellRenderer(t){if(this._isInitialized)throw new Error("Cannot register renderers when table-engine is already initialized");this._renderer.registerCellRenderer(t)}cleanup(){this._renderer.cleanup(),this._cellModel.cleanup(),this._events.complete()}}class lH{constructor(t,e,i){this.type=gr.BEFORE_DELETE,this._startIndex=t,this._count=e,this._isRow=i}get startIndex(){return this._startIndex}get count(){return this._count}get isRow(){return this._isRow}}class $D{constructor(t,e){this.type=gr.HIDDEN,this._indices=t,this._isRow=e}get indices(){return this._indices}get isRow(){return this._isRow}}let fp=(()=>{class n{constructor(e,i,r,o,s){this._events=new te,this._cellLookup=e,this._rowSizes=i,this._columnSizes=r,this._hiddenRows=o,this._hiddenColumns=s,this._rowOffsets=n._calculateOffsets(i,o),this._columnOffsets=n._calculateOffsets(r,s)}events(){return this._events.asObservable()}cleanup(){this._events.complete()}static generate(e,i,r,o,s,a,l){const c=new Map;let u=0,d=0;for(const w of e)c.set(`${w.range.startRow}_${w.range.startColumn}`,w),w.range.endRow>u&&(u=w.range.endRow),w.range.endColumn>d&&(d=w.range.endColumn);const h=u+1,f=d+1,p=new Array(h);for(let w=0;w<h;w++)p[w]=new Array(f);const _=new Array(h);for(let w=0;w<h;w++)_[w]=o(w);const v=new Array(f);for(let w=0;w<f;w++)v[w]=s(w);for(let w=0;w<h;w++)for(let D=0;D<f;D++)if(!p[w][D]){const M=c.get(`${w}_${D}`);if(M)for(let O=M.range.startRow;O<=M.range.endRow;O++)for(let L=M.range.startColumn;L<=M.range.endColumn;L++)p[O][L]=M;else{const O=i(w,D),L=r(w,D);p[w][D]=null!=O||L?{value:O,rendererName:L,range:ne.fromSingleRowColumn(w,D)}:null}}return new n(p,_,v,a,l)}static _calculateOffsets(e,i){const r=new Array(e.length);let o=0;for(let s=0;s<e.length;s++)r[s]=o,i.has(s)||(o+=e[s]);return r}getCell(e,i,r){return null==r&&(r=!1),r?this._getCellOrFill(e,i):this._cellLookup[e][i]}_getCellOrFill(e,i){const r=this.getCell(e,i);if(r)return r;{const o={range:ne.fromSingleRowColumn(e,i),value:null,rendererName:n.DEFAULT_CELL_RENDERER_NAME};return this._cellLookup[e][i]=o,o}}setValue(e,i,r){this._getCellOrFill(e,i).value=r}setRenderer(e,i,r){this._getCellOrFill(e,i).rendererName=r}getCells(e,i){const r=new Array((e.endRow-e.startRow+1)*(e.endColumn-e.startColumn+1));let s=0;return this._forEachCellInRange(e,(a,l,c)=>{a&&(r[s++]=a)},{unique:!0,includeHidden:!!i&&i.includeHidden}),r.length=s,r}getCellsForRect(e){const i=this._calculateCellRangeForRect(e);return this.getCells(i)}getRangeForRect(e){return this._calculateCellRangeForRect(e)}getCellAtOffset(e,i){const r=this.getRowAtOffset(i),o=this.getColumnAtOffset(e);return this.getCell(r,o)}getRowAtOffset(e){return n._calculateIndexForOffset(e,this._rowOffsets,this._rowSizes,this._hiddenRows)}getColumnAtOffset(e){return n._calculateIndexForOffset(e,this._columnOffsets,this._columnSizes,this._hiddenColumns)}isRangeVisible(e){let i=!1;for(let o=e.startRow;o<=e.endRow;o++)if(!this.isRowHidden(o)){i=!0;break}let r=!1;for(let o=e.startColumn;o<=e.endColumn;o++)if(!this.isColumnHidden(o)){r=!0;break}return i&&r}findNextVisibleRow(e){return n._findNextVisibleIndex(e,this.getRowCount()-1,this._hiddenRows)}findNextVisibleColumn(e){return n._findNextVisibleIndex(e,this.getColumnCount()-1,this._hiddenColumns)}static _findNextVisibleIndex(e,i,r){for(let o=e;o<=i;o++)if(!r.has(o))return o;return-1}findPreviousVisibleRow(e){return n._findPreviousVisibleIndex(e,this._hiddenRows)}findPreviousVisibleColumn(e){return n._findPreviousVisibleIndex(e,this._hiddenColumns)}static _findPreviousVisibleIndex(e,i){for(let r=e;r>=0;r--)if(!i.has(r))return r;return-1}getBounds(e){const i=this.getRowOffset(e.startRow),r=this.getColumnOffset(e.startColumn);return{top:i,left:r,height:this.getRowOffset(e.endRow)+(this.isRowHidden(e.endRow)?0:this.getRowSize(e.endRow))-i,width:this.getColumnOffset(e.endColumn)+(this.isColumnHidden(e.endColumn)?0:this.getColumnSize(e.endColumn))-r}}_calculateCellRangeForRect(e){return{startRow:n._calculateIndexForOffset(e.top,this._rowOffsets,this._rowSizes,this._hiddenRows),endRow:n._calculateIndexForOffset(e.top+e.height,this._rowOffsets,this._rowSizes,this._hiddenRows),startColumn:n._calculateIndexForOffset(e.left,this._columnOffsets,this._columnSizes,this._hiddenColumns),endColumn:n._calculateIndexForOffset(e.left+e.width,this._columnOffsets,this._columnSizes,this._hiddenColumns)}}static _calculateIndexForOffset(e,i,r,o){const s=r.length;if(0===s)throw new Error("There are no indices yet. Do you have any rows/columns yet in the cell model?");const a=s-1,l=i[a]+(o.has(a)?0:r[a]);let c=Math.round(Math.min(l/s,a)),u=i[c],d=u+(o.has(c)?0:r[c]);const h=e<u?-1:1;for(;e<u||e>d;){if(c+=h,c<=0)return 0;if(c>=a)return a;u=i[c],d=u+(o.has(c)?0:r[c])}return c}getRowCount(){return this._rowSizes.length}getColumnCount(){return this._columnSizes.length}getWidth(){const e=this.getColumnCount()-1;return this._columnOffsets[e]+(this.isColumnHidden(e)?0:this.getColumnSize(e))}getHeight(){const e=this.getRowCount()-1;return this._rowOffsets[e]+(this.isRowHidden(e)?0:this.getRowSize(e))}getRowSize(e){return this._rowSizes[e]}getColumnSize(e){return this._columnSizes[e]}getRowOffset(e){return this._rowOffsets[e]}getColumnOffset(e){return this._columnOffsets[e]}resizeRows(e,i){n._resize(this._rowSizes,this._rowOffsets,this._hiddenRows,e,i)}resizeColumns(e,i){n._resize(this._columnSizes,this._columnOffsets,this._hiddenColumns,e,i)}static _resize(e,i,r,o,s){o.sort((u,d)=>u-d);let a=0,l=0,c=o[l];for(let u=c;u<i.length;u++)i[u]+=a,u===c&&(r.has(c)||(a+=s-e[c]),e[c]=s,l++,c=o.length>l?o[l]:-1)}insertRows(e,i,r){this._insert(e,i,!0,r)}insertColumns(e,i,r){this._insert(e,i,!1,r)}_insert(e,i,r,o){const s=e>0?this._collectMergedCellsRangingOverIndex(r,e-1):[];for(const l of s)this.splitCell(l.startRow,l.startColumn);const a=this._expandModelForInsert(e,i,r,o);n._shiftHidden(r?this._hiddenRows:this._hiddenColumns,e+1,i),n._shiftOffsets(r?this._rowOffsets:this._columnOffsets,e+i,a),this._shiftCellRangesForInsert(r,e+i,i);for(const l of s)r?l.endRow+=i:l.endColumn+=i,this.mergeCells(l)}_shiftCellRangesForInsert(e,i,r){const o={unique:!0,includeHidden:!0};e?this._forEachCellInRange({startRow:i,endRow:this.getRowCount()-1,startColumn:0,endColumn:this.getColumnCount()-1},(s,a,l)=>{s&&(s.range.startRow+=r,s.range.endRow+=r)},o):this._forEachCellInRange({startRow:0,endRow:this.getRowCount()-1,startColumn:i,endColumn:this.getColumnCount()-1},(s,a,l)=>{s&&(s.range.startColumn+=r,s.range.endColumn+=r)},o)}_forEachCellInRange(e,i,r){const o=new Set;for(let s=e.startRow;s<=e.endRow;s++)if(r.includeHidden||!this.isRowHidden(s))for(let a=e.startColumn;a<=e.endColumn;a++){if(!r.includeHidden&&this.isColumnHidden(a))continue;const l=this.getCell(s,a);if(r.unique&&l&&!oe.isSingleRowColumnRange(l.range)){if(o.has(l))continue;o.add(l)}i(l,s,a)}}static _shiftOffsets(e,i,r){for(let o=i;o<e.length;o++)e[o]+=r}_expandModelForInsert(e,i,r,o){return r?this._expandModelForInsertForRows(e,i,o):this._expandModelForInsertForColumns(e,i,o)}_expandModelForInsertForRows(e,i,r){const o=this.getRowCount(),s=this.getColumnCount(),a=new Array(i);for(let f=0;f<i;f++){a[f]=new Array(s);for(let p=0;p<s;p++)a[f][p]=r?r(f+e,p):null}const l=o>0?this.getRowSize(e<o?e:o-1):n.DEFAULT_ROW_SIZE,c=new Array(i);let u=0;for(let f=0;f<i;f++)c[f]=l,u+=l;let d=e<o?this.getRowOffset(e):this.getHeight();const h=new Array(i);for(let f=0;f<i;f++)h[f]=d,d+=c[f];return this._cellLookup.splice(e,0,...a),this._rowSizes.splice(e,0,...c),this._rowOffsets.splice(e,0,...h),u}_expandModelForInsertForColumns(e,i,r){const o=this.getRowCount(),s=this.getColumnCount(),a=s>0?this.getColumnSize(e<s?e:s-1):n.DEFAULT_COLUMN_SIZE,l=new Array(i);let c=0;for(let h=0;h<i;h++)l[h]=a,c+=a;let u=e<s?this.getColumnOffset(e):this.getWidth();const d=new Array(i);for(let h=0;h<i;h++)d[h]=u,u+=l[h];for(let h=0;h<o;h++){const f=new Array(i);for(let p=0;p<f.length;p++)f[p]=r?r(h,p+e):null;this._cellLookup[h].splice(e,0,...f)}return this._columnSizes.splice(e,0,...l),this._columnOffsets.splice(e,0,...d),c}static _shiftHidden(e,i,r){const o=Array.from(e.values());e.clear();for(const s of o)e.add(s>=i?s+r:s)}deleteRows(e,i){this._delete(e,i,!0)}deleteColumns(e,i){this._delete(e,i,!1)}_delete(e,i,r){this._events.next(new lH(e,i,r));const o=e>0?this._collectMergedCellsRangingOverIndex(r,e-1):[],s=e+i-1,a=r?this.getRowOffset(s)+(this.isRowHidden(s)?0:this.getRowSize(s))-this.getRowOffset(e):this.getColumnOffset(s)+(this.isColumnHidden(s)?0:this.getColumnSize(s))-this.getColumnOffset(e);for(const d of o)r?d.endRow<=s&&(this.getCell(d.startRow,d.startColumn).range.endRow=e-1):d.endColumn<=s&&(this.getCell(d.startRow,d.startColumn).range.endColumn=e-1);this._shiftCellRangesForDelete(r,e,i);const l=r?this._hiddenRows:this._hiddenColumns;for(let d=e;d<e+i;d++)l.delete(d);n._shiftHidden(r?this._hiddenRows:this._hiddenColumns,e+i,-i);const c=r?this._rowOffsets:this._columnOffsets;c.splice(e,i);for(let d=e;d<c.length;d++)c[d]-=a;if((r?this._rowSizes:this._columnSizes).splice(e,i),r)this._cellLookup.splice(e,i);else for(const d of this._cellLookup)d.splice(e,i)}_shiftCellRangesForDelete(e,i,r){const o={unique:!0,includeHidden:!0};e?this._forEachCellInRange({startRow:i+r,endRow:this.getRowCount()-1,startColumn:0,endColumn:this.getColumnCount()-1},(s,a,l)=>{s&&(oe.isSingleRowColumnRange(s.range)?(s.range.startRow-=r,s.range.endRow-=r):s.range.startRow<i?s.range.endRow-=r:s.range.startRow<i+r?(s.range.startRow=i,s.range.endRow-=r):(s.range.startRow-=r,s.range.endRow-=r))},o):this._forEachCellInRange({startRow:0,endRow:this.getRowCount()-1,startColumn:i+r,endColumn:this.getColumnCount()-1},(s,a,l)=>{s&&(oe.isSingleRowColumnRange(s.range)?(s.range.startColumn-=r,s.range.endColumn-=r):s.range.startColumn<i?s.range.endColumn-=r:s.range.startColumn<i+r?(s.range.startColumn=i,s.range.endColumn-=r):(s.range.startColumn-=r,s.range.endColumn-=r))},o)}_collectMergedCellsRangingOverIndex(e,i){const r=[],o=e?this.getRowCount()-1:this.getColumnCount()-1,s=e?this.getColumnCount()-1:this.getRowCount()-1;if(i>=o)return r;const a=new Set;for(let l=0;l<s;l++){const d=this.getCell(e?i+1:l,e?l:i+1);if(d&&!oe.isSingleRowColumnRange(d.range)&&!a.has(d)){let h;a.add(d),h=e?d.range.startRow<=i:d.range.startColumn<=i,h&&r.push(new ne(d.range))}}return r}mergeCells(e){for(let r=e.startRow;r<=e.endRow;r++)for(let o=e.startColumn;o<=e.endColumn;o++){const s=this.getCell(r,o);if(s&&!oe.isSingleRowColumnRange(s.range))return!1}const i=this._getCellOrFill(e.startRow,e.startColumn);i.range.endRow=e.endRow,i.range.endColumn=e.endColumn;for(let r=e.startRow;r<=e.endRow;r++)for(let o=e.startColumn;o<=e.endColumn;o++)r===e.startRow&&o===e.startColumn||(this._cellLookup[r][o]=i);return!0}splitCell(e,i){const r=this.getCell(e,i);if(oe.isSingleRowColumnRange(r.range))return;const o=r.border;for(let s=r.range.startRow;s<=r.range.endRow;s++)for(let a=r.range.startColumn;a<=r.range.endColumn;a++){let l=null;s===r.range.startRow&&a===r.range.startColumn&&(l=r,l.border={}),o&&(s===r.range.startRow&&!!o.top&&(l||(l={range:ne.fromSingleRowColumn(s,a),value:null,rendererName:r.rendererName,border:{}}),l.border.top={size:o.top.size,color:o.top.color,style:o.top.style,priority:o.top.priority}),s===r.range.endRow&&!!o.bottom&&(l||(l={range:ne.fromSingleRowColumn(s,a),value:null,rendererName:r.rendererName,border:{}}),l.border.bottom={size:o.bottom.size,color:o.bottom.color,style:o.bottom.style,priority:o.bottom.priority}),a===r.range.startColumn&&!!o.left&&(l||(l={range:ne.fromSingleRowColumn(s,a),value:null,rendererName:r.rendererName,border:{}}),l.border.left={size:o.left.size,color:o.left.color,style:o.left.style,priority:o.left.priority}),a===r.range.endColumn&&!!o.right&&(l||(l={range:ne.fromSingleRowColumn(s,a),value:null,rendererName:r.rendererName,border:{}}),l.border.right={size:o.right.size,color:o.right.color,style:o.right.style,priority:o.right.priority})),this._cellLookup[s][a]=l}r.range.endRow=r.range.startRow,r.range.endColumn=r.range.startColumn}isRowHidden(e){return this._hiddenRows.has(e)}isColumnHidden(e){return this._hiddenColumns.has(e)}hideRows(e){const i=n._hide(e,this._rowOffsets,this._hiddenRows,this._rowSizes);i.length>0&&this._events.next(new $D(i,!0))}hideColumns(e){const i=n._hide(e,this._columnOffsets,this._hiddenColumns,this._columnSizes);i.length>0&&this._events.next(new $D(i,!1))}static _hide(e,i,r,o){const s=[];for(const a of e)r.has(a)||(r.add(a),s.push(a));if(s.length>0){s.sort((u,d)=>u-d);let a=o[s[0]],l=1,c=s.length>l?s[l]:-1;for(let u=s[0]+1;u<i.length;u++)i[u]-=a,u===c&&(a+=o[c],l++,c=s.length>l?s[l]:-1);return s}return[]}showRows(e){n._show(e,this._rowOffsets,this._hiddenRows,this._rowSizes)}showColumns(e){n._show(e,this._columnOffsets,this._hiddenColumns,this._columnSizes)}static _show(e,i,r,o){const s=[];for(const a of e)r.has(a)&&(r.delete(a),s.push(a));if(s.length>0){s.sort((u,d)=>u-d);let a=o[s[0]],l=1,c=s.length>l?s[l]:-1;for(let u=s[0]+1;u<i.length;u++)i[u]+=a,u===c&&(a+=o[c],l++,c=s.length>l?s[l]:-1)}}showAll(){this.showRows(Array.from(this._hiddenRows)),this.showColumns(Array.from(this._hiddenColumns))}}return n.DEFAULT_CELL_RENDERER_NAME="text",n.DEFAULT_ROW_SIZE=25,n.DEFAULT_COLUMN_SIZE=100,n})();const cH=["tableContainer"];let pp,uH=(()=>{class n{ngAfterViewInit(){const e=fp.generate([{range:ne.fromSingleRowColumn(30,5),rendererName:ve.NAME,value:"LAST CELL"}],(r,o)=>r*o,(r,o)=>ve.NAME,r=>25,r=>0===r?50:120,new Set,new Set),i=new hp(this.tableContainer.nativeElement,e);i.registerCellRenderer(new ve),i.initialize()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-minimal-example"]],viewQuery:function(e,i){if(1&e&&mi(cH,5),2&e){let r;Ne(r=Le())&&(i.tableContainer=r.first)}},decls:6,vars:0,consts:[[1,"table-container"],["tableContainer",""]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"Minimal example"),g(),Ae(2,"div",0,1),y(4,"p"),m(5,"TODO"),g())},styles:[".table-container[_ngcontent-%COMP%]{height:400px}"],changeDetection:0}),n})();try{pp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pp=!1}let Zs,yc,yr,gp,Jn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?XC(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(R(El))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mp(n){return function dH(){if(null==Zs&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zs=!0}))}finally{Zs=Zs||!1}return Zs}()?n:!!n.capture}function Qs(){if("object"!=typeof document||!document)return 0;if(null==yc){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),yc=0,0===n.scrollLeft&&(n.scrollLeft=1,yc=0===n.scrollLeft?1:2),n.remove()}return yc}function Xs(n){return n.composedPath?n.composedPath()[0]:n.target}function _p(n,t=Io){return Ie((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(ge(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function YD(n){return Ve((t,e)=>n<=e)}function ZD(n,t=ni){return n=n??OH,Ie((e,i)=>{let r,o=!0;e.subscribe(ge(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function OH(n,t){return n===t}function Dt(n){return null!=n&&"false"!=`${n}`}function QD(n,t=0){return function FH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function XD(n){return Array.isArray(n)?n:[n]}function Lo(n){return n instanceof Se?n.nativeElement:n}const JD=new Set;let Po,kH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):LH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function NH(n){if(!JD.has(n))try{Po||(Po=document.createElement("style"),Po.setAttribute("type","text/css"),document.head.appendChild(Po)),Po.sheet&&(Po.sheet.insertRule(`@media ${n} {body{ }}`,0),JD.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Jn))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let eE=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return tE(XD(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=xf(tE(XD(e)).map(s=>this._registerQuery(s).observable));return o=ql(o.pipe(Pn(1)),o.pipe(YD(1),_p(0))),o.pipe(F(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Me(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Eo(i),F(({matches:s})=>({query:e,matches:s})),Je(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(R(kH),R(re))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let rE=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function jH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function UH(n){try{return n.frameElement}catch{return null}}(function QH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===sE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=sE(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function YH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ZH(n){return!function GH(n){return function qH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $H(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function WH(n){return function KH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||oE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(R(Jn))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function sE(n){if(!oE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class XH{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Pn(1)).subscribe(t)}}let JH=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new XH(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(R(rE),R(re),R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function lE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ez=new T("cdk-input-modality-detector-options"),tz={ignoreKeys:[18,17,224,91,16]},Vo=mp({passive:!0,capture:!0});let nz=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new en(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xs(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aE(s)?"keyboard":"mouse"),this._mostRecentTarget=Xs(s))},this._onTouchstart=s=>{lE(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xs(s))},this._options={...tz,...o},this.modalityDetected=this._modality.pipe(YD(1)),this.modalityChanged=this.modalityDetected.pipe(ZD()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Vo),r.addEventListener("mousedown",this._onMousedown,Vo),r.addEventListener("touchstart",this._onTouchstart,Vo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vo),document.removeEventListener("mousedown",this._onMousedown,Vo),document.removeEventListener("touchstart",this._onTouchstart,Vo))}}return n.\u0275fac=function(e){return new(e||n)(R(Jn),R(re),R(ue),R(ez,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rz=new T("cdk-focus-monitor-default-options"),wc=mp({passive:!0,capture:!0});let yp=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te,this._rootNodeFocusAndBlurListener=a=>{for(let c=Xs(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Lo(e);if(!this._platform.isBrowser||1!==r.nodeType)return N(null);const o=function pH(n){if(function fH(){if(null==gp){const n=typeof document<"u"?document.head:null;gp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gp}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new te,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Lo(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Lo(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Xs(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,wc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,wc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(R(re),R(Jn),R(nz),R(ue,8),R(rz,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uE="cdk-high-contrast-black-on-white",dE="cdk-high-contrast-white-on-black",vp="cdk-high-contrast-active";let oz=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=dn(eE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(vp,uE,dE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(vp,uE):2===i&&e.add(vp,dE)}}}return n.\u0275fac=function(e){return new(e||n)(R(Jn),R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sz=new T("cdk-dir-doc",{providedIn:"root",factory:function az(){return dn(ue)}}),lz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hE=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ye,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function cz(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?lz.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(R(sz,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();const dz=new T("mat-sanity-checks",{providedIn:"root",factory:function uz(){return!0}});let gt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function mH(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(R(oz),R(dz,8),R(ue))},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[fE,fE]}),n})();function gE(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Dt(t)}}}function wp(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Js(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dt(t)}}}let _E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=V({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function ea(n,t,e){n.nativeElement.classList.toggle(t,e)}let vE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt,gt]}),n})();class fz{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wE={enterDuration:225,exitDuration:150},Cp=mp({passive:!0}),CE=["mousedown","touchstart"],bE=["mouseup","mouseleave","touchend","touchcancel"];class mz{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Lo(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...wE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function gz(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,_=new fz(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",_.state=0,i.persistent||(this._mostRecentTransientRipple=_);let v=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const w=()=>this._finishRippleTransition(_),D=()=>this._destroyRipple(_);u.addEventListener("transitionend",w),u.addEventListener("transitioncancel",D),v={onTransitionEnd:w,onTransitionCancel:D}}),this._activeRipples.set(_,v),(p||!c)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...wE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Lo(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(CE))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bE),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=aE(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!lE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Cp)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(CE.forEach(t=>{this._triggerElement.removeEventListener(t,this,Cp)}),this._pointerUpEventsRegistered&&bE.forEach(t=>{this._triggerElement.removeEventListener(t,this,Cp)}))}}const _z=new T("mat-ripple-global-options");let Cc=(()=>{class n{constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new mz(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(re),b(Jn),b(_z,8),b(bo,8))},n.\u0275dir=V({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Ge("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),DE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt,gt]}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt]}),n})();class vz{}class Bi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Bi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Bi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Bi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wz{encodeKey(t){return ME(t)}encodeValue(t){return ME(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const bz=/%(\d[a-f0-9])/gi,Dz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ME(n){return encodeURIComponent(n).replace(bz,(t,e)=>Dz[e]??t)}function bc(n){return`${n}`}class Hi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wz,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Cz(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(bc):[bc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(bc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ez{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function RE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AE(n){return typeof Blob<"u"&&n instanceof Blob}function TE(n){return typeof FormData<"u"&&n instanceof FormData}class ta{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Sz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Bi),this.context||(this.context=new Ez),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Hi,this.urlWithParams=e}serializeBody(){return null===this.body?null:RE(this.body)||AE(this.body)||TE(this.body)||function Mz(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TE(this.body)?null:AE(this.body)?this.body.type||null:RE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new ta(e,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var _t=(()=>((_t=_t||{})[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t))();class bp extends class Rz{constructor(t,e=200,i="OK"){this.headers=t.headers||new Bi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=_t.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Dp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let IE=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof ta)o=e;else{let l,c;l=r.headers instanceof Bi?r.headers:new Bi(r.headers),r.params&&(c=r.params instanceof Hi?r.params:new Hi({fromObject:r.params})),o=new ta(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=N(o).pipe(Vi(l=>this.handler.handle(l)));if(e instanceof ta||"events"===r.observe)return s;const a=s.pipe(Ve(l=>l instanceof bp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(F(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(F(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(F(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(F(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Hi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Dp(r,i))}post(e,i,r={}){return this.request("POST",e,Dp(r,i))}put(e,i,r={}){return this.request("PUT",e,Dp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(R(vz))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Tz=["*"];let Dc;function na(n){return function xz(){if(void 0===Dc&&(Dc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Dc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Dc}()?.createHTML(n)||n}function OE(n){return Error(`Unable to find icon with the name "${n}"`)}function FE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kE(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vr{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Ec=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new vr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(ce.HTML,r);if(!s)throw kE(r);const a=na(s);return this._addSvgIconConfig(e,i,new vr("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new vr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(ce.HTML,i);if(!o)throw kE(i);const s=na(o);return this._addSvgIconSetConfig(e,new vr("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ce.RESOURCE_URL,e);if(!i)throw FE(e);const r=this._cachedIconsByUrl.get(i);return r?N(Sc(r)):this._loadSvgIconFromConfig(new vr(e,null)).pipe(Ce(o=>this._cachedIconsByUrl.set(i,o)),F(o=>Sc(o)))}getNamedSvgIcon(e,i=""){const r=NE(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ln(OE(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?N(Sc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(F(i=>Sc(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?N(r):function SE(...n){const t=va(n),{args:e,keys:i}=wb(n),r=new Me(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;ht(e[u]).subscribe(ge(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Cb(i,a):a),o.complete())}))}});return t?r.pipe(Tf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Qn(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ce.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),N(null)})))).pipe(F(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw OE(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ce(i=>e.svgText=i),F(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?N(null):this._fetchIcon(e).pipe(Ce(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(na("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(na("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Iz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(ce.RESOURCE_URL,i);if(!s)throw FE(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(F(c=>na(c)),Yl(()=>this._inProgressUrlFetches.delete(s)),qm());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(NE(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Fz(o)?new vr(o.url,null,o.options):new vr(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(R(IE,8),R(Wl),R(ue,8),R(ui))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sc(n){return n.cloneNode(!0)}function NE(n,t){return n+":"+t}function Fz(n){return!(!n.url||!n.options)}const kz=wp(class{constructor(n){this._elementRef=n}}),Nz=new T("MAT_ICON_DEFAULT_OPTIONS"),Lz=new T("mat-icon-location",{providedIn:"root",factory:function Pz(){const n=dn(ue),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vz=LE.map(n=>`[${n}]`).join(", "),Bz=/^url\(['"]?#(.*?)['"]?\)$/;let wr=(()=>{class n extends kz{constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=yt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Dt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Vz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)LE.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(Bz):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Pn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(Ec),Br("aria-hidden"),b(Lz),b(ui),b(Nz,8))},n.\u0275cmp=Ee({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(ft("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Ge("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Q],ngContentSelectors:Tz,decls:1,vars:0,template:function(e,i){1&e&&(Ut(),$e(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt,gt]}),n})();const zz=["mat-button",""],Uz=["*"],$z=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Gz=wp(gE(Js(class{constructor(n){this._elementRef=n}})));let Cr=(()=>{class n extends Gz{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of $z)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(yp),b(bo,8))},n.\u0275cmp=Ee({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&mi(Cc,5),2&e){let r;Ne(r=Le())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(ft("disabled",i.disabled||null),Ge("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Q],attrs:zz,ngContentSelectors:Uz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Ut(),y(0,"span",0),$e(1),g(),Ae(2,"span",1)(3,"span",2)),2&e&&(Ke(2),Ge("mat-button-ripple-round",i.isRoundButton||i.isIconButton),ke("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Cc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[DE,gt,gt]}),n})();const qz=["tableContainer"];let Kz=(()=>{class n{ngAfterViewInit(){this._setupDemo()}_setupDemo(){const e=fp.generate([{range:ne.fromSingleRowColumn(1e3,30),rendererName:ve.NAME,value:"LAST CELL"}],(r,o)=>r*o,(r,o)=>0===r||0===o?ko.NAME:ve.NAME,r=>25,r=>0===r?50:120,new Set,new Set);e.mergeCells({startRow:5,endRow:8,startColumn:4,endColumn:5});const i=new hp(this.tableContainer.nativeElement,e);i.getOptions().renderer.view.fixedRows=1,i.getOptions().renderer.view.fixedColumns=1,i.getOptions().selection.selectionTransform=jD,i.registerCellRenderer(new ve({horizontalAlignment:tn.CENTER})),i.registerCellRenderer(new ko),i.initialize()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-introduction"]],viewQuery:function(e,i){if(1&e&&mi(qz,5),2&e){let r;Ne(r=Le())&&(i.tableContainer=r.first)}},decls:35,vars:0,consts:[[1,"table-container"],["tableContainer",""],[1,"actions"],["mat-stroked-button","","routerLink","/guide/setup"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"1. Introduction"),g(),y(2,"p"),m(3," The Table Engine is a "),y(4,"i"),m(5,"JavaScript/TypeScript"),g(),m(6," library to visualize any kind of table - that means you can use it to create spreadsheets applications like Excel or visualizations for data (so-called data grids). In contrast to other libraries, we do not focus on a particular use-case. Additionally, since the rendering is not backed by the DOM but rather by a canvas element, it is comparatively "),y(7,"strong"),m(8,"memory-efficient"),g(),m(9," and "),y(10,"strong"),m(11,"fast"),g(),m(12,". Numerous features that you would only get for a lot of money at the competition, such as virtual scrolling for rows and columns, are available out-of-the-box without any further configuration. Since this library is open source licensed under the "),y(13,"strong"),m(14,"MIT-license"),g(),m(15,", you can get it free of charge.\n"),g(),y(16,"h2"),m(17,"Small demo"),g(),y(18,"p"),m(19," Below you'll find a small demonstration of the Table Library. Keep in mind that the row and column headers are optional as is pretty much everything! How your table looks like and what capabilities it will have is entirely up to you.\n"),g(),Ae(20,"div",0,1),y(22,"h2"),m(23,"What is a table?"),g(),y(24,"p"),m(25,' The goal of this library is to be able to render any kind of table with good performance - no matter the structure or data. So, what exactly is a table? A table is data structured in rows and columns, often paired with a description of the row or column in the first row respectively column, called "headers". Moreover, the individual data to be displayed in a single cell might span multiple rows and/or columns. We call this a "merged cell". Since only having data arranged in rows and columns does not make for a visual pleasing result, most tables have borders between adjacent rows and columns to separate them visually. Save for some more advanced features, this is basically a table! It sounds easy, but under the hood there are some pretty finicky algorithms needed to perform as you would expect it. The Table Engine will ensure you can concentrate on the fun part.\n'),g(),y(26,"h2"),m(27,"Summary"),g(),y(28,"p"),m(29," By now, we hope we could give you a clear impression of what the Table Engine is and what it can be used for. You may continue with this guide by clicking on the button below to learn more about using the library.\n"),g(),y(30,"div",2)(31,"button",3)(32,"mat-icon"),m(33,"navigate_next"),g(),m(34," Next section: Setup "),g()())},dependencies:[Ei,wr,Cr],styles:[".table-container[_ngcontent-%COMP%]{height:400px;margin-bottom:25px;border:2px dashed #999;padding:4px;background-color:#fff}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right}"],changeDetection:0}),n})(),Yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-row-column-headers-example"]],decls:4,vars:0,template:function(e,i){1&e&&(y(0,"h1"),m(1,"Row/column headers"),g(),y(2,"p"),m(3,"TODO"),g())},changeDetection:0}),n})();const{isArray:Zz}=Array;const ia={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ia;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new yt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ia;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ia;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Mc=new class eU extends op{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Jz extends rp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ia.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ia.cancelAnimationFrame(e),t._scheduled=void 0)}}),Rc=new T("HIGHLIGHT_OPTIONS");let tU=(()=>{class n{constructor(e,i,r){this.doc=e,this._options=r,this._ready=new en(null),this.ready=this._ready.asObservable().pipe(Ve(o=>!!o),F(o=>o),Pn(1)),XC(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(mn(o=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=o,this.loadLineNumbers().pipe(Ce(()=>this._ready.next(o)))):(this._ready.next(o),sn)),Qn(o=>(console.error("[HLJS] ",o),sn))).subscribe(),this._options?.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return Ln(()=>"The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return Ln(()=>"The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return Ln(()=>"The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return Ln(()=>"The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(mn(e=>this._loadLanguages(e)))}return Ln(()=>"Highlight.js library was not imported!")}_loadLanguages(e){return function Xz(...n){const t=va(n),e=function Qz(n){return 1===n.length&&Zz(n[0])?n[0]:n}(n);return e.length?new Me(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)ht(e[s]).subscribe(ge(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):sn}(...Object.entries(this._options.languages).map(([r,o])=>Ac(o()).pipe(Ce(s=>e.registerLanguage(r,s))))).pipe(F(()=>e))}loadCoreLibrary(){return Ac(this._options.coreLibraryLoader())}loadFullLibrary(){return Ac(this._options.fullLibraryLoader())}loadLineNumbers(){return Ac(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(R(ue),R(El),R(Rc,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ac=n=>qe(n).pipe(Ve(t=>!!t&&!!t.default),F(t=>t.default));let nU=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(F(o=>o.highlight(e,{language:i,ignoreIllegals:r})))}highlightAuto(e,i){return this._loader.ready.pipe(F(r=>r.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(F(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(F(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(F(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(Ce(r=>r.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(Ce(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(Ce(r=>r.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(F(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(F(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(F(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(F(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(Ve(i=>!!i.lineNumbersBlock),Ce(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(R(tU),R(Rc,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PE=(()=>{class n{constructor(e,i,r,o){this._hljs=i,this._sanitizer=r,this._options=o,this.highlighted=new ye,this._nativeElement=e.nativeElement}ngOnChanges(e){null!==e?.code?.currentValue&&e.code.currentValue!==e.code.previousValue&&(this.code?this.highlightElement(this.code,this.languages):this.setTextContent(""))}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(r=>{this.setInnerHTML(r?.value),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),Mc.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){Mc.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){Mc.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(ce.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(nU),b(Wl),b(Rc,8))},n.\u0275dir=V({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&Ge("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[xt]}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();const VE=function(){return["shell"]},rU=function(){return["xml"]},BE=function(){return["typescript"]},sU=["tableContainer"],Tc=function(){return["typescript"]},aU=[{path:"guide",children:[{path:"introduction",component:Kz},{path:"setup",component:(()=>{class n{constructor(){this.codeSamples={npmInstall:"npm install table-engine",yarnAdd:"yarn add table-engine",tableContainerHtml:'<div id="my-container" style="height: 400px"></div>',generateCellModel:'const cellModel = CellModel.generate(\n    [\n        {\n            range: {\n                startRow: 2,\n                endRow: 4,\n                startColumn: 3,\n                endColumn: 5\n            },\n            rendererName: TextCellRenderer.NAME,\n            value: "A merged cell!"\n        },\n        {\n            range: CellRange.fromSingleRowColumn(30, 5),\n            rendererName: TextCellRenderer.NAME,\n            value: "LAST CELL"\n        }\n    ],\n    (row, column) => (row + 1) * (column + 1),\n    (row, column) => TextCellRenderer.NAME,\n    (row) => 25,\n    (column) => 120,\n    new Set(),\n    new Set()\n);',igniteEngine:'const tableContainer = document.getElementById("my-container");\n\nconst cellModel = ...; // See last step\n\nconst engine = new TableEngine(tableContainer, cellModel);\nengine.registerCellRenderer(new TextCellRenderer());\nengine.initialize();'}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-setup"]],decls:92,vars:17,consts:[[3,"highlight","languages"],[3,"highlight","languages","lineNumbers"],["src","https://stackblitz.com/edit/typescript-8xt2xd?embed=1&file=index.ts&hideExplorer=1&hideNavigation=1&theme=light&view=preview"],[1,"actions"],["mat-stroked-button","","routerLink","/guide/introduction"],["mat-stroked-button","","routerLink","/guide/cell-renderer"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"2. Setup"),g(),y(2,"p"),m(3," In this chapter we will take a look at the installation and basic usage of the Table Engine.\n"),g(),y(4,"h2"),m(5,"Installation"),g(),y(6,"p"),m(7," For most users it is as simple as typing "),y(8,"code"),m(9,"npm install table-engine"),g(),m(10," since the Table Engine is available at the npm registry. Below are all the options currently available listed.\n"),g(),y(11,"h3"),m(12,"npm"),g(),y(13,"pre"),m(14,"  "),Ae(15,"code",0),m(16,"\n"),g(),y(17,"h3"),m(18,"yarn"),g(),y(19,"pre"),m(20,"  "),Ae(21,"code",0),m(22,"\n"),g(),y(23,"h3"),m(24,"Other"),g(),y(25,"p"),m(26," For any other use case we currently do not have options available. If you still want to use the Table Engine, consider building it yourself the way you need it.\n"),g(),y(27,"h2"),m(28,"Basic usage"),g(),y(29,"p"),m(30," When the library is installed you are good to go actually using it!\n"),g(),y(31,"h3"),m(32,"Find a home for the table"),g(),y(33,"p"),m(34," First off you are going to need a HTML element the library is able to utilize as container to append its canvas to draw on in. Make sure the element has the size you want the table to have. In the following example the "),y(35,"code"),m(36,"div"),g(),m(37," element has a width of 100% and a height of 400px.\n"),g(),y(38,"pre"),m(39,"  "),Ae(40,"code",0),m(41,"\n"),g(),y(42,"h3"),m(43,"Define what the tables contents are"),g(),y(44,"p"),m(45," A table cannot exist without data to be shown in its rows and columns. Thus we need to define a "),y(46,"code"),m(47,"CellModel"),g(),m(48," that is the Table Engines data structure responsible for managing the tables cells. The recommended way to get your data into a cell model is by using the "),y(49,"code"),m(50,"CellModel.generate(...)"),g(),m(51," method. It accepts a list of cells that you want to have displayed and offers additional configuration such as the row size of each row that is generated or which cell renderer is used by default.\n"),g(),y(52,"pre"),Ae(53,"code",1),g(),y(54,"p"),m(55,' For the above CellModel example we are passing two cell definitions: the first is a cell ranging from row 2 to 4 and column 3 to 5, which means it is a merged cell. The second cell is a cell spanning only row 30 and column 5 with the text "LAST CELL". Now you may ask yourself, what about the other cells in between? Those are generated automatically using the parameters following the list of cells. '),y(56,"code"),m(57,"(row, column) => (row + 1) * (column + 1)"),g(),m(58," is the generator for values of cells not specified in the list above. Equally "),y(59,"code"),m(60,"(row, column) => TextCellRenderer.NAME"),g(),m(61," means that empty cells are to be rendered by the text cell renderer. The next options "),y(62,"code"),m(63,"(row) => 25"),g(),m(64," and "),y(65,"code"),m(66,"(column) => 120"),g(),m(67," are giving the row and column sizes for each row and column generated. The last two parameters "),y(68,"code"),m(69,"new Set()"),g(),m(70," are used when you want some rows or columns initially hidden - better ignore it for now. Afterwards we get a CellModel that contains a cell matrix of the given cells as well as the generated ones, which is now ready to be consumed by the Table Engine.\n"),g(),y(71,"h3"),m(72,"Ignite the engine"),g(),y(73,"p"),m(74," All that is left to do now to finally see your table is igniting the Table Engine. That is done by using the TableEngine constructor with the container HTML element and the CellModel as parameters. Additionally we want to use the text cell renderer in our example, that is why we need to tell our TableEngine instance to register it. Finally we can call "),y(75,"code"),m(76,"TableEngine.initialize()"),g(),m(77," to fire the engine up and a table should appear when running the application.\n"),g(),y(78,"pre"),Ae(79,"code",1),g(),y(80,"h3"),m(81,"Result"),g(),Ae(82,"iframe",2),y(83,"div",3)(84,"button",4)(85,"mat-icon"),m(86,"navigate_before"),g(),m(87," Previous section: Introduction "),g(),y(88,"button",5)(89,"mat-icon"),m(90,"navigate_next"),g(),m(91," Next section: Cell renderer "),g()()),2&e&&(Ke(15),ke("highlight",i.codeSamples.npmInstall)("languages",Kn(12,VE)),Ke(6),ke("highlight",i.codeSamples.yarnAdd)("languages",Kn(13,VE)),Ke(19),ke("highlight",i.codeSamples.tableContainerHtml)("languages",Kn(14,rU)),Ke(13),ke("highlight",i.codeSamples.generateCellModel)("languages",Kn(15,BE))("lineNumbers",!0),Ke(26),ke("highlight",i.codeSamples.igniteEngine)("languages",Kn(16,BE))("lineNumbers",!0))},dependencies:[Ei,PE,wr,Cr],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media only screen and (max-width: 700px){.actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:10px}}"],changeDetection:0}),n})()},{path:"cell-renderer",component:(()=>{class n{constructor(){this.codeSamples={registerCellRenderer:"const engine = new TableEngine(...);\n\nengine.registerCellRenderer(\n\tnew TextCellRenderer({\n\t\thorizontalAlignment: HorizontalAlignment.CENTER,\n\t})\n);\nengine.registerCellRenderer(new RowColumnHeaderRenderer());\nengine.registerCellRenderer(new CheckboxCellRenderer());\nengine.registerCellRenderer(new ComboBoxCellRenderer());\nengine.registerCellRenderer(new DOMCellRenderer());\nengine.registerCellRenderer(new ImageCellRenderer());\nengine.registerCellRenderer(new RatingCellRenderer());\n\nengine.initialize();",usingCellRenderer:"const cellModel = CellModel.generate(\n\t[\n\t\t{\n\t\t\trange: CellRange.fromSingleRowColumn(8, 2),\n\t\t\trendererName: TextCellRenderer.NAME,\n\t\t\tvalue: DOMCellRenderer.NAME,\n\t\t},\n\t\t{\n\t\t\trange: {\n\t\t\t\tstartRow: 8,\n\t\t\t\tendRow: 14,\n\t\t\t\tstartColumn: 3,\n\t\t\t\tendColumn: 3,\n\t\t\t},\n\t\t\trendererName: DOMCellRenderer.NAME,\n\t\t\tvalue: `<p>I can render <strong>HTML!</strong></p>\n<ul>\n<li>List item 1</li>\n<li>List item 2</li>\n<li>List item 3 with <button onclick='alert(\"I have been clicked!\")'>a button!</button></li>\n</ul>`,\n\t\t}\n\t],\n\t(row, column) => null,\n\t(row, column) => {\n\t\tif (row === 0 || column === 0) {\n\t\t\treturn RowColumnHeaderRenderer.NAME;\n\t\t} else {\n\t\t\treturn TextCellRenderer.NAME;\n\t\t}\n\t},\n\t(row) => 25,\n\t(column) => (column === 0 ? 50 : 120),\n\tnew Set(),\n\tnew Set()\n);",exampleCellRendererStart:"import {\n    ICanvasCellRenderer,\n    ICell,\n    ICellRendererEventListener,\n    IRectangle,\n    IRenderContext,\n    ISize,\n    TableEngine,\n} from 'table-engine/lib';\n\nexport class ExampleCellRenderer implements ICanvasCellRenderer {\n    after(ctx: CanvasRenderingContext2D): void {}\n\n    before(ctx: CanvasRenderingContext2D, context: IRenderContext): void {}\n\n    cleanup(): void {}\n\n    estimatePreferredSize(cell: ICell): ISize | null {\n        return undefined;\n    }\n\n    getCopyValue(cell: ICell): string {\n        return '';\n    }\n\n    getEventListener(): ICellRendererEventListener | null {\n        return null;\n    }\n\n    getName(): string {\n        return 'EXAMPLE';\n    }\n\n    initialize(engine: TableEngine): void {}\n\n    onDisappearing(cell: ICell): void {}\n\n    render(\n        ctx: CanvasRenderingContext2D,\n        cell: ICell,\n        bounds: IRectangle\n    ): void {}\n}",exampleCellRendererRenderMethod:"render(\n\tctx: CanvasRenderingContext2D,\n\tcell: ICell,\n\tbounds: IRectangle\n): void {\n\tctx.fillStyle = 'red';\n\tctx.fillRect(\n\t\tbounds.left + 4,\n\t\tbounds.top + 4,\n\t\tbounds.width - 8,\n\t\tbounds.height - 8\n\t);\n}\n"}}ngAfterViewInit(){this._setupTableWithAllCellRenderers()}_setupTableWithAllCellRenderers(){const e=fp.generate([{range:ne.fromSingleRowColumn(2,2),rendererName:ve.NAME,value:{text:"Name",options:{fontSize:16}}},{range:{startRow:2,endRow:2,startColumn:3,endColumn:3},rendererName:ve.NAME,value:{text:"Example",options:{fontSize:16}}},{range:ne.fromSingleRowColumn(3,2),rendererName:ve.NAME,value:ve.NAME},{range:{startRow:3,endRow:5,startColumn:3,endColumn:3},rendererName:ve.NAME,value:{text:"This example of the text cell renderer is able to wrap text that is too long to fit into the current line. Try it out by resizing the column.!",options:{useLineWrapping:!0,horizontalAlignment:tn.LEFT,verticalAlignment:_n.TOP}}},{range:ne.fromSingleRowColumn(6,2),rendererName:ve.NAME,value:sp.NAME},{range:ne.fromSingleRowColumn(6,3),rendererName:sp.NAME,value:{label:"Label",checked:!0}},{range:ne.fromSingleRowColumn(7,2),rendererName:ve.NAME,value:ap.NAME},{range:ne.fromSingleRowColumn(7,3),rendererName:ap.NAME,value:{select_options:{banana:{label:"Banana"},apple:{label:"Apple"},orange:{label:"Orange"}}}},{range:ne.fromSingleRowColumn(8,2),rendererName:ve.NAME,value:lp.NAME},{range:{startRow:8,endRow:14,startColumn:3,endColumn:3},rendererName:lp.NAME,value:"<p>I can render <strong>HTML!</strong></p>\n<ul>\n\t<li>List item 1</li>\n\t<li>List item 2</li>\n\t<li>List item 3 with <button onclick='alert(\"I have been clicked!\")'>a button!</button></li>\n</ul>"},{range:ne.fromSingleRowColumn(15,2),rendererName:ve.NAME,value:ko.NAME},{range:ne.fromSingleRowColumn(15,3),rendererName:ko.NAME,value:null},{range:ne.fromSingleRowColumn(16,2),rendererName:ve.NAME,value:cp.NAME},{range:{startRow:16,endRow:20,startColumn:3,endColumn:3},rendererName:cp.NAME,value:{src:"assets/logo.svg"}},{range:ne.fromSingleRowColumn(21,2),rendererName:ve.NAME,value:up.NAME},{range:ne.fromSingleRowColumn(21,3),rendererName:up.NAME,value:{rating:3.5,options:{editable:!0}}},{range:ne.fromSingleRowColumn(23,6),rendererName:ve.NAME,value:"LAST CELL"}],(r,o)=>null,(r,o)=>0===r||0===o?ko.NAME:ve.NAME,r=>25,r=>0===r?50:120,new Set,new Set);e.resizeRows([2],50),e.resizeColumns([3],200);const i=new hp(this.tableContainer.nativeElement,e);i.getOptions().renderer.view.fixedRows=1,i.getOptions().renderer.view.fixedColumns=1,i.getOptions().selection.selectionTransform=jD,i.getOptions().renderer.canvas.rowColumnResizing.allowResizing=!0,i.registerCellRenderer(new ve({horizontalAlignment:tn.CENTER})),i.registerCellRenderer(new ko),i.registerCellRenderer(new sp),i.registerCellRenderer(new ap),i.registerCellRenderer(new lp),i.registerCellRenderer(new cp),i.registerCellRenderer(new up),i.initialize()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-cell-renderer"]],viewQuery:function(e,i){if(1&e&&mi(sU,5),2&e){let r;Ne(r=Le())&&(i.tableContainer=r.first)}},decls:185,vars:16,consts:[[1,"table-container"],["tableContainer",""],["href","https://github.com/bennyboer/table-engine","target","_blank"],[3,"highlight","languages","lineNumbers"],["src","https://stackblitz.com/edit/typescript-4nsp7z?embed=1&file=example-cell-renderer.ts&hideExplorer=1&hideNavigation=1&theme=light&view=preview"],["href","https://github.com/bennyboer/table-engine/tree/main/src/renderer/canvas/cell","target","_blank"],["href","https://github.com/bennyboer/table-engine/blob/main/src/renderer/canvas/cell/rating/rating-cell-renderer.ts","target","_blank"],[1,"actions"],["mat-stroked-button","","routerLink","/guide/setup"],["mat-stroked-button","","routerLink","/guide/cell-model"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"3. Cell renderer"),g(),y(2,"p"),m(3," The Table Engine itself does not care at all what is displayed inside a cell. It will only provide the constraints like the cell size, position and value. To actually render the cells value however you like, we need another concept: "),y(4,"strong"),m(5,"Cell renderers"),g(),m(6,".\n"),g(),y(7,"h2"),m(8,"Predefined cell renderers"),g(),y(9,"p"),m(10," There are a lot of common things to be displayed in a table. You do not have to reinvent the wheel by using "),y(11,"strong"),m(12,"predefined"),g(),m(13," cell renderers that are distributed with the Table Engine library. We have listed some of the predefined renderers in the below table where you can interactively see what they are capable of.\n"),g(),Ae(14,"div",0,1),y(16,"blockquote"),m(17," A note of caution here regarding the "),y(18,"strong"),m(19,"DOM cell renderer"),g(),m(20,". The library is capable of rendering HTML elements of any kind inside cells of the table. This works, but is to be used as a last resort since you are impeding rendering performance that way. The library has been developed using a HTML5 canvas element instead of rendering a HTML table using the DOM and you should use it that way whenever possible to ensure best user experience. So only use the DOM renderer if you are absolutely sure you cannot write a custom cell renderer that will do for your use-case.\n"),g(),y(21,"p"),m(22," Most of the time you are good to go with the predefined cell renderers. Only in extraordinary use-cases you might want to dive into writing your own cell renderer implementation. If you feel like we missed a pretty common type of cell renderer, feel free to either open an issue in our "),y(23,"a",2),m(24,"GitHub repository"),g(),m(25," or try to implement it and open a pull request so we can review it and add to the Table Engine for general availability! The same is valid for any kind of bug or strange behavior you encounter. Even if you just feel like there is some configuration of the cell renderers missing that you would like to be configurable.\n"),g(),y(26,"h2"),m(27,"Registering a cell renderer"),g(),y(28,"p"),m(29," Before you can use predefined or custom-made cell renderer you need to register it at the "),y(30,"code"),m(31,"TableEngine"),g(),m(32," instance, so that the Table Engine is aware of it. This is done by simply calling "),y(33,"code"),m(34,"TableEngine.registerCellRenderer(...)"),g(),m(35," with your desired cell renderer instance as parameter as shown in the below example.\n"),g(),y(36,"pre"),Ae(37,"code",3),g(),y(38,"p"),m(39," In the example we register a lot of predefined cell renderers. The process is the same no matter if the renderer is predefined or custom-made. For the first registered cell renderer, which is the text cell renderer, we pass centered horizontal alignment as default configuration. That means, that every text cell renderer will render its text centered by default. Passing default configuration is possible for any predefined cell renderer.\n"),g(),y(40,"h2"),m(41,"Using a cell renderer for a cell"),g(),y(42,"p"),m(43," Using a cell renderer for a cell has mostly been covered. When adding cells to the cell model, you are able to define the name of the cell renderer for each cell. The predefined cell renderers have a constant name. For example the text cell renderers name can be accessed using "),y(44,"code"),m(45,"TextCellRenderer.NAME"),g(),m(46,". In the below code snippet you will find the code used to use the DOM cell renderer in the above table example.\n"),g(),y(47,"pre"),Ae(48,"code",3),g(),y(49,"h2"),m(50,"Implementing a custom cell renderer"),g(),y(51,"p"),m(52," Implementing a custom cell renderer is not really a difficult task, but you have a lot of responsibility because you can draw basically everywhere on the table. The Table Engine will not really check after what your cell renderer is doing.\n"),g(),y(53,"p"),m(54," Start by implementing a new class for your cell renderer that will implement the "),y(55,"code"),m(56,"ICanvasCellRenderer"),g(),m(57," interface - we can call it "),y(58,"code"),m(59,"ExampleCellRenderer"),g(),m(60," for now!\n"),g(),y(61,"pre"),Ae(62,"code",3),g(),y(63,"p"),m(64," Next we will go over what the different methods you need to implement have to do:\n"),g(),y(65,"ul")(66,"li")(67,"code"),m(68,"after"),g(),m(69,": this method is called when all cells that need to be rendered with this cell renderer have been rendered in a rendering cycle. You don't need to do anything if there is nothing to be done. This can be useful to clean up the canvas rendering context that you're using to render the cells content on the tables canvas. For now leave the method body empty as it is. "),g(),y(70,"li")(71,"code"),m(72,"before"),g(),m(73,": similar to the "),y(74,"code"),m(75,"after"),g(),m(76," method this can be used to initialize the cell renderer for another rendering cycle - before rendering all cells that need to be rendered with the custom cell renderer. You can leave it empty for now. "),g(),y(77,"li")(78,"code"),m(79,"cleanup"),g(),m(80,": the cleanup method is called when there are no more cells in the current viewport that can be rendered with the new cell renderer. If you don't need to do something here - leave it empty. "),g(),y(81,"li")(82,"code"),m(83,"estimatePreferredSize"),g(),m(84,": when double-clicking row or column resizers (small space between row- and column-headers when having resizing enabled) the Table Engine is trying to estimate a row or column size that is fitting all visible content. Each cell renderer can give a preferred size if there is any using this method. If your cell renderer is for example just displaying something based on the size of the cell, you probably don't have a preferred size and can just return "),y(85,"code"),m(86,"null"),g(),m(87," here. The checkbox cell renderer for example is responding with the size of the last rendered checkbox + label. For now just return "),y(88,"code"),m(89,"null"),g(),m(90,". "),g(),y(91,"li")(92,"code"),m(93,"getCopyValue"),g(),m(94,": when the user is pressing Ctrl+C to copy the cell values of the currently selected cells, this method is called for each cell renderer that has a cell in the selection. It is responsible for returning a string or a HTML string that is a suitable representation for the value to copy. The text cell renderer for example is just responding with the cells text value, while the DOM cell renderer is returning the HTML to be displayed. It is not essentials that this works and you can just for now return an empty string. "),g(),y(95,"li")(96,"code"),m(97,"getEventListener"),g(),m(98,": since the Table Engines cells are not elements in the DOM you cannot simply register an event listener on them. Sometimes you need to react on events like the row/column header cell renderer when the mouse is hovered over a cell for example or the text cell renderer is double clicked to show an input field when editable. This can be done by returning an instance of the "),y(99,"code"),m(100,"ICellRendererEventListener"),g(),m(101," interface. We will use this later in the "),y(102,"code"),m(103,"ExampleCellRenderer"),g(),m(104," implementation - for now just return "),y(105,"code"),m(106,"null"),g(),m(107,". "),g(),y(108,"li")(109,"code"),m(110,"getName"),g(),m(111,": every cell renderer must have a name so that you can use it in the cell definition to assign a cell renderer to a cell. Just return an unique value like "),y(112,"code"),m(113,'"EXAMPLE"'),g(),m(114,". "),g(),y(115,"li")(116,"code"),m(117,"initialize"),g(),m(118,": when the Table Engine is initialized, the cell renderes are supplied with the "),y(119,"code"),m(120,"TableEngine"),g(),m(121," instance here. This is needed because cell renderers sometimes need to have access to the Table Engines properties, such as the cell model. For example the row/column header cell renderer is changing a cells background color when the mouse is hovered above it and thus needs to trigger another Table repaint using "),y(122,"code"),m(123,"TableEngine.repaint()"),g(),m(124,". "),g(),y(125,"li")(126,"code"),m(127,"onDisappearing"),g(),m(128,": sometimes cell renderers use the so-called viewport cache to cache results from previous rendering cycles to speed up rendering. For example the text cell renderer is caching the line wrap result so that is only needs to be recalculated once the width of the column changes. To use the viewport cache each cell instance that is passed to the cell renderer has a "),y(129,"code"),m(130,"viewportCache"),g(),m(131," field of type "),y(132,"code"),m(133,"any"),g(),m(134,". Every cell renderer is responsible for using and managing that property - no one else is allowed to tinker with it with one exception: the Table Engine will clear the viewport cache once the cell goes out of viewport and will not be rendered anymore - hence the name viewport cache. The "),y(135,"code"),m(136,"onDisappearing"),g(),m(137," method will be called once a cell that is rendered with the cell renderer goes out of viewport. Afterwards the viewport cache is cleared automatically by the Table Engine - you don't have to do that in the "),y(138,"code"),m(139,"onDisappearing"),g(),m(140," method. For example the DOM cell renderer is using this method to remove the DOM element that it is rendering from the DOM. For this example cell renderer we won't need to do anything here and can leave the body empty. "),g(),y(141,"li")(142,"code"),m(143,"render"),g(),m(144,": the render method is the core of any cell renderer. It is responsible for actually rendering the cells value on the tables canvas. Thus the "),y(145,"code"),m(146,"CanvasRenderingContext2D"),g(),m(147,", cell instance and cell bounds are passed as method parameters. "),g()(),y(148,"p"),m(149," For the example cell renderer we want to draw a simple rectangle in the cell. In the following code block you'll find the render method.\n"),g(),y(150,"pre"),Ae(151,"code",3),g(),y(152,"p"),m(153," Now you can use it to draw red rectangles in any cell! Below you'll find the result when using the cell renderer in an example for the cell at row 2 and column 2.\n"),g(),Ae(154,"iframe",4),y(155,"p"),m(156," You should by now be prepared to write custom cell renderers - probably more complex than the example cell renderer above! For more advanced examples you may want to check the source code of the predefined cell renderers in the Table Engine "),y(157,"a",5),m(158,"GitHub repository"),g(),m(159," - especially the "),y(160,"a",6),m(161,"rating cell renderer"),g(),m(162," is a recommended read!\n"),g(),y(163,"h2"),m(164,"Monitor cell renderer performance"),g(),y(165,"p"),m(166," Especially when writing custom cell renderers you'll want to monitor the performance of the cell renderers when used. One easy way to do this is by enabling the debug option of the Table Engine using "),y(167,"code"),m(168,"this.engine.getOptions().misc.debug = true"),g(),m(169,"\xa0"),y(170,"strong"),m(171,"before initializing"),g(),m(172," the engine. That way you'll get logging on the console about the rendering speed of the table, which should always be in the low milliseconds. If the rendering time is too high you might consider using the viewport cache explained above. Also check that the table is not rendered all the time when not needed. For example when writing a new cell renderer that is calling "),y(173,"code"),m(174,"TableEngine.repaint()"),g(),m(175," you might want to check whether the table is really only repainted when absolutely needed.\n"),g(),y(176,"div",7)(177,"button",8)(178,"mat-icon"),m(179,"navigate_before"),g(),m(180," Previous section: Setup "),g(),y(181,"button",9)(182,"mat-icon"),m(183,"navigate_next"),g(),m(184," Next section: Cell model "),g()()),2&e&&(Ke(37),ke("highlight",i.codeSamples.registerCellRenderer)("languages",Kn(12,Tc))("lineNumbers",!0),Ke(11),ke("highlight",i.codeSamples.usingCellRenderer)("languages",Kn(13,Tc))("lineNumbers",!0),Ke(14),ke("highlight",i.codeSamples.exampleCellRendererStart)("languages",Kn(14,Tc))("lineNumbers",!0),Ke(89),ke("highlight",i.codeSamples.exampleCellRendererRenderMethod)("languages",Kn(15,Tc))("lineNumbers",!0))},dependencies:[Ei,PE,wr,Cr],styles:[".table-container[_ngcontent-%COMP%]{height:600px;margin-bottom:25px;border:2px dashed #999;padding:4px;background-color:#fff}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media only screen and (max-width: 700px){.actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:10px}}"],changeDetection:0}),n})()},{path:"cell-model",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-cell-model"]],decls:86,vars:0,consts:[[1,"actions"],["mat-stroked-button","","routerLink","/guide/cell-renderer"],["mat-stroked-button","","routerLink","/guide/selections"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"4. Cell model"),g(),y(2,"p"),m(3," We have already dealt with the cell model in previous sections of this guide. Now we want to give a more detailed look at it.\n"),g(),y(4,"p"),m(5," The Table Engine cell model is responsible for managing the row/column structure of a table and its integrity. Additionally it provides a set of tools to modify a table:\n"),g(),y(6,"ul")(7,"li")(8,"strong"),m(9,"Inserting/deleting rows/columns:"),g(),m(10," With the methods "),y(11,"code"),m(12,"insertRows"),g(),m(13,", "),y(14,"code"),m(15,"insertColumns"),g(),m(16,", "),y(17,"code"),m(18,"deleteRows"),g(),m(19," and "),y(20,"code"),m(21,"deleteColumns"),g(),m(22," you're able to insert or delete rows or columns where you want. The cell model is able to change merged cells accordingly - for example when row is inserted in between a merged cell. "),g(),y(23,"li")(24,"strong"),m(25,"Hiding/showing rows/columns:"),g(),m(26," For some use-cases you might want to hide rows/columns - for example when developing a spreadsheet application like Excel. The Table Engines cell model has got you covered with the methods "),y(27,"code"),m(28,"hideRows"),g(),m(29,", "),y(30,"code"),m(31,"hideColumns"),g(),m(32,", "),y(33,"code"),m(34,"showRows"),g(),m(35,", "),y(36,"code"),m(37,"showColumns"),g(),m(38," and "),y(39,"code"),m(40,"showAll"),g(),m(41,". "),g(),y(42,"li")(43,"strong"),m(44,"Resizing rows/columns:"),g(),m(45," Maybe surprising, but the cell model also is responsible for resizing rows and columns using the methods "),y(46,"code"),m(47,"resizeRows"),g(),m(48," and "),y(49,"code"),m(50,"resizeColumns"),g(),m(51,". "),g(),y(52,"li")(53,"strong"),m(54,"Merging/splitting cells:"),g(),m(55," Using "),y(56,"code"),m(57,"mergeCells"),g(),m(58," and "),y(59,"code"),m(60,"splitCell"),g(),m(61," you can either merge a range of cells together or split a merged cell again into its parts. You most likely know this kind of feature from spreadsheet applications like Excel. "),g(),y(62,"li")(63,"strong"),m(64,"Managing cell values and renderers:"),g(),m(65," If you want to change a cells value or its renderer you can use the methods "),y(66,"code"),m(67,"setValue"),g(),m(68," and "),y(69,"code"),m(70,"setRenderer"),g(),m(71,". "),g()(),y(72,"p"),m(73," Keep in mind that when using any of these methods the Table Engine is not automatically informed after initialization. That means that when changing a cells value for example the Table Engine needs to be repainted using "),y(74,"code"),m(75,"TableEngine.repaint()"),g(),m(76,". We've chosen a manual repainting approach because we cannot know whether the developer wants to perform a single or multiple actions on the cell model. When performing multiple actions it would waste resources repainting the table after each action.\n"),g(),y(77,"div",0)(78,"button",1)(79,"mat-icon"),m(80,"navigate_before"),g(),m(81," Previous section: Cell renderer "),g(),y(82,"button",2)(83,"mat-icon"),m(84,"navigate_next"),g(),m(85," Next section: Selections "),g()())},dependencies:[Ei,wr,Cr],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media only screen and (max-width: 700px){.actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:10px}}"],changeDetection:0}),n})()},{path:"selections",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-selections"]],decls:92,vars:0,consts:[[1,"actions"],["mat-stroked-button","","routerLink","/guide/cell-model"],["mat-stroked-button","","routerLink","/guide/borders"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"5. Selections"),g(),y(2,"p"),m(3," Selections are another vital part of many table applications - most importantly spreadsheets. The Table Engines selection model is responsible for managing all selections in the current state.\n"),g(),y(4,"h2"),m(5,"What is a selection?"),g(),y(6,"p"),m(7," A selection is a collections of cells that the user has selected. With the Table Engine one can select either a single cell, a whole range of cells (multiple rows and columns) and even multiple ranges of cells (see selection modes below). Selections play a vital part in being able to copy cell values for example using Ctrl+C.\n"),g(),y(8,"h2"),m(9,"Selection keyboard navigation"),g(),y(10,"p"),m(11," You can alter a selection that has been created with the mouse using the keyboard. When a range of cells is selected the user is able to jump between cells in the selection using the Tab and Enter key. Additionally when pressing Shift simultaneously to the Tab or Enter key, they jump in the opposite direction. The whole selection can be altered using the arrow keys (or alternatively Tab or Enter when only a single cell is selected). When pressing Shift simultaneously to pressing the arrow key, the current selection is extended, when pressing Ctrl the selection is jumped to the very end of the table in the chosen direction.\n"),g(),y(12,"h2"),m(13,"Selection modes"),g(),y(14,"p"),m(15," There are multiple selection modes you need to choose one from depending on your use-case:\n"),g(),y(16,"ul")(17,"li")(18,"strong"),m(19,"Multiple range selections (default):"),g(),m(20," By default the Table Engine will allow users to select and drag ranges of selections. When pressing Ctrl and dragging another selection that selection is added as well - so the user is seeing multiple selected cell ranges. "),g(),y(21,"li")(22,"strong"),m(23,"Single range selections:"),g(),m(24," Only a single range selection is allowed. When pressing Ctrl and trying to drag another selection, the old selection is replaced. Enable this mode by setting "),y(25,"code"),m(26,"engine.getOptions().selection.allowMultiSelection"),g(),m(27," to "),y(28,"code"),m(29,"false"),g(),m(30," before initialization of the Table Engine. "),g(),y(31,"li")(32,"strong"),m(33,"Single cell selections:"),g(),m(34," Only a single cell is allowed to be selected. Enable this mode by setting "),y(35,"code"),m(36,"engine.getOptions().selection.allowMultiSelection"),g(),m(37," and "),y(38,"code"),m(39,"engine.getOptions().selection.allowRangeSelection"),g(),m(40," to "),y(41,"code"),m(42,"false"),g(),m(43," before initialization of the Table Engine. "),g(),y(44,"li")(45,"strong"),m(46,"No selections:"),g(),m(47," Disable all selections by using a selection transform that just disallows any selection: "),y(48,"code"),m(49,"engine.getOptions().selection.selectionTransform = () => false"),g(),m(50,". "),g()(),y(51,"p"),m(52," For more advanced selection modes or when you have complex selection rules, like for example the first row and column are not selectable, you can use a selection transform function that is assigned to "),y(53,"code"),m(54,"engine.getOptions().selection.selectionTransform"),g(),m(55,". Every selection that is made or modifies is passed through that selection transform function. If you're using the row/column header cell renderer in the first row and column of the table like shown in previous examples, you can use the predefined "),y(56,"code"),m(57,"ROW_COLUMN_HEADER_TRANSFORM"),g(),m(58," selection transform function to make the first row and column non-selectable.\n"),g(),y(59,"h2"),m(60,"Working directly with the selection model"),g(),y(61,"p"),m(62," You can also work directly with the selection model when you want to select something programmatically for example. Just fetch the "),y(63,"code"),m(64,"SelectionModel"),g(),m(65," by calling "),y(66,"code"),m(67,"TableEngine.getSelectionModel()"),g(),m(68,". You may add a selection by calling "),y(69,"code"),m(70,"addSelection"),g(),m(71,", remove one with "),y(72,"code"),m(73,"removeSelection"),g(),m(74,", get all current selections with "),y(75,"code"),m(76,"getSelections"),g(),m(77," and many more operations that you can check in the source code or via auto-completion in your IDE.\n"),g(),y(78,"blockquote"),m(79," When working with the selection objects of type "),y(80,"code"),m(81,"ISelection"),g(),m(82,' you may wonder what an "initial" cell is. The initial cell is the cell you started dragging a selection from. It is needed for the internal workings for the selection movement/extension algorithms of the selection model. Only the current primary (focused) selection must have an initial cell set, but it doesn\'t hurt providing one anyway.\n'),g(),y(83,"div",0)(84,"button",1)(85,"mat-icon"),m(86,"navigate_before"),g(),m(87," Previous section: Cell model "),g(),y(88,"button",2)(89,"mat-icon"),m(90,"navigate_next"),g(),m(91," Next section: Borders "),g()())},dependencies:[Ei,wr,Cr],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media only screen and (max-width: 700px){.actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:10px}}"],changeDetection:0}),n})()},{path:"borders",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["app-borders"]],decls:9,vars:0,consts:[[1,"actions"],["mat-stroked-button","","routerLink","/guide/selections"]],template:function(e,i){1&e&&(y(0,"h1"),m(1,"6. Borders"),g(),y(2,"p"),m(3,"TODO"),g(),y(4,"div",0)(5,"button",1)(6,"mat-icon"),m(7,"navigate_before"),g(),m(8," Previous section: Selections "),g()())},dependencies:[Ei,wr,Cr],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media only screen and (max-width: 700px){.actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:10px}}"],changeDetection:0}),n})()}]},{path:"examples",children:[{path:"minimal",component:uH},{path:"row-column-headers",component:Yz}]},{path:"**",redirectTo:"/guide/introduction"}];let lU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[ID.forRoot(aU,{useHash:!0,scrollPositionRestoration:"top"}),ID]}),n})();const uU=["addListener","removeListener"],dU=["addEventListener","removeEventListener"],hU=["on","off"];function ra(n,t,e,i){if(le(e)&&(i=e,e=void 0),i)return ra(n,t,e).pipe(Tf(i));const[r,o]=function mU(n){return le(n.addEventListener)&&le(n.removeEventListener)}(n)?dU.map(s=>a=>n[s](t,a,e)):function fU(n){return le(n.addListener)&&le(n.removeListener)}(n)?uU.map(HE(n,t)):function pU(n){return le(n.on)&&le(n.off)}(n)?hU.map(HE(n,t)):[];if(!r&&_u(n))return st(s=>ra(s,t,e))(ht(n));if(!r)throw new TypeError("Invalid event target");return new Me(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function HE(n,t){return e=>i=>n[e](t,i)}let Ep,gU=1;const xc={};function zE(n){return n in xc&&(delete xc[n],!0)}const _U={setImmediate(n){const t=gU++;return xc[t]=!0,Ep||(Ep=Promise.resolve()),Ep.then(()=>zE(t)&&n()),t},clearImmediate(n){zE(n)}},{setImmediate:yU,clearImmediate:vU}=_U,Ic={setImmediate(...n){const{delegate:t}=Ic;return(t?.setImmediate||yU)(...n)},clearImmediate(n){const{delegate:t}=Ic;return(t?.clearImmediate||vU)(n)},delegate:void 0};new class CU extends op{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class wU extends rp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ic.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Ic.clearImmediate(e),t._scheduled=void 0)}});function UE(n,t=Io){return function DU(n){return Ie((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ge(e,c=>{i=!0,r=c,o||ht(n(c)).subscribe(o=ge(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>PD(n,t))}let Sp=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Me(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(UE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):N()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ve(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Lo(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ra(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(R(re),R(Jn),R(ue,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oa=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new te,this._elementScrolled=new Me(s=>this.ngZone.runOutsideAngular(()=>ra(this.elementRef.nativeElement,"scroll").pipe(Je(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Qs()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Qs()?e.left=e.right:1==Qs()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function hH(){if(null==yr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yr=!1,yr;if("scrollBehavior"in document.documentElement.style)yr=!0;else{const n=Element.prototype.scrollTo;yr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yr}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Qs()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Qs()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(Sp),b(re),b(hE,8))},n.\u0275dir=V({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),MU=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new te,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(R(Jn),R(re),R(ue,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({}),n})();class $E{}const Mi="*";function AU(n,t){return{type:7,name:n,definitions:t,options:{}}}function GE(n,t=null){return{type:4,styles:t,timings:n}}function WE(n,t=null){return{type:2,steps:n,options:t}}function Oc(n){return{type:6,styles:n,offset:null}}function qE(n,t,e){return{type:0,name:n,styles:t,options:e}}function KE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function YE(n){Promise.resolve(null).then(n)}class sa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){YE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?YE(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Fc=["*"],TU=["content"];function xU(n,t){if(1&n){const e=hl();y(0,"div",2),lt("click",function(){return xa(e),Ia(ho()._onBackdropClicked())}),g()}2&n&&Ge("mat-drawer-shown",ho()._isShowingBackdrop())}function IU(n,t){1&n&&(y(0,"mat-drawer-content"),$e(1,2),g())}const OU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],FU=["mat-drawer","mat-drawer-content","*"];function kU(n,t){if(1&n){const e=hl();y(0,"div",2),lt("click",function(){return xa(e),Ia(ho()._onBackdropClicked())}),g()}2&n&&Ge("mat-drawer-shown",ho()._isShowingBackdrop())}function NU(n,t){1&n&&(y(0,"mat-sidenav-content"),$e(1,2),g())}const LU=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],PU=["mat-sidenav","mat-sidenav-content","*"],QE={transformDrawer:AU("transform",[qE("open, open-instant",Oc({transform:"none",visibility:"visible"})),qE("void",Oc({"box-shadow":"none",visibility:"hidden"})),KE("void => open-instant",GE("0ms")),KE("void <=> open, open-instant => void",GE("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},BU=new T("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function HU(){return!1}}),Rp=new T("MAT_DRAWER_CONTAINER");let kc=(()=>{class n extends oa{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(b(Fn),b(fe(()=>JE)),b(Se),b(Sp),b(re))},n.\u0275cmp=Ee({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&po("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[me([{provide:oa,useExisting:n}]),Q],ngContentSelectors:Fc,decls:1,vars:0,template:function(e,i){1&e&&(Ut(),$e(0))},encapsulation:2,changeDetection:0}),n})(),XE=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new te,this._animationEnd=new te,this._animationState="void",this.openedChange=new ye(!0),this._openedStream=this.openedChange.pipe(Ve(u=>u),F(()=>{})),this.openedStart=this._animationStarted.pipe(Ve(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),Ff(void 0)),this._closedStream=this.openedChange.pipe(Ve(u=>!u),F(()=>{})),this.closedStart=this._animationStarted.pipe(Ve(u=>u.fromState!==u.toState&&"void"===u.toState),Ff(void 0)),this._destroyed=new te,this.onPositionChanged=new ye,this._modeChanged=new te,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ra(this._elementRef.nativeElement,"keydown").pipe(Ve(u=>27===u.keyCode&&!this.disableClose&&!function vc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(u)),Je(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(ZD((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Dt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Dt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Dt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Pn(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(JH),b(yp),b(Jn),b(re),b(rE),b(ue,8),b(Rp,8))},n.\u0275cmp=Ee({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&mi(TU,5),2&e){let r;Ne(r=Le())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&Ch("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(ft("align",null),Sh("@transform",i._animationState),Ge("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Fc,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(Ut(),y(0,"div",0,1),$e(2),g())},dependencies:[oa],encapsulation:2,data:{animation:[QE.transformDrawer]},changeDetection:0}),n})(),JE=(()=>{class n{constructor(e,i,r,o,s,a=!1,l){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new yo,this.backdropClick=new ye,this._destroyed=new te,this._doCheckSubject=new te,this._contentMargins={left:null,right:null},this._contentMarginChanges=new te,e&&e.change.pipe(Je(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Je(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Dt(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Dt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Eo(this._allDrawers),Je(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Eo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_p(10),Je(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ve(i=>i.fromState!==i.toState),Je(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Je(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Je(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Pn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Je(Wm(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(b(hE,8),b(Se),b(re),b(Fn),b(MU),b(BU),b(bo,8))},n.\u0275cmp=Ee({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(Nt(r,kc,5),Nt(r,XE,5)),2&e){let o;Ne(o=Le())&&(i._content=o.first),Ne(o=Le())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&mi(kc,5),2&e){let r;Ne(r=Le())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&Ge("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[me([{provide:Rp,useExisting:n}])],ngContentSelectors:FU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(Ut(OU),ki(0,xU,1,2,"div",0),$e(1),$e(2,1),ki(3,IU,2,0,"mat-drawer-content",1)),2&e&&(ke("ngIf",i.hasBackdrop),Ke(3),ke("ngIf",!i._content))},dependencies:[Fs,kc],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Ap=(()=>{class n extends kc{constructor(e,i,r,o,s){super(e,i,r,o,s)}}return n.\u0275fac=function(e){return new(e||n)(b(Fn),b(fe(()=>tS)),b(Se),b(Sp),b(re))},n.\u0275cmp=Ee({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&po("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[me([{provide:oa,useExisting:n}]),Q],ngContentSelectors:Fc,decls:1,vars:0,template:function(e,i){1&e&&(Ut(),$e(0))},encapsulation:2,changeDetection:0}),n})(),eS=(()=>{class n extends XE{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Dt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=QD(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=QD(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nt(n)))(i||n)}}(),n.\u0275cmp=Ee({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(ft("align",null),po("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),Ge("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Q],ngContentSelectors:Fc,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(Ut(),y(0,"div",0,1),$e(2),g())},dependencies:[oa],encapsulation:2,data:{animation:[QE.transformDrawer]},changeDetection:0}),n})(),tS=(()=>{class n extends JE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nt(n)))(i||n)}}(),n.\u0275cmp=Ee({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(Nt(r,Ap,5),Nt(r,eS,5)),2&e){let o;Ne(o=Le())&&(i._content=o.first),Ne(o=Le())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&Ge("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[me([{provide:Rp,useExisting:n}]),Q],ngContentSelectors:PU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(Ut(LU),ki(0,kU,1,2,"div",0),$e(1),$e(2,1),ki(3,NU,2,0,"mat-sidenav-content",1)),2&e&&(ke("ngIf",i.hasBackdrop),Ke(3),ke("ngIf",!i._content))},dependencies:[Fs,Ap],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[bf,gt,jE,jE,gt]}),n})();const UU=["*",[["mat-toolbar-row"]]],jU=["*","mat-toolbar-row"],$U=wp(class{constructor(n){this._elementRef=n}});let GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=V({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),WU=(()=>{class n extends $U{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(Jn),b(ue))},n.\u0275cmp=Ee({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Nt(r,GU,5),2&e){let o;Ne(o=Le())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&Ge("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Q],ngContentSelectors:jU,decls:2,vars:0,template:function(e,i){1&e&&(Ut(UU),$e(0),$e(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt,gt]}),n})(),Kj=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Dt(e)}get inset(){return this._inset}set inset(e){this._inset=Dt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ee({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(ft("aria-orientation",i.vertical?"vertical":"horizontal"),Ge("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[gt,gt]}),n})();const u0=["*"],Qj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Xj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],i$=gE(Js(class{})),r$=Js(class{}),o$=new T("MatList"),d0=new T("MatNavList");let s$=(()=>{class n extends i${constructor(){super(...arguments),this._stateChanges=new te}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nt(n)))(i||n)}}(),n.\u0275cmp=Ee({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[me([{provide:d0,useExisting:n}]),Q,xt],ngContentSelectors:u0,decls:1,vars:0,template:function(e,i){1&e&&(Ut(),$e(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),h0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=V({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),f0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=V({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),a$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=V({type:n,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),n})(),l$=(()=>{class n extends r${constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new te,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const s=this._getHostElement();"button"===s.nodeName.toLowerCase()&&!s.hasAttribute("type")&&s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Je(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Dt(e)}ngAfterContentInit(){!function yE(n,t,e="mat"){n.changes.pipe(Eo(n)).subscribe(({length:i})=>{ea(t,`${e}-2-line`,!1),ea(t,`${e}-3-line`,!1),ea(t,`${e}-multi-line`,!1),2===i||3===i?ea(t,`${e}-${i}-line`,!0):i>3&&ea(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(b(Se),b(Fn),b(d0,8),b(o$,8))},n.\u0275cmp=Ee({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(Nt(r,h0,5),Nt(r,f0,5),Nt(r,_E,5)),2&e){let o;Ne(o=Le())&&(i._avatar=o.first),Ne(o=Le())&&(i._icon=o.first),Ne(o=Le())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&Ge("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Q],ngContentSelectors:Xj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(Ut(Qj),y(0,"span",0),Ae(1,"span",1),$e(2),y(3,"span",2),$e(4,1),g(),$e(5,2),g()),2&e&&(Ke(1),ke("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Cc],encapsulation:2,changeDetection:0}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({imports:[vE,DE,gt,EE,bf,vE,gt,EE,Yj]}),n})();const m$=["drawer"];function g$(n,t){1&n&&(y(0,"span"),m(1,"Table Engine Documentation"),g())}function _$(n,t){1&n&&(y(0,"span"),m(1,"Documentation"),g())}let y$=(()=>{class n{constructor(e,i,r){this.breakpointObserver=e,this.cd=i,this.isMobile=!1,this.isMobile$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(F(o=>o.matches),Ce(o=>this.isMobile=o),Ce(()=>this.cd.markForCheck())),r.events.pipe(function cU(...n){const t=va(n);return Ie((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ht(n[l]).subscribe(ge(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ni))&&(s=null))},ga));e.subscribe(ge(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}(this.isMobile$),Ve(([o,s])=>s&&o instanceof bi)).subscribe(o=>this.drawer?.close()),r.events.pipe(Ve(o=>o instanceof bi)).subscribe(()=>this.drawer._container.scrollable.scrollTo({top:0}))}}return n.\u0275fac=function(e){return new(e||n)(b(eE),b(Fn),b(mt))},n.\u0275cmp=Ee({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&mi(m$,5),2&e){let r;Ne(r=Le())&&(i.drawer=r.first)}},decls:39,vars:9,consts:[[1,"content-container"],[1,"toolbar"],["mat-icon-button","",3,"click"],["src","assets/logo.svg","height","48","alt","Table Engine Logo"],[4,"ngIf"],[1,"toolbar-spacer"],["href","https://github.com/bennyboer/table-engine","target","_blank",1,"toolbar-img-link"],["src","assets/GitHub-Mark-32px.png","alt","GitHub Logo"],[1,"drawer-container"],["fixedTopGap","56",3,"mode","fixedInViewport","opened"],["drawer",""],["mat-subheader",""],["mat-list-item","","routerLink","/guide/introduction"],["mat-list-item","","routerLink","/guide/setup"],["mat-list-item","","routerLink","/guide/cell-renderer"],["mat-list-item","","routerLink","/guide/cell-model"],["mat-list-item","","routerLink","/guide/selections"],["mat-list-item","","routerLink","/guide/borders"],["mat-list-item","","routerLink","/examples/minimal"],["mat-list-item","","routerLink","/examples/row-column-headers"],[1,"main-content"],[1,"content-wrapper"]],template:function(e,i){if(1&e){const r=hl();y(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),lt("click",function(){return xa(r),Ia(function Zy(n){return function kr(n,t){return n[t]}(function pR(){return $.lFrame.contextLView}(),22+n)}(13).toggle())}),y(3,"mat-icon"),m(4,"menu"),g()(),Ae(5,"img",3),ki(6,g$,2,0,"span",4),ki(7,_$,2,0,"span",4),Ae(8,"span",5),y(9,"a",6),Ae(10,"img",7),g()(),y(11,"mat-sidenav-container",8)(12,"mat-sidenav",9,10)(14,"mat-nav-list")(15,"div",11),m(16,"Guide"),g(),y(17,"a",12),m(18,"1. Introduction"),g(),y(19,"a",13),m(20,"2. Setup"),g(),y(21,"a",14),m(22,"3. Cell renderer"),g(),y(23,"a",15),m(24,"4. Cell model"),g(),y(25,"a",16),m(26,"5. Selections"),g(),y(27,"a",17),m(28,"6. Borders"),g(),Ae(29,"mat-divider"),y(30,"div",11),m(31,"Features by example"),g(),y(32,"a",18),m(33,"Minimal"),g(),y(34,"a",19),m(35,"Row/column headers"),g()()(),y(36,"mat-sidenav-content",20)(37,"div",21),Ae(38,"router-outlet"),g()()()()}2&e&&(Ke(1),Ge("is-mobile",i.isMobile),Ke(5),ke("ngIf",!i.isMobile),Ke(1),ke("ngIf",i.isMobile),Ke(4),po("margin-top",i.isMobile?56:0,"px"),Ke(1),ke("mode",i.isMobile?"over":"side")("fixedInViewport",i.isMobile)("opened",!i.isMobile))},dependencies:[Fs,qf,pc,eS,tS,Ap,wr,WU,Cr,s$,l$,a$,Kj],styles:["[_nghost-%COMP%]{display:block;height:100%}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.toolbar[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-direction:row;align-items:center;gap:10px}.toolbar.is-mobile[_ngcontent-%COMP%]{position:fixed;z-index:2}.toolbar[_ngcontent-%COMP%] > .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar[_ngcontent-%COMP%]   .toolbar-img-link[_ngcontent-%COMP%]{line-height:0}.drawer-container[_ngcontent-%COMP%]{flex:1 1 auto}.navigation-list[_ngcontent-%COMP%]{width:250px}.content-wrapper[_ngcontent-%COMP%]{padding:50px 30px;box-sizing:border-box;margin:0 auto;max-width:800px;font-size:16px;line-height:1.5}"],changeDetection:0}),n})();function m0(n){return new E(3e3,!1)}function J$(){return typeof window<"u"&&typeof window.document<"u"}function Yp(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $i(n){switch(n.length){case 0:return new sa;case 1:return n[0];default:return new ZE(n)}}function g0(n,t,e,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,_)=>{let v=_,w=p;if("offset"!==_)switch(v=t.normalizePropertyName(v,s),w){case"!":w=r.get(_);break;case Mi:w=o.get(_);break;default:w=t.normalizeStyleValue(_,v,w,s)}f.set(v,w)}),h||a.push(f),c=f,l=d}),s.length)throw function z$(n){return new E(3502,!1)}();return a}function Zp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Qp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Qp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Qp(e,"destroy",n)))}}function Qp(n,t,e){const o=Xp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Xp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function nn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function _0(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Jp=(n,t)=>!1,y0=(n,t,e)=>[],v0=null;function em(n){const t=n.parentNode||n.host;return t===v0?null:t}(Yp()||typeof Element<"u")&&(J$()?(v0=(()=>document.documentElement)(),Jp=(n,t)=>{for(;t;){if(t===n)return!0;t=em(t)}return!1}):Jp=(n,t)=>n.contains(t),y0=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Er=null,w0=!1;const C0=Jp,b0=y0;let D0=(()=>{class n{validateStyleProperty(e){return function t3(n){Er||(Er=function n3(){return typeof document<"u"?document.body:null}()||{},w0=!!Er.style&&"WebkitAppearance"in Er.style);let t=!0;return Er.style&&!function e3(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Er.style,!t&&w0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Er.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return C0(e,i)}getParentElement(e){return em(e)}query(e,i,r){return b0(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new sa(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),tm=(()=>{class n{}return n.NOOP=new D0,n})();const nm="ng-enter",$c="ng-leave",Gc="ng-trigger",Wc=".ng-trigger",S0="ng-animating",im=".ng-animating";function Gi(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rm(parseFloat(t[1]),t[2])}function rm(n,t){return"s"===t?1e3*n:n}function qc(n,t,e){return n.hasOwnProperty("duration")?n:function s3(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(m0()),{duration:0,delay:0,easing:""};r=rm(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=rm(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function v$(){return new E(3100,!1)}()),a=!0),o<0&&(t.push(function w$(){return new E(3101,!1)}()),a=!0),a&&t.splice(l,0,m0())}return{duration:r,delay:o,easing:s}}(n,t,e)}function da(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function M0(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Wi(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function A0(n,t,e){return e?t+":"+e+";":""}function T0(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=A0(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=A0(0,u3(e),n.style[e]));n.setAttribute("style",t)}function ei(n,t,e){n.style&&(t.forEach((i,r)=>{const o=sm(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),Yp()&&T0(n))}function Sr(n,t){n.style&&(t.forEach((e,i)=>{const r=sm(i);n.style[r]=""}),Yp()&&T0(n))}function ha(n){return Array.isArray(n)?1==n.length?n[0]:WE(n):n}const om=new RegExp("{{\\s*(.+?)\\s*}}","g");function x0(n){let t=[];if("string"==typeof n){let e;for(;e=om.exec(n);)t.push(e[1]);om.lastIndex=0}return t}function Kc(n,t,e){const i=n.toString(),r=i.replace(om,(o,s)=>{let a=t[s];return null==a&&(e.push(function b$(n){return new E(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Yc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const c3=/-+([a-z0-9])/g;function sm(n){return n.replace(c3,(...t)=>t[1].toUpperCase())}function u3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function D$(n){return new E(3004,!1)}()}}function I0(n,t){return window.getComputedStyle(n)[t]}function g3(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _3(n,t,e){if(":"==n[0]){const l=function y3(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function P$(n){return new E(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function L$(n){return new E(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(O0(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(O0(s,r))}(i,e,t)):e.push(n),e}const Jc=new Set(["true","1"]),eu=new Set(["false","0"]);function O0(n,t){const e=Jc.has(n)||eu.has(n),i=Jc.has(t)||eu.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Jc.has(n):eu.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Jc.has(t):eu.has(t)),s&&a}}const v3=new RegExp("s*:selfs*,?","g");function am(n,t,e,i){return new w3(n).build(t,e,i)}class w3{constructor(t){this._driver=t}build(t,e,i){const r=new D3(e);return this._resetContextStyleTimingState(r),rn(this,ha(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function S$(){return new E(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function M$(){return new E(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{x0(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Yc(o.values()),e.errors.push(function R$(n,t){return new E(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=rn(this,ha(t.animation),e);return{type:1,matchers:g3(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Mr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>rn(this,i,e)),options:Mr(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=rn(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Mr(t.options)}}visitAnimate(t,e){const i=function S3(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lm(qc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=lm(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=qc(e,t);return lm(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Oc({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Oc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Mi?i.push(a):e.errors.push(new E(3002,!1)):i.push(M0(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function T$(n,t,e,i,r){return new E(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&function l3(n,t,e){const i=t.params||{},r=x0(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function C$(n){return new E(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function x$(){return new E(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(w=>{const D=this._makeStyleAst(w,e);let C=null!=D.offset?D.offset:function E3(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(D.styles),M=0;return null!=C&&(o++,M=D.offset=C),l=l||M<0||M>1,a=a||M<c,c=M,s.push(M),D});l&&e.errors.push(function I$(){return new E(3012,!1)}()),a&&e.errors.push(function O$(){return new E(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function F$(){return new E(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,_=e.currentAnimateTimings,v=_.duration;return u.forEach((w,D)=>{const C=h>0?D==f?1:h*D:s[D],M=C*v;e.currentTime=p+_.delay+M,_.duration=M,this._validateStyleAst(w,e),w.offset=C,i.styles.push(w)}),i}visitReference(t,e){return{type:8,animation:rn(this,ha(t.animation),e),options:Mr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Mr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Mr(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function C3(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(v3,"")),n=n.replace(/@\*/g,Wc).replace(/@\w+/g,e=>Wc+"-"+e.slice(1)).replace(/:animating/g,im),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,nn(e.collectedStyles,e.currentQuerySelector,new Map);const a=rn(this,ha(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Mr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function k$(){return new E(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:qc(t.timings,e.errors,!0);return{type:12,animation:rn(this,ha(t.animation),e),timings:i,options:null}}}class D3{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mr(n){return n?(n=da(n)).params&&(n.params=function b3(n){return n?da(n):null}(n.params)):n={},n}function lm(n,t,e){return{duration:n,delay:t,easing:e}}function cm(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class tu{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const A3=new RegExp(":enter","g"),x3=new RegExp(":leave","g");function um(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new I3).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class I3{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new tu;const d=new dm(t,e,c,r,o,u,[]);d.options=l;const h=l.delay?Gi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),rn(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let _=f.length-1;_>=0;_--){const v=f[_];if(v.element===e){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[cm(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Gi(i.duration):null,a=null!=i.delay?Gi(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),rn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nu);const s=Gi(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>rn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Gi(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),rn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return qc(e.params?Kc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Gi(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nu);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),rn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;rn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const nu={};class dm{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new iu(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Gi(i.duration)),null!=i.delay&&(r.delay=Gi(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Kc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new dm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=nu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new O3(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(A3,"."+this._enterClassName)).replace(x3,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function N$(n){return new E(3014,!1)}()),a}}class iu{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new iu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Mi),this._currentKeyframe.set(e,Mi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function F3(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Mi)}else Wi(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Kc(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Mi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Wi(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Mi&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Yc(t.values()):[],s=e.size?Yc(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return cm(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class O3 extends iu{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Wi(t[0]);l.set("offset",0),o.push(l);const c=Wi(t[0]);c.set("offset",N0(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Wi(t[d]);const f=h.get("offset");h.set("offset",N0((e+f*i)/s)),o.push(h)}i=s,e=0,r="",t=o}return cm(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function N0(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hm{}const k3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N3 extends hm{normalizePropertyName(t,e){return sm(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(k3.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function E$(n,t){return new E(3005,!1)}())}return s+o}}function L0(n,t,e,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const fm={};class P0{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function L3(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||fm,p=this.buildStyles(i,a&&a.params||fm,d),_=l&&l.params||fm,v=this.buildStyles(r,_,d),w=new Set,D=new Map,C=new Map,M="void"===r,O={params:P3(_,h),delay:this.ast.options?.delay},L=u?[]:um(t,e,this.ast.animation,o,s,p,v,O,c,d);let se=0;if(L.forEach(ct=>{se=Math.max(ct.duration+ct.delay,se)}),d.length)return L0(e,this._triggerName,i,r,M,p,v,[],[],D,C,se,d);L.forEach(ct=>{const xe=ct.element,ut=nn(D,xe,new Set);ct.preStyleProps.forEach(St=>ut.add(St));const Vt=nn(C,xe,new Set);ct.postStyleProps.forEach(St=>Vt.add(St)),xe!==e&&w.add(xe)});const Be=Yc(w.values());return L0(e,this._triggerName,i,r,M,p,v,L,Be,D,C,se)}}function P3(n,t){const e=da(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class V3{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=da(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Kc(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(l,s)})}),i}}class H3{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new V3(r.style,r.options&&r.options.params||{},i))}),V0(this.states,"true","1"),V0(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new P0(t,r,this.states))}),this.fallbackTransition=function z3(n,t,e){return new P0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function V0(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const U3=new tu;class j3{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=am(this._driver,e,i,[]);if(i.length)throw function U$(n){return new E(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=g0(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=um(this._driver,e,o,nm,$c,new Map,new Map,i,U3,r),s.forEach(u=>{const d=nn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function j$(){return new E(3300,!1)}()),s=[]),r.length)throw function $$(n){return new E(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Mi))})});const c=$i(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function G$(n){return new E(3301,!1)}();return e}listen(t,e,i,r){const o=Xp(e,"","","");return Zp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const B0="ng-animate-queued",pm="ng-animate-disabled",K3=[],H0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yn="__ng_removed";class mm{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function J3(n){return n??null}(i?t.value:t),i){const o=da(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const fa="void",gm=new mm(fa);class Z3{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function W$(n,t){return new E(3302,!1)}();if(null==i||0==i.length)throw function q$(n){return new E(3303,!1)}();if(!function e8(n){return"start"==n||"done"==n}(i))throw function K$(n,t){return new E(3400,!1)}();const o=nn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=nn(this._engine.statesByElement,t,new Map);return a.has(e)||(vn(t,Gc),vn(t,Gc+"-"+e),a.set(e,gm)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Y$(n){return new E(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new _m(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(vn(t,Gc),vn(t,Gc+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new mm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=gm),c.value!==fa&&l.value===c.value){if(!function i8(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const _=[],v=o.matchStyles(l.value,l.params,_),w=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Sr(t,v),ei(t,w)})}return}const h=nn(this._engine.playersByElement,t,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(vn(t,B0),s.onStart(()=>{Ho(t,B0)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const v=this._engine.playersByElement.get(t);if(v){let w=v.indexOf(s);w>=0&&v.splice(w,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Wc,!0);i.forEach(r=>{if(r[yn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,fa,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&$i(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||gm,u=new mm(fa),d=new _m(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[yn];(!o||o===H0)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){vn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Xp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Zp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Q3{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Z3(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(ru(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ru(e))return;const o=e[yn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vn(t,pm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ho(t,pm))}removeNode(t,e,i,r){if(ru(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[yn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ru(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Wc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,im,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $i(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[yn];if(e&&e.setForRemoval){if(t[yn]=H0,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(pm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)vn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?$i(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Z$(n){return new E(3402,!1)}()}_flushAnimations(t,e){const i=new tu,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(x=>{u.add(x);const P=this.driver.query(x,".ng-animate-queued",!0);for(let U=0;U<P.length;U++)u.add(P[U])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=j0(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((x,P)=>{const U=nm+_++;p.set(P,U),x.forEach(ae=>vn(ae,U))});const v=[],w=new Set,D=new Set;for(let x=0;x<this.collectedLeaveElements.length;x++){const P=this.collectedLeaveElements[x],U=P[yn];U&&U.setForRemoval&&(v.push(P),w.add(P),U.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(ae=>w.add(ae)):D.add(P))}const C=new Map,M=j0(h,Array.from(w));M.forEach((x,P)=>{const U=$c+_++;C.set(P,U),x.forEach(ae=>vn(ae,U))}),t.push(()=>{f.forEach((x,P)=>{const U=p.get(P);x.forEach(ae=>Ho(ae,U))}),M.forEach((x,P)=>{const U=C.get(P);x.forEach(ae=>Ho(ae,U))}),v.forEach(x=>{this.processLeaveNode(x)})});const O=[],L=[];for(let x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(e).forEach(U=>{const ae=U.player,dt=U.element;if(O.push(ae),this.collectedEnterElements.length){const Rt=dt[yn];if(Rt&&Rt.setForMove){if(Rt.previousTriggersValues&&Rt.previousTriggersValues.has(U.triggerName)){const Rr=Rt.previousTriggersValues.get(U.triggerName),Cn=this.statesByElement.get(U.element);if(Cn&&Cn.has(U.triggerName)){const au=Cn.get(U.triggerName);au.value=Rr,Cn.set(U.triggerName,au)}}return void ae.destroy()}}const ti=!d||!this.driver.containsElement(d,dt),on=C.get(dt),qi=p.get(dt),He=this._buildInstruction(U,i,qi,on,ti);if(He.errors&&He.errors.length)return void L.push(He);if(ti)return ae.onStart(()=>Sr(dt,He.fromStyles)),ae.onDestroy(()=>ei(dt,He.toStyles)),void r.push(ae);if(U.isFallbackTransition)return ae.onStart(()=>Sr(dt,He.fromStyles)),ae.onDestroy(()=>ei(dt,He.toStyles)),void r.push(ae);const X0=[];He.timelines.forEach(Rt=>{Rt.stretchStartingKeyframe=!0,this.disabledNodes.has(Rt.element)||X0.push(Rt)}),He.timelines=X0,i.append(dt,He.timelines),s.push({instruction:He,player:ae,element:dt}),He.queriedElements.forEach(Rt=>nn(a,Rt,[]).push(ae)),He.preStyleProps.forEach((Rt,Rr)=>{if(Rt.size){let Cn=l.get(Rr);Cn||l.set(Rr,Cn=new Set),Rt.forEach((au,wm)=>Cn.add(wm))}}),He.postStyleProps.forEach((Rt,Rr)=>{let Cn=c.get(Rr);Cn||c.set(Rr,Cn=new Set),Rt.forEach((au,wm)=>Cn.add(wm))})});if(L.length){const x=[];L.forEach(P=>{x.push(function Q$(n,t){return new E(3505,!1)}())}),O.forEach(P=>P.destroy()),this.reportError(x)}const se=new Map,Be=new Map;s.forEach(x=>{const P=x.element;i.has(P)&&(Be.set(P,P),this._beforeAnimationBuild(x.player.namespaceId,x.instruction,se))}),r.forEach(x=>{const P=x.element;this._getPreviousPlayers(P,!1,x.namespaceId,x.triggerName,null).forEach(ae=>{nn(se,P,[]).push(ae),ae.destroy()})});const ct=v.filter(x=>G0(x,l,c)),xe=new Map;U0(xe,this.driver,D,c,Mi).forEach(x=>{G0(x,l,c)&&ct.push(x)});const Vt=new Map;f.forEach((x,P)=>{U0(Vt,this.driver,new Set(x),l,"!")}),ct.forEach(x=>{const P=xe.get(x),U=Vt.get(x);xe.set(x,new Map([...Array.from(P?.entries()??[]),...Array.from(U?.entries()??[])]))});const St=[],Mt=[],wn={};s.forEach(x=>{const{element:P,player:U,instruction:ae}=x;if(i.has(P)){if(u.has(P))return U.onDestroy(()=>ei(P,ae.toStyles)),U.disabled=!0,U.overrideTotalTime(ae.totalTime),void r.push(U);let dt=wn;if(Be.size>1){let on=P;const qi=[];for(;on=on.parentNode;){const He=Be.get(on);if(He){dt=He;break}qi.push(on)}qi.forEach(He=>Be.set(He,dt))}const ti=this._buildAnimation(U.namespaceId,ae,se,o,Vt,xe);if(U.setRealPlayer(ti),dt===wn)St.push(U);else{const on=this.playersByElement.get(dt);on&&on.length&&(U.parentPlayer=$i(on)),r.push(U)}}else Sr(P,ae.fromStyles),U.onDestroy(()=>ei(P,ae.toStyles)),Mt.push(U),u.has(P)&&r.push(U)}),Mt.forEach(x=>{const P=o.get(x.element);if(P&&P.length){const U=$i(P);x.setRealPlayer(U)}}),r.forEach(x=>{x.parentPlayer?x.syncPlayerEvents(x.parentPlayer):x.destroy()});for(let x=0;x<v.length;x++){const P=v[x],U=P[yn];if(Ho(P,$c),U&&U.hasAnimation)continue;let ae=[];if(a.size){let ti=a.get(P);ti&&ti.length&&ae.push(...ti);let on=this.driver.query(P,im,!0);for(let qi=0;qi<on.length;qi++){let He=a.get(on[qi]);He&&He.length&&ae.push(...He)}}const dt=ae.filter(ti=>!ti.destroyed);dt.length?t8(this,P,dt):this.processLeaveNode(P)}return v.length=0,St.forEach(x=>{this.players.push(x),x.onDone(()=>{x.destroy();const P=this.players.indexOf(x);this.players.splice(P,1)}),x.play()}),St}elementContainsData(t,e){let i=!1;const r=e[yn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==fa;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=nn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Sr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const _=p.element;u.add(_);const v=_[yn];if(v&&v.removedBeforeQueried)return new sa(p.duration,p.delay);const w=_!==l,D=function n8(n){const t=[];return $0(n,t),t}((i.get(_)||K3).map(se=>se.getRealPlayer())).filter(se=>!!se.element&&se.element===_),C=o.get(_),M=s.get(_),O=g0(0,this._normalizer,0,p.keyframes,C,M),L=this._buildPlayer(p,O,D);if(p.subTimeline&&r&&d.add(_),w){const se=new _m(t,a,_);se.setRealPlayer(L),c.push(se)}return L});c.forEach(p=>{nn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function X3(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>vn(p,S0));const f=$i(h);return f.onDestroy(()=>{u.forEach(p=>Ho(p,S0)),ei(l,e.toStyles)}),d.forEach(p=>{nn(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new sa(t.duration,t.delay)}}class _m{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new sa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Zp(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){nn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ru(n){return n&&1===n.nodeType}function z0(n,t){const e=n.style.display;return n.style.display=t??"none",e}function U0(n,t,e,i,r){const o=[];e.forEach(l=>o.push(z0(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[yn]=Y3,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>z0(l,o[a++])),s}function j0(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function vn(n,t){n.classList?.add(t)}function Ho(n,t){n.classList?.remove(t)}function t8(n,t,e){$i(e).onDone(()=>n.processLeaveNode(t))}function $0(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ZE?$0(i.players,t):t.push(i)}}function G0(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class ou{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Q3(t,e,i),this._timelineEngine=new j3(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=am(this._driver,o,l,[]);if(l.length)throw function H$(n,t){return new E(3404,!1)}();a=function B3(n,t,e){return new H3(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=_0(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=_0(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let o8=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ei(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ei(this._element,this._initialStyles),this._endStyles&&(ei(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),ei(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ym(n){let t=null;return n.forEach((e,i)=>{(function s8(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class W0{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:I0(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class a8{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return C0(t,e)}getParentElement(t){return em(t)}query(t,e,i){return b0(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof W0);(function d3(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,_)=>c.set(_,p))});let d=function a3(n){return n.length?n[0]instanceof Map?n:n.map(t=>M0(t)):[]}(e).map(f=>Wi(f));d=function h3(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,I0(n,a)))}}return t}(t,d,c);const h=function r8(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ym(t[0]),t.length>1&&(i=ym(t[t.length-1]))):t instanceof Map&&(e=ym(t)),e||i?new o8(n,e,i):null}(t,d);return new W0(t,d,l,h)}}let l8=(()=>{class n extends $E{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Dn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?WE(e):e;return q0(this._renderer,null,i,"register",[r]),new c8(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(R(us),R(ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class c8 extends class RU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new u8(this._id,t,e||{},this._renderer)}}class u8{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return q0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function q0(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const K0="@.disabled";let d8=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new Y0("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new h8(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(R(us),R(ou),R(re))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class Y0{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==K0?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class h8 extends Y0{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==K0?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function f8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function p8(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const Z0=[{provide:$E,useClass:l8},{provide:hm,useFactory:function g8(){return new N3}},{provide:ou,useClass:(()=>{class n extends ou{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(R(ue),R(tm),R(hm),R(Ts))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})()},{provide:us,useFactory:function _8(n,t,e){return new d8(n,t,e)},deps:[Gl,ou,re]}],vm=[{provide:tm,useFactory:()=>new a8},{provide:bo,useValue:"BrowserAnimations"},...Z0],Q0=[{provide:tm,useClass:D0},{provide:bo,useValue:"NoopAnimations"},...Z0];let y8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Q0:vm}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Fe({providers:vm,imports:[mb]}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n,bootstrap:[y$]}),n.\u0275inj=Fe({providers:[{provide:Rc,useValue:{coreLibraryLoader:()=>et.e(112).then(et.bind(et,112)),lineNumbersLoader:()=>et.e(859).then(et.t.bind(et,859,23)),languages:{typescript:()=>et.e(535).then(et.bind(et,535)),css:()=>et.e(403).then(et.bind(et,403)),xml:()=>et.e(142).then(et.bind(et,142)),shell:()=>et.e(924).then(et.bind(et,924))},themePath:"assets/github.css"}}],imports:[mb,lU,y8,iU,zU,Hz,qU,Wz,p$]}),n})();(function ZF(){wC=!1})(),pL().bootstrapModule(v8).catch(n=>console.error(n))}},lu=>{lu(lu.s=794)}]);